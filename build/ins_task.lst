ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ins_task.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.quaternion_conjugate,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	quaternion_conjugate:
  26              	.LVL0:
  27              	.LFB184:
  28              		.file 1 "Application/ins_task.c"
   1:Application/ins_task.c **** #include "ins_task.h"
   2:Application/ins_task.c **** #include "QuaternionAHRS.h"
   3:Application/ins_task.c **** #include "exo_controller.h"
   4:Application/ins_task.c **** #include "QuaternionEKF.h"
   5:Application/ins_task.c **** #include "dm_imu.h"
   6:Application/ins_task.c **** #include "arm_math.h"
   7:Application/ins_task.c **** #include "tim.h"
   8:Application/ins_task.c **** 
   9:Application/ins_task.c **** QuaternionBuf_t QuaternionBuffer;
  10:Application/ins_task.c **** PID_t TempCtrl = {0};
  11:Application/ins_task.c **** 
  12:Application/ins_task.c **** const float gravity[3] = {0, 0, 9.81f};
  13:Application/ins_task.c **** const float xb[3] = {1, 0, 0};
  14:Application/ins_task.c **** const float yb[3] = {0, 1, 0};
  15:Application/ins_task.c **** const float zb[3] = {0, 0, 1};
  16:Application/ins_task.c **** 
  17:Application/ins_task.c **** uint32_t INS_DWT_Count = 0;
  18:Application/ins_task.c **** static float dt = 0, t = 0;
  19:Application/ins_task.c **** float RefTemp = 40;
  20:Application/ins_task.c **** 
  21:Application/ins_task.c **** static void IMU_Param_Correction(imu_cali_param_t *param, float gyro[3], float accel[3]);
  22:Application/ins_task.c **** static void get_INS_from_imu(INS_t *ins, float *accel, float *gyro);
  23:Application/ins_task.c **** static void get_INS_from_imu2(INS_t *ins, float *accel, float *gyro);
  24:Application/ins_task.c **** 
  25:Application/ins_task.c **** void INS_Init(void)
  26:Application/ins_task.c **** {
  27:Application/ins_task.c ****     // gEstimateKF_Init(0.01, 1000);
  28:Application/ins_task.c ****     BMI088_Read(&BMI088);
  29:Application/ins_task.c **** 
  30:Application/ins_task.c ****     exo_controller.xzy_shoulder.dm_imu.send_reg = 0x01;
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 2


  31:Application/ins_task.c ****     IMU_RequestData(&hcan2, 0x01, exo_controller.xzy_shoulder.dm_imu.send_reg);
  32:Application/ins_task.c **** 
  33:Application/ins_task.c ****     // exo_controller.xzy_shoulder.INS_shoulder.AccelLPF = 0.0085;
  34:Application/ins_task.c **** 
  35:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.scale[X] = 1;
  36:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.scale[Y] = 1;
  37:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.scale[Z] = 1;
  38:Application/ins_task.c **** 
  39:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.Yaw = 0;
  40:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.Pitch = 0;
  41:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.Roll = 0;
  42:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.flag = 1;
  43:Application/ins_task.c **** 
  44:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.scale[X] = 1;
  45:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.scale[Y] = 1;
  46:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.scale[Z] = 1;
  47:Application/ins_task.c **** 
  48:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.Yaw = 0;
  49:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.Pitch = 0;
  50:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.Roll = 0;
  51:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.flag = 1;
  52:Application/ins_task.c **** 
  53:Application/ins_task.c ****     IMU_QuaternionEKF_Init(10, 0.001, 1000000 * 10, 0.9996 * 0 + 1, 0);
  54:Application/ins_task.c ****     // imu heat init
  55:Application/ins_task.c ****     PID_Init(&TempCtrl, 2000, 300, 0, 1000, 20, 0, 0, 0, 0, 0, 0, 0);
  56:Application/ins_task.c ****     HAL_TIM_PWM_Start(&htim10, TIM_CHANNEL_1);
  57:Application/ins_task.c **** }
  58:Application/ins_task.c **** 
  59:Application/ins_task.c **** void INS_Task(void)
  60:Application/ins_task.c **** {
  61:Application/ins_task.c ****     static uint32_t count = 0;
  62:Application/ins_task.c ****     const float gravity[3] = {0, 0, 9.81f};
  63:Application/ins_task.c ****     dt = DWT_GetDeltaT(&INS_DWT_Count);
  64:Application/ins_task.c ****     t += dt;
  65:Application/ins_task.c **** 
  66:Application/ins_task.c ****     // ins update
  67:Application/ins_task.c ****     if ((count % 1) == 0)
  68:Application/ins_task.c ****     {
  69:Application/ins_task.c ****         BMI088_Read(&BMI088);
  70:Application/ins_task.c ****         get_INS_from_imu2(&exo_controller.INS_torso, BMI088.Accel, BMI088.Gyro);
  71:Application/ins_task.c **** 
  72:Application/ins_task.c ****         if (exo_controller.xzy_shoulder.dm_imu.send_reg == 0x01)
  73:Application/ins_task.c ****             exo_controller.xzy_shoulder.dm_imu.send_reg = 0x02; // 0x01:accel, 0x02:gyro, 0x03:eule
  74:Application/ins_task.c ****         else if (exo_controller.xzy_shoulder.dm_imu.send_reg == 0x02)
  75:Application/ins_task.c ****             exo_controller.xzy_shoulder.dm_imu.send_reg = 0x01;
  76:Application/ins_task.c ****         IMU_RequestData(&hcan2, 0x01, exo_controller.xzy_shoulder.dm_imu.send_reg);
  77:Application/ins_task.c ****         get_INS_from_imu(&exo_controller.xzy_shoulder.INS_shoulder,
  78:Application/ins_task.c ****                          exo_controller.xzy_shoulder.dm_imu.accel, exo_controller.xzy_shoulder.dm_i
  79:Application/ins_task.c **** 
  80:Application/ins_task.c ****         // 创建结构体实例
  81:Application/ins_task.c ****         Quaternion torso_q_struct;
  82:Application/ins_task.c ****         Quaternion humerus_q_struct;
  83:Application/ins_task.c ****         EulerAnglesXZY result_angles_struct;
  84:Application/ins_task.c **** 
  85:Application/ins_task.c ****         // 将数组数据填充到结构体中
  86:Application/ins_task.c ****         torso_q_struct.w = exo_controller.INS_torso.q[0];
  87:Application/ins_task.c ****         torso_q_struct.x = exo_controller.INS_torso.q[1];
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 3


  88:Application/ins_task.c ****         torso_q_struct.y = exo_controller.INS_torso.q[2];
  89:Application/ins_task.c ****         torso_q_struct.z = exo_controller.INS_torso.q[3];
  90:Application/ins_task.c ****         humerus_q_struct.w = exo_controller.xzy_shoulder.INS_shoulder.q[0];
  91:Application/ins_task.c ****         humerus_q_struct.x = exo_controller.xzy_shoulder.INS_shoulder.q[1];
  92:Application/ins_task.c ****         humerus_q_struct.y = exo_controller.xzy_shoulder.INS_shoulder.q[2];
  93:Application/ins_task.c ****         humerus_q_struct.z = exo_controller.xzy_shoulder.INS_shoulder.q[3];
  94:Application/ins_task.c **** 
  95:Application/ins_task.c ****         get_shoulder_angles_wrt_torso(&torso_q_struct, &humerus_q_struct, &exo_controller.shoulder_
  96:Application/ins_task.c ****         exo_controller.shoulder_xzy_angle_wrt_torso.phi_x *= RADIAN_COEF;
  97:Application/ins_task.c ****         exo_controller.shoulder_xzy_angle_wrt_torso.psi_z *= RADIAN_COEF;
  98:Application/ins_task.c ****         exo_controller.shoulder_xzy_angle_wrt_torso.theta_y *= RADIAN_COEF;
  99:Application/ins_task.c ****     }
 100:Application/ins_task.c **** 
 101:Application/ins_task.c ****     // temperature control
 102:Application/ins_task.c ****     if ((count % 2) == 0)
 103:Application/ins_task.c ****     {
 104:Application/ins_task.c ****         // 500hz
 105:Application/ins_task.c ****         IMU_Temperature_Ctrl();
 106:Application/ins_task.c ****         if (GlobalDebugMode == IMU_HEAT_DEBUG)
 107:Application/ins_task.c ****             Serial_Debug(&huart1, 1, RefTemp, BMI088.Temperature, TempCtrl.Output / 1000.0f, TempCt
 108:Application/ins_task.c ****     }
 109:Application/ins_task.c **** 
 110:Application/ins_task.c ****     if ((count % 1000) == 0)
 111:Application/ins_task.c ****     {
 112:Application/ins_task.c ****         // 200hz
 113:Application/ins_task.c ****     }
 114:Application/ins_task.c **** 
 115:Application/ins_task.c ****     count++;
 116:Application/ins_task.c **** }
 117:Application/ins_task.c **** 
 118:Application/ins_task.c **** static void get_INS_from_imu(INS_t *ins, float *accel, float *gyro)
 119:Application/ins_task.c **** {
 120:Application/ins_task.c ****     ins->Accel[X] = -accel[Y];
 121:Application/ins_task.c ****     ins->Accel[Y] = -accel[Z];
 122:Application/ins_task.c ****     ins->Accel[Z] = accel[X];
 123:Application/ins_task.c ****     ins->Gyro[X] = -gyro[Y];
 124:Application/ins_task.c ****     ins->Gyro[Y] = -gyro[Z];
 125:Application/ins_task.c ****     ins->Gyro[Z] = gyro[X];
 126:Application/ins_task.c **** 
 127:Application/ins_task.c ****     IMU_Param_Correction(&ins->imu_cali_param, ins->Gyro, ins->Accel);
 128:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
 129:Application/ins_task.c ****     ins->atanyz = atan2f(ins->Accel[Y], ins->Accel[Z]) * 180 / PI;
 130:Application/ins_task.c **** 
 131:Application/ins_task.c ****     // Quaternion_AHRS_UpdateIMU(ins->Gyro[X], ins->Gyro[Y], ins->Gyro[Z], ins->Accel[X], ins->Acce
 132:Application/ins_task.c ****     IMU_QuaternionEKF_Update(ins->Gyro[X], ins->Gyro[Y], ins->Gyro[Z], ins->Accel[X], ins->Accel[Y]
 133:Application/ins_task.c **** 
 134:Application/ins_task.c ****     float *q = QEKF_INS.q;
 135:Application/ins_task.c ****     memcpy(ins->q, QEKF_INS.q, sizeof(QEKF_INS.q));
 136:Application/ins_task.c ****     ins->xzy_order_angle[1] = -asinf(2 * (q[1] * q[2] - q[0] * q[3])) * 57.295779513f;
 137:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 138:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 139:Application/ins_task.c **** 
 140:Application/ins_task.c ****     BodyFrameToEarthFrame(xb, ins->xn, ins->q);
 141:Application/ins_task.c ****     BodyFrameToEarthFrame(yb, ins->yn, ins->q);
 142:Application/ins_task.c ****     BodyFrameToEarthFrame(zb, ins->zn, ins->q);
 143:Application/ins_task.c **** 
 144:Application/ins_task.c ****     float gravity_b[3];
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 4


 145:Application/ins_task.c ****     EarthFrameToBodyFrame(gravity, gravity_b, ins->q);
 146:Application/ins_task.c ****     for (uint8_t i = 0; i < 3; i++)
 147:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 148:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 149:Application/ins_task.c **** 
 150:Application/ins_task.c ****     memcpy(ins->Gyro, QEKF_INS.Gyro, sizeof(QEKF_INS.Gyro));
 151:Application/ins_task.c ****     memcpy(ins->Accel, QEKF_INS.Accel, sizeof(QEKF_INS.Accel));
 152:Application/ins_task.c ****     memcpy(ins->q, QEKF_INS.q, sizeof(QEKF_INS.q));
 153:Application/ins_task.c ****     ins->Yaw = QEKF_INS.Yaw;
 154:Application/ins_task.c ****     ins->Pitch = QEKF_INS.Pitch;
 155:Application/ins_task.c ****     // ins->Roll = QEKF_INS.Roll;
 156:Application/ins_task.c ****     ins->YawTotalAngle = QEKF_INS.YawTotalAngle;
 157:Application/ins_task.c **** 
 158:Application/ins_task.c ****     InsertQuaternionFrame(&QuaternionBuffer, ins->q, ins->MotionAccel_n, INS_GetTimeline());
 159:Application/ins_task.c **** 
 160:Application/ins_task.c ****     // Get_EulerAngle(AHRS.q);
 161:Application/ins_task.c **** }
 162:Application/ins_task.c **** 
 163:Application/ins_task.c **** static void get_INS_from_imu2(INS_t *ins, float *accel, float *gyro)
 164:Application/ins_task.c **** {
 165:Application/ins_task.c ****     ins->Accel[X] = -accel[Z];
 166:Application/ins_task.c ****     ins->Accel[Y] = accel[Y];
 167:Application/ins_task.c ****     ins->Accel[Z] = accel[X];
 168:Application/ins_task.c ****     ins->Gyro[X] = -gyro[Z];
 169:Application/ins_task.c ****     ins->Gyro[Y] = gyro[Y];
 170:Application/ins_task.c ****     ins->Gyro[Z] = gyro[X];
 171:Application/ins_task.c **** 
 172:Application/ins_task.c ****     IMU_Param_Correction(&ins->imu_cali_param, ins->Gyro, ins->Accel);
 173:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
 174:Application/ins_task.c ****     ins->atanyz = atan2f(ins->Accel[Y], ins->Accel[Z]) * 180 / PI;
 175:Application/ins_task.c **** 
 176:Application/ins_task.c ****     // Quaternion_AHRS_UpdateIMU(ins->Gyro[X], ins->Gyro[Y], ins->Gyro[Z], ins->Accel[X], ins->Acce
 177:Application/ins_task.c ****     IMU_QuaternionEKF_Update(ins->Gyro[X], ins->Gyro[Y], ins->Gyro[Z], ins->Accel[X], ins->Accel[Y]
 178:Application/ins_task.c **** 
 179:Application/ins_task.c ****     float *q = QEKF_INS.q;
 180:Application/ins_task.c ****     memcpy(ins->q, QEKF_INS.q, sizeof(QEKF_INS.q));
 181:Application/ins_task.c ****     ins->xzy_order_angle[1] = -asinf(2 * (q[1] * q[2] - q[0] * q[3])) * 57.295779513f;
 182:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 183:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 184:Application/ins_task.c **** 
 185:Application/ins_task.c ****     BodyFrameToEarthFrame(xb, ins->xn, ins->q);
 186:Application/ins_task.c ****     BodyFrameToEarthFrame(yb, ins->yn, ins->q);
 187:Application/ins_task.c ****     BodyFrameToEarthFrame(zb, ins->zn, ins->q);
 188:Application/ins_task.c **** 
 189:Application/ins_task.c ****     float gravity_b[3];
 190:Application/ins_task.c ****     EarthFrameToBodyFrame(gravity, gravity_b, ins->q);
 191:Application/ins_task.c ****     for (uint8_t i = 0; i < 3; i++)
 192:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 193:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 194:Application/ins_task.c **** 
 195:Application/ins_task.c ****     memcpy(ins->Gyro, QEKF_INS.Gyro, sizeof(QEKF_INS.Gyro));
 196:Application/ins_task.c ****     memcpy(ins->Accel, QEKF_INS.Accel, sizeof(QEKF_INS.Accel));
 197:Application/ins_task.c ****     memcpy(ins->q, QEKF_INS.q, sizeof(QEKF_INS.q));
 198:Application/ins_task.c ****     ins->Yaw = QEKF_INS.Yaw;
 199:Application/ins_task.c ****     ins->Pitch = QEKF_INS.Pitch;
 200:Application/ins_task.c ****     // ins->Roll = QEKF_INS.Roll;
 201:Application/ins_task.c ****     ins->YawTotalAngle = QEKF_INS.YawTotalAngle;
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 5


 202:Application/ins_task.c **** 
 203:Application/ins_task.c ****     InsertQuaternionFrame(&QuaternionBuffer, ins->q, ins->MotionAccel_n, INS_GetTimeline());
 204:Application/ins_task.c **** 
 205:Application/ins_task.c ****     // Get_EulerAngle(AHRS.q);
 206:Application/ins_task.c **** }
 207:Application/ins_task.c **** 
 208:Application/ins_task.c **** /**
 209:Application/ins_task.c ****  * @brief        Update quaternion
 210:Application/ins_task.c ****  */
 211:Application/ins_task.c **** void QuaternionUpdate(float *q, float gx, float gy, float gz, float dt)
 212:Application/ins_task.c **** {
 213:Application/ins_task.c ****     float qa, qb, qc;
 214:Application/ins_task.c **** 
 215:Application/ins_task.c ****     gx *= 0.5f * dt;
 216:Application/ins_task.c ****     gy *= 0.5f * dt;
 217:Application/ins_task.c ****     gz *= 0.5f * dt;
 218:Application/ins_task.c ****     qa = q[0];
 219:Application/ins_task.c ****     qb = q[1];
 220:Application/ins_task.c ****     qc = q[2];
 221:Application/ins_task.c ****     q[0] += (-qb * gx - qc * gy - q[3] * gz);
 222:Application/ins_task.c ****     q[1] += (qa * gx + qc * gz - q[3] * gy);
 223:Application/ins_task.c ****     q[2] += (qa * gy - qb * gz + q[3] * gx);
 224:Application/ins_task.c ****     q[3] += (qa * gz + qb * gy - qc * gx);
 225:Application/ins_task.c **** }
 226:Application/ins_task.c **** 
 227:Application/ins_task.c **** /**
 228:Application/ins_task.c ****  * @brief        Convert quaternion to eular angle
 229:Application/ins_task.c ****  */
 230:Application/ins_task.c **** void QuaternionToEularAngle(float *q, float *Yaw, float *Pitch, float *Roll)
 231:Application/ins_task.c **** {
 232:Application/ins_task.c ****     *Yaw = atan2f(2.0f * (q[0] * q[3] + q[1] * q[2]), 2.0f * (q[0] * q[0] + q[1] * q[1]) - 1.0f) * 
 233:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 234:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 235:Application/ins_task.c **** }
 236:Application/ins_task.c **** 
 237:Application/ins_task.c **** /**
 238:Application/ins_task.c ****  * @brief        Convert eular angle to quaternion
 239:Application/ins_task.c ****  */
 240:Application/ins_task.c **** void EularAngleToQuaternion(float Yaw, float Pitch, float Roll, float *q)
 241:Application/ins_task.c **** {
 242:Application/ins_task.c ****     float cosPitch, cosYaw, cosRoll, sinPitch, sinYaw, sinRoll;
 243:Application/ins_task.c ****     Yaw /= 57.295779513f;
 244:Application/ins_task.c ****     Pitch /= 57.295779513f;
 245:Application/ins_task.c ****     Roll /= 57.295779513f;
 246:Application/ins_task.c ****     cosPitch = arm_cos_f32(Pitch / 2);
 247:Application/ins_task.c ****     cosYaw = arm_cos_f32(Yaw / 2);
 248:Application/ins_task.c ****     cosRoll = arm_cos_f32(Roll / 2);
 249:Application/ins_task.c ****     sinPitch = arm_sin_f32(Pitch / 2);
 250:Application/ins_task.c ****     sinYaw = arm_sin_f32(Yaw / 2);
 251:Application/ins_task.c ****     sinRoll = arm_sin_f32(Roll / 2);
 252:Application/ins_task.c ****     q[0] = cosPitch * cosRoll * cosYaw + sinPitch * sinRoll * sinYaw;
 253:Application/ins_task.c ****     q[1] = sinPitch * cosRoll * cosYaw - cosPitch * sinRoll * sinYaw;
 254:Application/ins_task.c ****     q[2] = sinPitch * cosRoll * sinYaw + cosPitch * sinRoll * cosYaw;
 255:Application/ins_task.c ****     q[3] = cosPitch * cosRoll * sinYaw - sinPitch * sinRoll * cosYaw;
 256:Application/ins_task.c **** }
 257:Application/ins_task.c **** 
 258:Application/ins_task.c **** void InsertQuaternionFrame(QuaternionBuf_t *qBuf, float *q, float *motion_acc_n, uint32_t time_stam
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 6


 259:Application/ins_task.c **** {
 260:Application/ins_task.c ****     if (qBuf->LatestNum == Q_FRAME_LEN - 1)
 261:Application/ins_task.c ****         qBuf->LatestNum = 0;
 262:Application/ins_task.c ****     else
 263:Application/ins_task.c ****         qBuf->LatestNum++;
 264:Application/ins_task.c **** 
 265:Application/ins_task.c ****     qBuf->qFrame[qBuf->LatestNum].TimeStamp_ms = time_stamp_ms;
 266:Application/ins_task.c ****     for (uint16_t i = 0; i < 4; i++)
 267:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].q[i] = q[i];
 268:Application/ins_task.c ****     for (uint16_t i = 0; i < 3; i++)
 269:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].MotionAccel_n[i] = motion_acc_n[i];
 270:Application/ins_task.c **** }
 271:Application/ins_task.c **** 
 272:Application/ins_task.c **** uint16_t FindTimeMatchFrame(QuaternionBuf_t *qBuf, uint32_t match_time_stamp_ms)
 273:Application/ins_task.c **** {
 274:Application/ins_task.c ****     int min_time_error = abs(qBuf->qFrame[0].TimeStamp_ms - match_time_stamp_ms);
 275:Application/ins_task.c ****     uint16_t num = 0;
 276:Application/ins_task.c ****     for (uint16_t i = 0; i < Q_FRAME_LEN; i++)
 277:Application/ins_task.c ****     {
 278:Application/ins_task.c ****         if (abs(qBuf->qFrame[i].TimeStamp_ms - match_time_stamp_ms) < min_time_error)
 279:Application/ins_task.c ****         {
 280:Application/ins_task.c ****             min_time_error = abs(qBuf->qFrame[i].TimeStamp_ms - match_time_stamp_ms);
 281:Application/ins_task.c ****             num = i;
 282:Application/ins_task.c ****         }
 283:Application/ins_task.c ****     }
 284:Application/ins_task.c ****     return num;
 285:Application/ins_task.c **** }
 286:Application/ins_task.c **** 
 287:Application/ins_task.c **** /**
 288:Application/ins_task.c ****  * @brief          Transform 3dvector from BodyFrame to EarthFrame
 289:Application/ins_task.c ****  * @param[1]       vector in BodyFrame
 290:Application/ins_task.c ****  * @param[2]       vector in EarthFrame
 291:Application/ins_task.c ****  * @param[3]       quaternion
 292:Application/ins_task.c ****  */
 293:Application/ins_task.c **** void BodyFrameToEarthFrame(const float *vecBF, float *vecEF, float *q)
 294:Application/ins_task.c **** {
 295:Application/ins_task.c ****     vecEF[0] = 2.0f * ((0.5f - q[2] * q[2] - q[3] * q[3]) * vecBF[0] +
 296:Application/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 297:Application/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 298:Application/ins_task.c **** 
 299:Application/ins_task.c ****     vecEF[1] = 2.0f * ((q[1] * q[2] + q[0] * q[3]) * vecBF[0] +
 300:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 301:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 302:Application/ins_task.c **** 
 303:Application/ins_task.c ****     vecEF[2] = 2.0f * ((q[1] * q[3] - q[0] * q[2]) * vecBF[0] +
 304:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 305:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 306:Application/ins_task.c **** }
 307:Application/ins_task.c **** 
 308:Application/ins_task.c **** /**
 309:Application/ins_task.c ****  * @brief          Transform 3dvector from EarthFrame to BodyFrame
 310:Application/ins_task.c ****  * @param[1]       vector in EarthFrame
 311:Application/ins_task.c ****  * @param[2]       vector in BodyFrame
 312:Application/ins_task.c ****  * @param[3]       quaternion
 313:Application/ins_task.c ****  */
 314:Application/ins_task.c **** void EarthFrameToBodyFrame(const float *vecEF, float *vecBF, float *q)
 315:Application/ins_task.c **** {
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 7


 316:Application/ins_task.c ****     vecBF[0] = 2.0f * ((0.5f - q[2] * q[2] - q[3] * q[3]) * vecEF[0] +
 317:Application/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 318:Application/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 319:Application/ins_task.c **** 
 320:Application/ins_task.c ****     vecBF[1] = 2.0f * ((q[1] * q[2] - q[0] * q[3]) * vecEF[0] +
 321:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 322:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 323:Application/ins_task.c **** 
 324:Application/ins_task.c ****     vecBF[2] = 2.0f * ((q[1] * q[3] + q[0] * q[2]) * vecEF[0] +
 325:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 326:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 327:Application/ins_task.c **** }
 328:Application/ins_task.c **** 
 329:Application/ins_task.c **** static void IMU_Param_Correction(imu_cali_param_t *param, float gyro[3], float accel[3])
 330:Application/ins_task.c **** {
 331:Application/ins_task.c ****     static float lastYawOffset, lastPitchOffset, lastRollOffset;
 332:Application/ins_task.c ****     static float c_11, c_12, c_13, c_21, c_22, c_23, c_31, c_32, c_33;
 333:Application/ins_task.c ****     float cosPitch, cosYaw, cosRoll, sinPitch, sinYaw, sinRoll;
 334:Application/ins_task.c **** 
 335:Application/ins_task.c ****     if (fabsf(param->Yaw - lastYawOffset) > 0.001f ||
 336:Application/ins_task.c ****         fabsf(param->Pitch - lastPitchOffset) > 0.001f ||
 337:Application/ins_task.c ****         fabsf(param->Roll - lastRollOffset) > 0.001f || param->flag)
 338:Application/ins_task.c ****     {
 339:Application/ins_task.c ****         cosYaw = arm_cos_f32(param->Yaw / 57.295779513f);
 340:Application/ins_task.c ****         cosPitch = arm_cos_f32(param->Pitch / 57.295779513f);
 341:Application/ins_task.c ****         cosRoll = arm_cos_f32(param->Roll / 57.295779513f);
 342:Application/ins_task.c ****         sinYaw = arm_sin_f32(param->Yaw / 57.295779513f);
 343:Application/ins_task.c ****         sinPitch = arm_sin_f32(param->Pitch / 57.295779513f);
 344:Application/ins_task.c ****         sinRoll = arm_sin_f32(param->Roll / 57.295779513f);
 345:Application/ins_task.c **** 
 346:Application/ins_task.c ****         // 1.yaw(alpha) 2.pitch(beta) 3.roll(gamma)
 347:Application/ins_task.c ****         c_11 = cosYaw * cosRoll + sinYaw * sinPitch * sinRoll;
 348:Application/ins_task.c ****         c_12 = cosPitch * sinYaw;
 349:Application/ins_task.c ****         c_13 = cosYaw * sinRoll - cosRoll * sinYaw * sinPitch;
 350:Application/ins_task.c ****         c_21 = cosYaw * sinPitch * sinRoll - cosRoll * sinYaw;
 351:Application/ins_task.c ****         c_22 = cosYaw * cosPitch;
 352:Application/ins_task.c ****         c_23 = -sinYaw * sinRoll - cosYaw * cosRoll * sinPitch;
 353:Application/ins_task.c ****         c_31 = -cosPitch * sinRoll;
 354:Application/ins_task.c ****         c_32 = sinPitch;
 355:Application/ins_task.c ****         c_33 = cosPitch * cosRoll;
 356:Application/ins_task.c ****         param->flag = 0;
 357:Application/ins_task.c ****     }
 358:Application/ins_task.c ****     float gyro_temp[3];
 359:Application/ins_task.c ****     for (uint8_t i = 0; i < 3; i++)
 360:Application/ins_task.c ****         gyro_temp[i] = gyro[i] * param->scale[i];
 361:Application/ins_task.c **** 
 362:Application/ins_task.c ****     gyro[X] = c_11 * gyro_temp[X] +
 363:Application/ins_task.c ****               c_12 * gyro_temp[Y] +
 364:Application/ins_task.c ****               c_13 * gyro_temp[Z];
 365:Application/ins_task.c ****     gyro[Y] = c_21 * gyro_temp[X] +
 366:Application/ins_task.c ****               c_22 * gyro_temp[Y] +
 367:Application/ins_task.c ****               c_23 * gyro_temp[Z];
 368:Application/ins_task.c ****     gyro[Z] = c_31 * gyro_temp[X] +
 369:Application/ins_task.c ****               c_32 * gyro_temp[Y] +
 370:Application/ins_task.c ****               c_33 * gyro_temp[Z];
 371:Application/ins_task.c **** 
 372:Application/ins_task.c ****     float accel_temp[3];
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 8


 373:Application/ins_task.c ****     for (uint8_t i = 0; i < 3; i++)
 374:Application/ins_task.c ****         accel_temp[i] = accel[i];
 375:Application/ins_task.c **** 
 376:Application/ins_task.c ****     accel[X] = c_11 * accel_temp[X] +
 377:Application/ins_task.c ****                c_12 * accel_temp[Y] +
 378:Application/ins_task.c ****                c_13 * accel_temp[Z];
 379:Application/ins_task.c ****     accel[Y] = c_21 * accel_temp[X] +
 380:Application/ins_task.c ****                c_22 * accel_temp[Y] +
 381:Application/ins_task.c ****                c_23 * accel_temp[Z];
 382:Application/ins_task.c ****     accel[Z] = c_31 * accel_temp[X] +
 383:Application/ins_task.c ****                c_32 * accel_temp[Y] +
 384:Application/ins_task.c ****                c_33 * accel_temp[Z];
 385:Application/ins_task.c **** 
 386:Application/ins_task.c ****     lastYawOffset = param->Yaw;
 387:Application/ins_task.c ****     lastPitchOffset = param->Pitch;
 388:Application/ins_task.c ****     lastRollOffset = param->Roll;
 389:Application/ins_task.c **** }
 390:Application/ins_task.c **** 
 391:Application/ins_task.c **** void IMU_Temperature_Ctrl(void)
 392:Application/ins_task.c **** {
 393:Application/ins_task.c ****     PID_Calculate(&TempCtrl, BMI088.Temperature, 40 + 0 * float_constrain(BMI088.TempWhenCali, 37, 
 394:Application/ins_task.c **** 
 395:Application/ins_task.c ****     TIM_Set_PWM(&htim10, TIM_CHANNEL_1, float_constrain(float_rounding(TempCtrl.Output), 0, UINT32_
 396:Application/ins_task.c **** }
 397:Application/ins_task.c **** 
 398:Application/ins_task.c **** /**
 399:Application/ins_task.c ****  * @brief 计算四元数的共轭。
 400:Application/ins_task.c ****  * @param[in]   q_in    输入的四元数
 401:Application/ins_task.c ****  * @param[out]  q_out   存储共轭结果的四元数
 402:Application/ins_task.c ****  */
 403:Application/ins_task.c **** static void quaternion_conjugate(const Quaternion *q_in, Quaternion *q_out)
 404:Application/ins_task.c **** {
  29              		.loc 1 404 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 405:Application/ins_task.c ****     q_out->w = q_in->w;
  34              		.loc 1 405 5 view .LVU1
  35              		.loc 1 405 20 is_stmt 0 view .LVU2
  36 0000 0368     		ldr	r3, [r0]	@ float
  37              		.loc 1 405 14 view .LVU3
  38 0002 0B60     		str	r3, [r1]	@ float
 406:Application/ins_task.c ****     q_out->x = -q_in->x;
  39              		.loc 1 406 5 is_stmt 1 view .LVU4
  40              		.loc 1 406 21 is_stmt 0 view .LVU5
  41 0004 D0ED017A 		vldr.32	s15, [r0, #4]
  42              		.loc 1 406 16 view .LVU6
  43 0008 F1EE677A 		vneg.f32	s15, s15
  44              		.loc 1 406 14 view .LVU7
  45 000c C1ED017A 		vstr.32	s15, [r1, #4]
 407:Application/ins_task.c ****     q_out->y = -q_in->y;
  46              		.loc 1 407 5 is_stmt 1 view .LVU8
  47              		.loc 1 407 21 is_stmt 0 view .LVU9
  48 0010 D0ED027A 		vldr.32	s15, [r0, #8]
  49              		.loc 1 407 16 view .LVU10
  50 0014 F1EE677A 		vneg.f32	s15, s15
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 9


  51              		.loc 1 407 14 view .LVU11
  52 0018 C1ED027A 		vstr.32	s15, [r1, #8]
 408:Application/ins_task.c ****     q_out->z = -q_in->z;
  53              		.loc 1 408 5 is_stmt 1 view .LVU12
  54              		.loc 1 408 21 is_stmt 0 view .LVU13
  55 001c D0ED037A 		vldr.32	s15, [r0, #12]
  56              		.loc 1 408 16 view .LVU14
  57 0020 F1EE677A 		vneg.f32	s15, s15
  58              		.loc 1 408 14 view .LVU15
  59 0024 C1ED037A 		vstr.32	s15, [r1, #12]
 409:Application/ins_task.c **** }
  60              		.loc 1 409 1 view .LVU16
  61 0028 7047     		bx	lr
  62              		.cfi_endproc
  63              	.LFE184:
  65              		.section	.text.quaternion_multiply,"ax",%progbits
  66              		.align	1
  67              		.syntax unified
  68              		.thumb
  69              		.thumb_func
  71              	quaternion_multiply:
  72              	.LVL1:
  73              	.LFB185:
 410:Application/ins_task.c **** 
 411:Application/ins_task.c **** /**
 412:Application/ins_task.c ****  * @brief 计算两个四元数的乘法 (result = q1 * q2)。
 413:Application/ins_task.c ****  * @param[in]   q1      左侧的四元数
 414:Application/ins_task.c ****  * @param[in]   q2      右侧的四元数
 415:Application/ins_task.c ****  * @param[out]  result  存储乘法结果的四元数
 416:Application/ins_task.c ****  */
 417:Application/ins_task.c **** static void quaternion_multiply(const Quaternion *q1, const Quaternion *q2, Quaternion *result)
 418:Application/ins_task.c **** {
  74              		.loc 1 418 1 is_stmt 1 view -0
  75              		.cfi_startproc
  76              		@ args = 0, pretend = 0, frame = 0
  77              		@ frame_needed = 0, uses_anonymous_args = 0
  78              		@ link register save eliminated.
 419:Application/ins_task.c ****     result->w = q1->w * q2->w - q1->x * q2->x - q1->y * q2->y - q1->z * q2->z;
  79              		.loc 1 419 5 view .LVU18
  80              		.loc 1 419 19 is_stmt 0 view .LVU19
  81 0000 D0ED007A 		vldr.32	s15, [r0]
  82              		.loc 1 419 27 view .LVU20
  83 0004 91ED007A 		vldr.32	s14, [r1]
  84              		.loc 1 419 23 view .LVU21
  85 0008 67EE877A 		vmul.f32	s15, s15, s14
  86              		.loc 1 419 35 view .LVU22
  87 000c 90ED017A 		vldr.32	s14, [r0, #4]
  88              		.loc 1 419 43 view .LVU23
  89 0010 D1ED016A 		vldr.32	s13, [r1, #4]
  90              		.loc 1 419 39 view .LVU24
  91 0014 27EE267A 		vmul.f32	s14, s14, s13
  92              		.loc 1 419 31 view .LVU25
  93 0018 77EEC77A 		vsub.f32	s15, s15, s14
  94              		.loc 1 419 51 view .LVU26
  95 001c 90ED027A 		vldr.32	s14, [r0, #8]
  96              		.loc 1 419 59 view .LVU27
  97 0020 D1ED026A 		vldr.32	s13, [r1, #8]
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 10


  98              		.loc 1 419 55 view .LVU28
  99 0024 27EE267A 		vmul.f32	s14, s14, s13
 100              		.loc 1 419 47 view .LVU29
 101 0028 77EEC77A 		vsub.f32	s15, s15, s14
 102              		.loc 1 419 67 view .LVU30
 103 002c 90ED037A 		vldr.32	s14, [r0, #12]
 104              		.loc 1 419 75 view .LVU31
 105 0030 D1ED036A 		vldr.32	s13, [r1, #12]
 106              		.loc 1 419 71 view .LVU32
 107 0034 27EE267A 		vmul.f32	s14, s14, s13
 108              		.loc 1 419 63 view .LVU33
 109 0038 77EEC77A 		vsub.f32	s15, s15, s14
 110              		.loc 1 419 15 view .LVU34
 111 003c C2ED007A 		vstr.32	s15, [r2]
 420:Application/ins_task.c ****     result->x = q1->w * q2->x + q1->x * q2->w + q1->y * q2->z - q1->z * q2->y;
 112              		.loc 1 420 5 is_stmt 1 view .LVU35
 113              		.loc 1 420 19 is_stmt 0 view .LVU36
 114 0040 D0ED007A 		vldr.32	s15, [r0]
 115              		.loc 1 420 27 view .LVU37
 116 0044 91ED017A 		vldr.32	s14, [r1, #4]
 117              		.loc 1 420 23 view .LVU38
 118 0048 67EE877A 		vmul.f32	s15, s15, s14
 119              		.loc 1 420 35 view .LVU39
 120 004c 90ED017A 		vldr.32	s14, [r0, #4]
 121              		.loc 1 420 43 view .LVU40
 122 0050 D1ED006A 		vldr.32	s13, [r1]
 123              		.loc 1 420 39 view .LVU41
 124 0054 27EE267A 		vmul.f32	s14, s14, s13
 125              		.loc 1 420 31 view .LVU42
 126 0058 77EE877A 		vadd.f32	s15, s15, s14
 127              		.loc 1 420 51 view .LVU43
 128 005c 90ED027A 		vldr.32	s14, [r0, #8]
 129              		.loc 1 420 59 view .LVU44
 130 0060 D1ED036A 		vldr.32	s13, [r1, #12]
 131              		.loc 1 420 55 view .LVU45
 132 0064 27EE267A 		vmul.f32	s14, s14, s13
 133              		.loc 1 420 47 view .LVU46
 134 0068 77EE877A 		vadd.f32	s15, s15, s14
 135              		.loc 1 420 67 view .LVU47
 136 006c 90ED037A 		vldr.32	s14, [r0, #12]
 137              		.loc 1 420 75 view .LVU48
 138 0070 D1ED026A 		vldr.32	s13, [r1, #8]
 139              		.loc 1 420 71 view .LVU49
 140 0074 27EE267A 		vmul.f32	s14, s14, s13
 141              		.loc 1 420 63 view .LVU50
 142 0078 77EEC77A 		vsub.f32	s15, s15, s14
 143              		.loc 1 420 15 view .LVU51
 144 007c C2ED017A 		vstr.32	s15, [r2, #4]
 421:Application/ins_task.c ****     result->y = q1->w * q2->y - q1->x * q2->z + q1->y * q2->w + q1->z * q2->x;
 145              		.loc 1 421 5 is_stmt 1 view .LVU52
 146              		.loc 1 421 19 is_stmt 0 view .LVU53
 147 0080 D0ED007A 		vldr.32	s15, [r0]
 148              		.loc 1 421 27 view .LVU54
 149 0084 91ED027A 		vldr.32	s14, [r1, #8]
 150              		.loc 1 421 23 view .LVU55
 151 0088 67EE877A 		vmul.f32	s15, s15, s14
 152              		.loc 1 421 35 view .LVU56
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 11


 153 008c 90ED017A 		vldr.32	s14, [r0, #4]
 154              		.loc 1 421 43 view .LVU57
 155 0090 D1ED036A 		vldr.32	s13, [r1, #12]
 156              		.loc 1 421 39 view .LVU58
 157 0094 27EE267A 		vmul.f32	s14, s14, s13
 158              		.loc 1 421 31 view .LVU59
 159 0098 77EEC77A 		vsub.f32	s15, s15, s14
 160              		.loc 1 421 51 view .LVU60
 161 009c 90ED027A 		vldr.32	s14, [r0, #8]
 162              		.loc 1 421 59 view .LVU61
 163 00a0 D1ED006A 		vldr.32	s13, [r1]
 164              		.loc 1 421 55 view .LVU62
 165 00a4 27EE267A 		vmul.f32	s14, s14, s13
 166              		.loc 1 421 47 view .LVU63
 167 00a8 77EE877A 		vadd.f32	s15, s15, s14
 168              		.loc 1 421 67 view .LVU64
 169 00ac 90ED037A 		vldr.32	s14, [r0, #12]
 170              		.loc 1 421 75 view .LVU65
 171 00b0 D1ED016A 		vldr.32	s13, [r1, #4]
 172              		.loc 1 421 71 view .LVU66
 173 00b4 27EE267A 		vmul.f32	s14, s14, s13
 174              		.loc 1 421 63 view .LVU67
 175 00b8 77EE877A 		vadd.f32	s15, s15, s14
 176              		.loc 1 421 15 view .LVU68
 177 00bc C2ED027A 		vstr.32	s15, [r2, #8]
 422:Application/ins_task.c ****     result->z = q1->w * q2->z + q1->x * q2->y - q1->y * q2->x + q1->z * q2->w;
 178              		.loc 1 422 5 is_stmt 1 view .LVU69
 179              		.loc 1 422 19 is_stmt 0 view .LVU70
 180 00c0 D0ED007A 		vldr.32	s15, [r0]
 181              		.loc 1 422 27 view .LVU71
 182 00c4 91ED037A 		vldr.32	s14, [r1, #12]
 183              		.loc 1 422 23 view .LVU72
 184 00c8 67EE877A 		vmul.f32	s15, s15, s14
 185              		.loc 1 422 35 view .LVU73
 186 00cc 90ED017A 		vldr.32	s14, [r0, #4]
 187              		.loc 1 422 43 view .LVU74
 188 00d0 D1ED026A 		vldr.32	s13, [r1, #8]
 189              		.loc 1 422 39 view .LVU75
 190 00d4 27EE267A 		vmul.f32	s14, s14, s13
 191              		.loc 1 422 31 view .LVU76
 192 00d8 77EE877A 		vadd.f32	s15, s15, s14
 193              		.loc 1 422 51 view .LVU77
 194 00dc 90ED027A 		vldr.32	s14, [r0, #8]
 195              		.loc 1 422 59 view .LVU78
 196 00e0 D1ED016A 		vldr.32	s13, [r1, #4]
 197              		.loc 1 422 55 view .LVU79
 198 00e4 27EE267A 		vmul.f32	s14, s14, s13
 199              		.loc 1 422 47 view .LVU80
 200 00e8 77EEC77A 		vsub.f32	s15, s15, s14
 201              		.loc 1 422 67 view .LVU81
 202 00ec 90ED037A 		vldr.32	s14, [r0, #12]
 203              		.loc 1 422 75 view .LVU82
 204 00f0 D1ED006A 		vldr.32	s13, [r1]
 205              		.loc 1 422 71 view .LVU83
 206 00f4 27EE267A 		vmul.f32	s14, s14, s13
 207              		.loc 1 422 63 view .LVU84
 208 00f8 77EE877A 		vadd.f32	s15, s15, s14
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 12


 209              		.loc 1 422 15 view .LVU85
 210 00fc C2ED037A 		vstr.32	s15, [r2, #12]
 423:Application/ins_task.c **** }
 211              		.loc 1 423 1 view .LVU86
 212 0100 7047     		bx	lr
 213              		.cfi_endproc
 214              	.LFE185:
 216              		.section	.text.IMU_Param_Correction,"ax",%progbits
 217              		.align	1
 218              		.syntax unified
 219              		.thumb
 220              		.thumb_func
 222              	IMU_Param_Correction:
 223              	.LVL2:
 224              	.LFB182:
 330:Application/ins_task.c ****     static float lastYawOffset, lastPitchOffset, lastRollOffset;
 225              		.loc 1 330 1 is_stmt 1 view -0
 226              		.cfi_startproc
 227              		@ args = 0, pretend = 0, frame = 24
 228              		@ frame_needed = 0, uses_anonymous_args = 0
 330:Application/ins_task.c ****     static float lastYawOffset, lastPitchOffset, lastRollOffset;
 229              		.loc 1 330 1 is_stmt 0 view .LVU88
 230 0000 70B5     		push	{r4, r5, r6, lr}
 231              	.LCFI0:
 232              		.cfi_def_cfa_offset 16
 233              		.cfi_offset 4, -16
 234              		.cfi_offset 5, -12
 235              		.cfi_offset 6, -8
 236              		.cfi_offset 14, -4
 237 0002 2DED068B 		vpush.64	{d8, d9, d10}
 238              	.LCFI1:
 239              		.cfi_def_cfa_offset 40
 240              		.cfi_offset 80, -40
 241              		.cfi_offset 81, -36
 242              		.cfi_offset 82, -32
 243              		.cfi_offset 83, -28
 244              		.cfi_offset 84, -24
 245              		.cfi_offset 85, -20
 246 0006 86B0     		sub	sp, sp, #24
 247              	.LCFI2:
 248              		.cfi_def_cfa_offset 64
 249 0008 0446     		mov	r4, r0
 250 000a 0D46     		mov	r5, r1
 251 000c 1646     		mov	r6, r2
 331:Application/ins_task.c ****     static float c_11, c_12, c_13, c_21, c_22, c_23, c_31, c_32, c_33;
 252              		.loc 1 331 5 is_stmt 1 view .LVU89
 332:Application/ins_task.c ****     float cosPitch, cosYaw, cosRoll, sinPitch, sinYaw, sinRoll;
 253              		.loc 1 332 5 view .LVU90
 333:Application/ins_task.c **** 
 254              		.loc 1 333 5 view .LVU91
 335:Application/ins_task.c ****         fabsf(param->Pitch - lastPitchOffset) > 0.001f ||
 255              		.loc 1 335 5 view .LVU92
 335:Application/ins_task.c ****         fabsf(param->Pitch - lastPitchOffset) > 0.001f ||
 256              		.loc 1 335 20 is_stmt 0 view .LVU93
 257 000e 90ED040A 		vldr.32	s0, [r0, #16]
 335:Application/ins_task.c ****         fabsf(param->Pitch - lastPitchOffset) > 0.001f ||
 258              		.loc 1 335 26 view .LVU94
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 13


 259 0012 9F4B     		ldr	r3, .L11
 260 0014 D3ED007A 		vldr.32	s15, [r3]
 261 0018 70EE677A 		vsub.f32	s15, s0, s15
 335:Application/ins_task.c ****         fabsf(param->Pitch - lastPitchOffset) > 0.001f ||
 262              		.loc 1 335 9 view .LVU95
 263 001c F0EEE77A 		vabs.f32	s15, s15
 335:Application/ins_task.c ****         fabsf(param->Pitch - lastPitchOffset) > 0.001f ||
 264              		.loc 1 335 8 view .LVU96
 265 0020 9FED9C7A 		vldr.32	s14, .L11+4
 266 0024 F4EEC77A 		vcmpe.f32	s15, s14
 267 0028 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 268 002c 22DC     		bgt	.L4
 336:Application/ins_task.c ****         fabsf(param->Roll - lastRollOffset) > 0.001f || param->flag)
 269              		.loc 1 336 20 discriminator 1 view .LVU97
 270 002e D0ED057A 		vldr.32	s15, [r0, #20]
 336:Application/ins_task.c ****         fabsf(param->Roll - lastRollOffset) > 0.001f || param->flag)
 271              		.loc 1 336 28 discriminator 1 view .LVU98
 272 0032 994B     		ldr	r3, .L11+8
 273 0034 93ED007A 		vldr.32	s14, [r3]
 274 0038 77EEC77A 		vsub.f32	s15, s15, s14
 336:Application/ins_task.c ****         fabsf(param->Roll - lastRollOffset) > 0.001f || param->flag)
 275              		.loc 1 336 9 discriminator 1 view .LVU99
 276 003c F0EEE77A 		vabs.f32	s15, s15
 335:Application/ins_task.c ****         fabsf(param->Pitch - lastPitchOffset) > 0.001f ||
 277              		.loc 1 335 52 discriminator 1 view .LVU100
 278 0040 9FED947A 		vldr.32	s14, .L11+4
 279 0044 F4EEC77A 		vcmpe.f32	s15, s14
 280 0048 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 281 004c 12DC     		bgt	.L4
 337:Application/ins_task.c ****     {
 282              		.loc 1 337 20 view .LVU101
 283 004e D0ED067A 		vldr.32	s15, [r0, #24]
 337:Application/ins_task.c ****     {
 284              		.loc 1 337 27 view .LVU102
 285 0052 924B     		ldr	r3, .L11+12
 286 0054 93ED007A 		vldr.32	s14, [r3]
 287 0058 77EEC77A 		vsub.f32	s15, s15, s14
 337:Application/ins_task.c ****     {
 288              		.loc 1 337 9 view .LVU103
 289 005c F0EEE77A 		vabs.f32	s15, s15
 336:Application/ins_task.c ****         fabsf(param->Roll - lastRollOffset) > 0.001f || param->flag)
 290              		.loc 1 336 56 view .LVU104
 291 0060 9FED8C7A 		vldr.32	s14, .L11+4
 292 0064 F4EEC77A 		vcmpe.f32	s15, s14
 293 0068 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 294 006c 02DC     		bgt	.L4
 337:Application/ins_task.c ****     {
 295              		.loc 1 337 62 view .LVU105
 296 006e 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 337:Application/ins_task.c ****     {
 297              		.loc 1 337 54 view .LVU106
 298 0070 002B     		cmp	r3, #0
 299 0072 6ED0     		beq	.L5
 300              	.L4:
 339:Application/ins_task.c ****         cosPitch = arm_cos_f32(param->Pitch / 57.295779513f);
 301              		.loc 1 339 9 is_stmt 1 view .LVU107
 339:Application/ins_task.c ****         cosPitch = arm_cos_f32(param->Pitch / 57.295779513f);
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 14


 302              		.loc 1 339 18 is_stmt 0 view .LVU108
 303 0074 9FED8AAA 		vldr.32	s20, .L11+16
 304 0078 80EE0A0A 		vdiv.f32	s0, s0, s20
 305 007c FFF7FEFF 		bl	arm_cos_f32
 306              	.LVL3:
 339:Application/ins_task.c ****         cosPitch = arm_cos_f32(param->Pitch / 57.295779513f);
 307              		.loc 1 339 18 view .LVU109
 308 0080 B0EE409A 		vmov.f32	s18, s0
 309              	.LVL4:
 340:Application/ins_task.c ****         cosRoll = arm_cos_f32(param->Roll / 57.295779513f);
 310              		.loc 1 340 9 is_stmt 1 view .LVU110
 340:Application/ins_task.c ****         cosRoll = arm_cos_f32(param->Roll / 57.295779513f);
 311              		.loc 1 340 37 is_stmt 0 view .LVU111
 312 0084 94ED050A 		vldr.32	s0, [r4, #20]
 313              	.LVL5:
 340:Application/ins_task.c ****         cosRoll = arm_cos_f32(param->Roll / 57.295779513f);
 314              		.loc 1 340 20 view .LVU112
 315 0088 80EE0A0A 		vdiv.f32	s0, s0, s20
 316 008c FFF7FEFF 		bl	arm_cos_f32
 317              	.LVL6:
 318 0090 F0EE408A 		vmov.f32	s17, s0
 319              	.LVL7:
 341:Application/ins_task.c ****         sinYaw = arm_sin_f32(param->Yaw / 57.295779513f);
 320              		.loc 1 341 9 is_stmt 1 view .LVU113
 341:Application/ins_task.c ****         sinYaw = arm_sin_f32(param->Yaw / 57.295779513f);
 321              		.loc 1 341 36 is_stmt 0 view .LVU114
 322 0094 94ED060A 		vldr.32	s0, [r4, #24]
 323              	.LVL8:
 341:Application/ins_task.c ****         sinYaw = arm_sin_f32(param->Yaw / 57.295779513f);
 324              		.loc 1 341 19 view .LVU115
 325 0098 80EE0A0A 		vdiv.f32	s0, s0, s20
 326 009c FFF7FEFF 		bl	arm_cos_f32
 327              	.LVL9:
 328 00a0 F0EE40AA 		vmov.f32	s21, s0
 329              	.LVL10:
 342:Application/ins_task.c ****         sinPitch = arm_sin_f32(param->Pitch / 57.295779513f);
 330              		.loc 1 342 9 is_stmt 1 view .LVU116
 342:Application/ins_task.c ****         sinPitch = arm_sin_f32(param->Pitch / 57.295779513f);
 331              		.loc 1 342 35 is_stmt 0 view .LVU117
 332 00a4 94ED040A 		vldr.32	s0, [r4, #16]
 333              	.LVL11:
 342:Application/ins_task.c ****         sinPitch = arm_sin_f32(param->Pitch / 57.295779513f);
 334              		.loc 1 342 18 view .LVU118
 335 00a8 80EE0A0A 		vdiv.f32	s0, s0, s20
 336 00ac FFF7FEFF 		bl	arm_sin_f32
 337              	.LVL12:
 338 00b0 B0EE408A 		vmov.f32	s16, s0
 339              	.LVL13:
 343:Application/ins_task.c ****         sinRoll = arm_sin_f32(param->Roll / 57.295779513f);
 340              		.loc 1 343 9 is_stmt 1 view .LVU119
 343:Application/ins_task.c ****         sinRoll = arm_sin_f32(param->Roll / 57.295779513f);
 341              		.loc 1 343 37 is_stmt 0 view .LVU120
 342 00b4 94ED050A 		vldr.32	s0, [r4, #20]
 343              	.LVL14:
 343:Application/ins_task.c ****         sinRoll = arm_sin_f32(param->Roll / 57.295779513f);
 344              		.loc 1 343 20 view .LVU121
 345 00b8 80EE0A0A 		vdiv.f32	s0, s0, s20
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 15


 346 00bc FFF7FEFF 		bl	arm_sin_f32
 347              	.LVL15:
 348 00c0 F0EE409A 		vmov.f32	s19, s0
 349              	.LVL16:
 344:Application/ins_task.c **** 
 350              		.loc 1 344 9 is_stmt 1 view .LVU122
 344:Application/ins_task.c **** 
 351              		.loc 1 344 36 is_stmt 0 view .LVU123
 352 00c4 94ED060A 		vldr.32	s0, [r4, #24]
 353              	.LVL17:
 344:Application/ins_task.c **** 
 354              		.loc 1 344 19 view .LVU124
 355 00c8 80EE0A0A 		vdiv.f32	s0, s0, s20
 356 00cc FFF7FEFF 		bl	arm_sin_f32
 357              	.LVL18:
 347:Application/ins_task.c ****         c_12 = cosPitch * sinYaw;
 358              		.loc 1 347 9 is_stmt 1 view .LVU125
 347:Application/ins_task.c ****         c_12 = cosPitch * sinYaw;
 359              		.loc 1 347 23 is_stmt 0 view .LVU126
 360 00d0 69EE2A6A 		vmul.f32	s13, s18, s21
 347:Application/ins_task.c ****         c_12 = cosPitch * sinYaw;
 361              		.loc 1 347 42 view .LVU127
 362 00d4 28EE297A 		vmul.f32	s14, s16, s19
 347:Application/ins_task.c ****         c_12 = cosPitch * sinYaw;
 363              		.loc 1 347 53 view .LVU128
 364 00d8 27EE007A 		vmul.f32	s14, s14, s0
 347:Application/ins_task.c ****         c_12 = cosPitch * sinYaw;
 365              		.loc 1 347 33 view .LVU129
 366 00dc 36EE877A 		vadd.f32	s14, s13, s14
 347:Application/ins_task.c ****         c_12 = cosPitch * sinYaw;
 367              		.loc 1 347 14 view .LVU130
 368 00e0 704B     		ldr	r3, .L11+20
 369 00e2 83ED007A 		vstr.32	s14, [r3]
 348:Application/ins_task.c ****         c_13 = cosYaw * sinRoll - cosRoll * sinYaw * sinPitch;
 370              		.loc 1 348 9 is_stmt 1 view .LVU131
 348:Application/ins_task.c ****         c_13 = cosYaw * sinRoll - cosRoll * sinYaw * sinPitch;
 371              		.loc 1 348 25 is_stmt 0 view .LVU132
 372 00e6 28EE887A 		vmul.f32	s14, s17, s16
 348:Application/ins_task.c ****         c_13 = cosYaw * sinRoll - cosRoll * sinYaw * sinPitch;
 373              		.loc 1 348 14 view .LVU133
 374 00ea 6F4B     		ldr	r3, .L11+24
 375 00ec 83ED007A 		vstr.32	s14, [r3]
 349:Application/ins_task.c ****         c_21 = cosYaw * sinPitch * sinRoll - cosRoll * sinYaw;
 376              		.loc 1 349 9 is_stmt 1 view .LVU134
 349:Application/ins_task.c ****         c_21 = cosYaw * sinPitch * sinRoll - cosRoll * sinYaw;
 377              		.loc 1 349 23 is_stmt 0 view .LVU135
 378 00f0 29EE006A 		vmul.f32	s12, s18, s0
 349:Application/ins_task.c ****         c_21 = cosYaw * sinPitch * sinRoll - cosRoll * sinYaw;
 379              		.loc 1 349 43 view .LVU136
 380 00f4 6AEE885A 		vmul.f32	s11, s21, s16
 349:Application/ins_task.c ****         c_21 = cosYaw * sinPitch * sinRoll - cosRoll * sinYaw;
 381              		.loc 1 349 52 view .LVU137
 382 00f8 25EEA97A 		vmul.f32	s14, s11, s19
 349:Application/ins_task.c ****         c_21 = cosYaw * sinPitch * sinRoll - cosRoll * sinYaw;
 383              		.loc 1 349 33 view .LVU138
 384 00fc 36EE476A 		vsub.f32	s12, s12, s14
 349:Application/ins_task.c ****         c_21 = cosYaw * sinPitch * sinRoll - cosRoll * sinYaw;
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 16


 385              		.loc 1 349 14 view .LVU139
 386 0100 6A4B     		ldr	r3, .L11+28
 387 0102 83ED006A 		vstr.32	s12, [r3]
 350:Application/ins_task.c ****         c_22 = cosYaw * cosPitch;
 388              		.loc 1 350 9 is_stmt 1 view .LVU140
 350:Application/ins_task.c ****         c_22 = cosYaw * cosPitch;
 389              		.loc 1 350 23 is_stmt 0 view .LVU141
 390 0106 29EE297A 		vmul.f32	s14, s18, s19
 350:Application/ins_task.c ****         c_22 = cosYaw * cosPitch;
 391              		.loc 1 350 34 view .LVU142
 392 010a 27EE007A 		vmul.f32	s14, s14, s0
 350:Application/ins_task.c ****         c_22 = cosYaw * cosPitch;
 393              		.loc 1 350 44 view .LVU143
 394 010e 37EE657A 		vsub.f32	s14, s14, s11
 350:Application/ins_task.c ****         c_22 = cosYaw * cosPitch;
 395              		.loc 1 350 14 view .LVU144
 396 0112 674B     		ldr	r3, .L11+32
 397 0114 83ED007A 		vstr.32	s14, [r3]
 351:Application/ins_task.c ****         c_23 = -sinYaw * sinRoll - cosYaw * cosRoll * sinPitch;
 398              		.loc 1 351 9 is_stmt 1 view .LVU145
 351:Application/ins_task.c ****         c_23 = -sinYaw * sinRoll - cosYaw * cosRoll * sinPitch;
 399              		.loc 1 351 23 is_stmt 0 view .LVU146
 400 0118 29EE289A 		vmul.f32	s18, s18, s17
 401              	.LVL19:
 351:Application/ins_task.c ****         c_23 = -sinYaw * sinRoll - cosYaw * cosRoll * sinPitch;
 402              		.loc 1 351 14 view .LVU147
 403 011c 654B     		ldr	r3, .L11+36
 404 011e 83ED009A 		vstr.32	s18, [r3]
 352:Application/ins_task.c ****         c_31 = -cosPitch * sinRoll;
 405              		.loc 1 352 9 is_stmt 1 view .LVU148
 352:Application/ins_task.c ****         c_31 = -cosPitch * sinRoll;
 406              		.loc 1 352 24 is_stmt 0 view .LVU149
 407 0122 28EE408A 		vnmul.f32	s16, s16, s0
 408              	.LVL20:
 352:Application/ins_task.c ****         c_31 = -cosPitch * sinRoll;
 409              		.loc 1 352 53 view .LVU150
 410 0126 66EEA96A 		vmul.f32	s13, s13, s19
 352:Application/ins_task.c ****         c_31 = -cosPitch * sinRoll;
 411              		.loc 1 352 34 view .LVU151
 412 012a 38EE668A 		vsub.f32	s16, s16, s13
 352:Application/ins_task.c ****         c_31 = -cosPitch * sinRoll;
 413              		.loc 1 352 14 view .LVU152
 414 012e 624B     		ldr	r3, .L11+40
 415 0130 83ED008A 		vstr.32	s16, [r3]
 353:Application/ins_task.c ****         c_32 = sinPitch;
 416              		.loc 1 353 9 is_stmt 1 view .LVU153
 353:Application/ins_task.c ****         c_32 = sinPitch;
 417              		.loc 1 353 26 is_stmt 0 view .LVU154
 418 0134 68EEC07A 		vnmul.f32	s15, s17, s0
 353:Application/ins_task.c ****         c_32 = sinPitch;
 419              		.loc 1 353 14 view .LVU155
 420 0138 604B     		ldr	r3, .L11+44
 421 013a C3ED007A 		vstr.32	s15, [r3]
 354:Application/ins_task.c ****         c_33 = cosPitch * cosRoll;
 422              		.loc 1 354 9 is_stmt 1 view .LVU156
 354:Application/ins_task.c ****         c_33 = cosPitch * cosRoll;
 423              		.loc 1 354 14 is_stmt 0 view .LVU157
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 17


 424 013e 604B     		ldr	r3, .L11+48
 425 0140 C3ED009A 		vstr.32	s19, [r3]
 355:Application/ins_task.c ****         param->flag = 0;
 426              		.loc 1 355 9 is_stmt 1 view .LVU158
 355:Application/ins_task.c ****         param->flag = 0;
 427              		.loc 1 355 25 is_stmt 0 view .LVU159
 428 0144 68EEAA8A 		vmul.f32	s17, s17, s21
 429              	.LVL21:
 355:Application/ins_task.c ****         param->flag = 0;
 430              		.loc 1 355 14 view .LVU160
 431 0148 5E4B     		ldr	r3, .L11+52
 432 014a C3ED008A 		vstr.32	s17, [r3]
 356:Application/ins_task.c ****     }
 433              		.loc 1 356 9 is_stmt 1 view .LVU161
 356:Application/ins_task.c ****     }
 434              		.loc 1 356 21 is_stmt 0 view .LVU162
 435 014e 0023     		movs	r3, #0
 436 0150 2370     		strb	r3, [r4]
 437              	.LVL22:
 438              	.L5:
 330:Application/ins_task.c ****     static float lastYawOffset, lastPitchOffset, lastRollOffset;
 439              		.loc 1 330 1 discriminator 1 view .LVU163
 440 0152 0023     		movs	r3, #0
 441 0154 10E0     		b	.L6
 442              	.LVL23:
 443              	.L7:
 444              	.LBB2:
 360:Application/ins_task.c **** 
 445              		.loc 1 360 9 is_stmt 1 discriminator 3 view .LVU164
 360:Application/ins_task.c **** 
 446              		.loc 1 360 28 is_stmt 0 discriminator 3 view .LVU165
 447 0156 05EB8302 		add	r2, r5, r3, lsl #2
 448 015a D2ED007A 		vldr.32	s15, [r2]
 360:Application/ins_task.c **** 
 449              		.loc 1 360 46 discriminator 3 view .LVU166
 450 015e 04EB8302 		add	r2, r4, r3, lsl #2
 451 0162 92ED017A 		vldr.32	s14, [r2, #4]
 360:Application/ins_task.c **** 
 452              		.loc 1 360 32 discriminator 3 view .LVU167
 453 0166 67EE877A 		vmul.f32	s15, s15, s14
 360:Application/ins_task.c **** 
 454              		.loc 1 360 22 discriminator 3 view .LVU168
 455 016a 06AA     		add	r2, sp, #24
 456 016c 02EB8302 		add	r2, r2, r3, lsl #2
 457 0170 42ED037A 		vstr.32	s15, [r2, #-12]
 359:Application/ins_task.c ****         gyro_temp[i] = gyro[i] * param->scale[i];
 458              		.loc 1 359 32 is_stmt 1 discriminator 3 view .LVU169
 359:Application/ins_task.c ****         gyro_temp[i] = gyro[i] * param->scale[i];
 459              		.loc 1 359 33 is_stmt 0 discriminator 3 view .LVU170
 460 0174 0133     		adds	r3, r3, #1
 461              	.LVL24:
 359:Application/ins_task.c ****         gyro_temp[i] = gyro[i] * param->scale[i];
 462              		.loc 1 359 33 discriminator 3 view .LVU171
 463 0176 DBB2     		uxtb	r3, r3
 464              	.LVL25:
 465              	.L6:
 359:Application/ins_task.c ****         gyro_temp[i] = gyro[i] * param->scale[i];
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 18


 466              		.loc 1 359 25 is_stmt 1 discriminator 1 view .LVU172
 359:Application/ins_task.c ****         gyro_temp[i] = gyro[i] * param->scale[i];
 467              		.loc 1 359 5 is_stmt 0 discriminator 1 view .LVU173
 468 0178 022B     		cmp	r3, #2
 469 017a ECD9     		bls	.L7
 470              	.LBE2:
 362:Application/ins_task.c ****               c_12 * gyro_temp[Y] +
 471              		.loc 1 362 5 is_stmt 1 view .LVU174
 362:Application/ins_task.c ****               c_12 * gyro_temp[Y] +
 472              		.loc 1 362 31 is_stmt 0 view .LVU175
 473 017c DDED037A 		vldr.32	s15, [sp, #12]
 362:Application/ins_task.c ****               c_12 * gyro_temp[Y] +
 474              		.loc 1 362 20 view .LVU176
 475 0180 484B     		ldr	r3, .L11+20
 476              	.LVL26:
 362:Application/ins_task.c ****               c_12 * gyro_temp[Y] +
 477              		.loc 1 362 20 view .LVU177
 478 0182 93ED006A 		vldr.32	s12, [r3]
 479 0186 27EE867A 		vmul.f32	s14, s15, s12
 363:Application/ins_task.c ****               c_13 * gyro_temp[Z];
 480              		.loc 1 363 31 view .LVU178
 481 018a 9DED045A 		vldr.32	s10, [sp, #16]
 363:Application/ins_task.c ****               c_13 * gyro_temp[Z];
 482              		.loc 1 363 20 view .LVU179
 483 018e 464B     		ldr	r3, .L11+24
 484 0190 D3ED002A 		vldr.32	s5, [r3]
 485 0194 65EE226A 		vmul.f32	s13, s10, s5
 362:Application/ins_task.c ****               c_12 * gyro_temp[Y] +
 486              		.loc 1 362 35 view .LVU180
 487 0198 37EE267A 		vadd.f32	s14, s14, s13
 364:Application/ins_task.c ****     gyro[Y] = c_21 * gyro_temp[X] +
 488              		.loc 1 364 31 view .LVU181
 489 019c DDED055A 		vldr.32	s11, [sp, #20]
 364:Application/ins_task.c ****     gyro[Y] = c_21 * gyro_temp[X] +
 490              		.loc 1 364 20 view .LVU182
 491 01a0 424B     		ldr	r3, .L11+28
 492 01a2 93ED003A 		vldr.32	s6, [r3]
 493 01a6 65EE836A 		vmul.f32	s13, s11, s6
 363:Application/ins_task.c ****               c_13 * gyro_temp[Z];
 494              		.loc 1 363 35 view .LVU183
 495 01aa 37EE267A 		vadd.f32	s14, s14, s13
 362:Application/ins_task.c ****               c_12 * gyro_temp[Y] +
 496              		.loc 1 362 13 view .LVU184
 497 01ae 85ED007A 		vstr.32	s14, [r5]
 365:Application/ins_task.c ****               c_22 * gyro_temp[Y] +
 498              		.loc 1 365 5 is_stmt 1 view .LVU185
 365:Application/ins_task.c ****               c_22 * gyro_temp[Y] +
 499              		.loc 1 365 20 is_stmt 0 view .LVU186
 500 01b2 3F4B     		ldr	r3, .L11+32
 501 01b4 D3ED006A 		vldr.32	s13, [r3]
 502 01b8 27EEA67A 		vmul.f32	s14, s15, s13
 366:Application/ins_task.c ****               c_23 * gyro_temp[Z];
 503              		.loc 1 366 20 view .LVU187
 504 01bc 3D4B     		ldr	r3, .L11+36
 505 01be D3ED003A 		vldr.32	s7, [r3]
 506 01c2 65EE234A 		vmul.f32	s9, s10, s7
 365:Application/ins_task.c ****               c_22 * gyro_temp[Y] +
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 19


 507              		.loc 1 365 35 view .LVU188
 508 01c6 37EE247A 		vadd.f32	s14, s14, s9
 367:Application/ins_task.c ****     gyro[Z] = c_31 * gyro_temp[X] +
 509              		.loc 1 367 20 view .LVU189
 510 01ca 3B4B     		ldr	r3, .L11+40
 511 01cc 93ED004A 		vldr.32	s8, [r3]
 512 01d0 65EE844A 		vmul.f32	s9, s11, s8
 366:Application/ins_task.c ****               c_23 * gyro_temp[Z];
 513              		.loc 1 366 35 view .LVU190
 514 01d4 37EE247A 		vadd.f32	s14, s14, s9
 365:Application/ins_task.c ****               c_22 * gyro_temp[Y] +
 515              		.loc 1 365 13 view .LVU191
 516 01d8 85ED017A 		vstr.32	s14, [r5, #4]
 368:Application/ins_task.c ****               c_32 * gyro_temp[Y] +
 517              		.loc 1 368 5 is_stmt 1 view .LVU192
 368:Application/ins_task.c ****               c_32 * gyro_temp[Y] +
 518              		.loc 1 368 20 is_stmt 0 view .LVU193
 519 01dc 374B     		ldr	r3, .L11+44
 520 01de 93ED007A 		vldr.32	s14, [r3]
 521 01e2 67EE877A 		vmul.f32	s15, s15, s14
 369:Application/ins_task.c ****               c_33 * gyro_temp[Z];
 522              		.loc 1 369 20 view .LVU194
 523 01e6 364B     		ldr	r3, .L11+48
 524 01e8 D3ED004A 		vldr.32	s9, [r3]
 525 01ec 25EE245A 		vmul.f32	s10, s10, s9
 368:Application/ins_task.c ****               c_32 * gyro_temp[Y] +
 526              		.loc 1 368 35 view .LVU195
 527 01f0 77EE857A 		vadd.f32	s15, s15, s10
 370:Application/ins_task.c **** 
 528              		.loc 1 370 20 view .LVU196
 529 01f4 334B     		ldr	r3, .L11+52
 530 01f6 93ED005A 		vldr.32	s10, [r3]
 531 01fa 65EE855A 		vmul.f32	s11, s11, s10
 369:Application/ins_task.c ****               c_33 * gyro_temp[Z];
 532              		.loc 1 369 35 view .LVU197
 533 01fe 77EEA57A 		vadd.f32	s15, s15, s11
 368:Application/ins_task.c ****               c_32 * gyro_temp[Y] +
 534              		.loc 1 368 13 view .LVU198
 535 0202 C5ED027A 		vstr.32	s15, [r5, #8]
 372:Application/ins_task.c ****     for (uint8_t i = 0; i < 3; i++)
 536              		.loc 1 372 5 is_stmt 1 view .LVU199
 373:Application/ins_task.c ****         accel_temp[i] = accel[i];
 537              		.loc 1 373 5 view .LVU200
 538              	.LBB3:
 373:Application/ins_task.c ****         accel_temp[i] = accel[i];
 539              		.loc 1 373 10 view .LVU201
 540              	.LVL27:
 373:Application/ins_task.c ****         accel_temp[i] = accel[i];
 541              		.loc 1 373 18 is_stmt 0 view .LVU202
 542 0206 0023     		movs	r3, #0
 373:Application/ins_task.c ****         accel_temp[i] = accel[i];
 543              		.loc 1 373 5 view .LVU203
 544 0208 09E0     		b	.L8
 545              	.LVL28:
 546              	.L9:
 374:Application/ins_task.c **** 
 547              		.loc 1 374 9 is_stmt 1 discriminator 3 view .LVU204
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 20


 374:Application/ins_task.c **** 
 548              		.loc 1 374 30 is_stmt 0 discriminator 3 view .LVU205
 549 020a 06EB8302 		add	r2, r6, r3, lsl #2
 550 020e 1168     		ldr	r1, [r2]	@ float
 374:Application/ins_task.c **** 
 551              		.loc 1 374 23 discriminator 3 view .LVU206
 552 0210 06AA     		add	r2, sp, #24
 553 0212 02EB8302 		add	r2, r2, r3, lsl #2
 554 0216 42F8181C 		str	r1, [r2, #-24]	@ float
 373:Application/ins_task.c ****         accel_temp[i] = accel[i];
 555              		.loc 1 373 32 is_stmt 1 discriminator 3 view .LVU207
 373:Application/ins_task.c ****         accel_temp[i] = accel[i];
 556              		.loc 1 373 33 is_stmt 0 discriminator 3 view .LVU208
 557 021a 0133     		adds	r3, r3, #1
 558              	.LVL29:
 373:Application/ins_task.c ****         accel_temp[i] = accel[i];
 559              		.loc 1 373 33 discriminator 3 view .LVU209
 560 021c DBB2     		uxtb	r3, r3
 561              	.LVL30:
 562              	.L8:
 373:Application/ins_task.c ****         accel_temp[i] = accel[i];
 563              		.loc 1 373 25 is_stmt 1 discriminator 1 view .LVU210
 373:Application/ins_task.c ****         accel_temp[i] = accel[i];
 564              		.loc 1 373 5 is_stmt 0 discriminator 1 view .LVU211
 565 021e 022B     		cmp	r3, #2
 566 0220 F3D9     		bls	.L9
 567              	.LBE3:
 376:Application/ins_task.c ****                c_12 * accel_temp[Y] +
 568              		.loc 1 376 5 is_stmt 1 view .LVU212
 376:Application/ins_task.c ****                c_12 * accel_temp[Y] +
 569              		.loc 1 376 33 is_stmt 0 view .LVU213
 570 0222 9DED002A 		vldr.32	s4, [sp]
 376:Application/ins_task.c ****                c_12 * accel_temp[Y] +
 571              		.loc 1 376 21 view .LVU214
 572 0226 26EE026A 		vmul.f32	s12, s12, s4
 377:Application/ins_task.c ****                c_13 * accel_temp[Z];
 573              		.loc 1 377 33 view .LVU215
 574 022a DDED015A 		vldr.32	s11, [sp, #4]
 377:Application/ins_task.c ****                c_13 * accel_temp[Z];
 575              		.loc 1 377 21 view .LVU216
 576 022e 62EEA52A 		vmul.f32	s5, s5, s11
 376:Application/ins_task.c ****                c_12 * accel_temp[Y] +
 577              		.loc 1 376 37 view .LVU217
 578 0232 36EE226A 		vadd.f32	s12, s12, s5
 378:Application/ins_task.c ****     accel[Y] = c_21 * accel_temp[X] +
 579              		.loc 1 378 33 view .LVU218
 580 0236 DDED027A 		vldr.32	s15, [sp, #8]
 378:Application/ins_task.c ****     accel[Y] = c_21 * accel_temp[X] +
 581              		.loc 1 378 21 view .LVU219
 582 023a 23EE273A 		vmul.f32	s6, s6, s15
 377:Application/ins_task.c ****                c_13 * accel_temp[Z];
 583              		.loc 1 377 37 view .LVU220
 584 023e 36EE036A 		vadd.f32	s12, s12, s6
 376:Application/ins_task.c ****                c_12 * accel_temp[Y] +
 585              		.loc 1 376 14 view .LVU221
 586 0242 86ED006A 		vstr.32	s12, [r6]
 379:Application/ins_task.c ****                c_22 * accel_temp[Y] +
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 21


 587              		.loc 1 379 5 is_stmt 1 view .LVU222
 379:Application/ins_task.c ****                c_22 * accel_temp[Y] +
 588              		.loc 1 379 21 is_stmt 0 view .LVU223
 589 0246 66EE826A 		vmul.f32	s13, s13, s4
 380:Application/ins_task.c ****                c_23 * accel_temp[Z];
 590              		.loc 1 380 21 view .LVU224
 591 024a 63EEA53A 		vmul.f32	s7, s7, s11
 379:Application/ins_task.c ****                c_22 * accel_temp[Y] +
 592              		.loc 1 379 37 view .LVU225
 593 024e 76EEA36A 		vadd.f32	s13, s13, s7
 381:Application/ins_task.c ****     accel[Z] = c_31 * accel_temp[X] +
 594              		.loc 1 381 21 view .LVU226
 595 0252 24EE274A 		vmul.f32	s8, s8, s15
 380:Application/ins_task.c ****                c_23 * accel_temp[Z];
 596              		.loc 1 380 37 view .LVU227
 597 0256 76EE846A 		vadd.f32	s13, s13, s8
 379:Application/ins_task.c ****                c_22 * accel_temp[Y] +
 598              		.loc 1 379 14 view .LVU228
 599 025a C6ED016A 		vstr.32	s13, [r6, #4]
 382:Application/ins_task.c ****                c_32 * accel_temp[Y] +
 600              		.loc 1 382 5 is_stmt 1 view .LVU229
 382:Application/ins_task.c ****                c_32 * accel_temp[Y] +
 601              		.loc 1 382 21 is_stmt 0 view .LVU230
 602 025e 27EE027A 		vmul.f32	s14, s14, s4
 383:Application/ins_task.c ****                c_33 * accel_temp[Z];
 603              		.loc 1 383 21 view .LVU231
 604 0262 64EEA54A 		vmul.f32	s9, s9, s11
 382:Application/ins_task.c ****                c_32 * accel_temp[Y] +
 605              		.loc 1 382 37 view .LVU232
 606 0266 37EE247A 		vadd.f32	s14, s14, s9
 384:Application/ins_task.c **** 
 607              		.loc 1 384 21 view .LVU233
 608 026a 25EE275A 		vmul.f32	s10, s10, s15
 383:Application/ins_task.c ****                c_33 * accel_temp[Z];
 609              		.loc 1 383 37 view .LVU234
 610 026e 37EE057A 		vadd.f32	s14, s14, s10
 382:Application/ins_task.c ****                c_32 * accel_temp[Y] +
 611              		.loc 1 382 14 view .LVU235
 612 0272 86ED027A 		vstr.32	s14, [r6, #8]
 386:Application/ins_task.c ****     lastPitchOffset = param->Pitch;
 613              		.loc 1 386 5 is_stmt 1 view .LVU236
 386:Application/ins_task.c ****     lastPitchOffset = param->Pitch;
 614              		.loc 1 386 26 is_stmt 0 view .LVU237
 615 0276 2269     		ldr	r2, [r4, #16]	@ float
 386:Application/ins_task.c ****     lastPitchOffset = param->Pitch;
 616              		.loc 1 386 19 view .LVU238
 617 0278 054B     		ldr	r3, .L11
 618              	.LVL31:
 386:Application/ins_task.c ****     lastPitchOffset = param->Pitch;
 619              		.loc 1 386 19 view .LVU239
 620 027a 1A60     		str	r2, [r3]	@ float
 387:Application/ins_task.c ****     lastRollOffset = param->Roll;
 621              		.loc 1 387 5 is_stmt 1 view .LVU240
 387:Application/ins_task.c ****     lastRollOffset = param->Roll;
 622              		.loc 1 387 28 is_stmt 0 view .LVU241
 623 027c 6269     		ldr	r2, [r4, #20]	@ float
 387:Application/ins_task.c ****     lastRollOffset = param->Roll;
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 22


 624              		.loc 1 387 21 view .LVU242
 625 027e 064B     		ldr	r3, .L11+8
 626 0280 1A60     		str	r2, [r3]	@ float
 388:Application/ins_task.c **** }
 627              		.loc 1 388 5 is_stmt 1 view .LVU243
 388:Application/ins_task.c **** }
 628              		.loc 1 388 27 is_stmt 0 view .LVU244
 629 0282 A269     		ldr	r2, [r4, #24]	@ float
 388:Application/ins_task.c **** }
 630              		.loc 1 388 20 view .LVU245
 631 0284 054B     		ldr	r3, .L11+12
 632 0286 1A60     		str	r2, [r3]	@ float
 389:Application/ins_task.c **** 
 633              		.loc 1 389 1 view .LVU246
 634 0288 06B0     		add	sp, sp, #24
 635              	.LCFI3:
 636              		.cfi_def_cfa_offset 40
 637              		@ sp needed
 638 028a BDEC068B 		vldm	sp!, {d8-d10}
 639              	.LCFI4:
 640              		.cfi_restore 84
 641              		.cfi_restore 85
 642              		.cfi_restore 82
 643              		.cfi_restore 83
 644              		.cfi_restore 80
 645              		.cfi_restore 81
 646              		.cfi_def_cfa_offset 16
 647 028e 70BD     		pop	{r4, r5, r6, pc}
 648              	.LVL32:
 649              	.L12:
 389:Application/ins_task.c **** 
 650              		.loc 1 389 1 view .LVU247
 651              		.align	2
 652              	.L11:
 653 0290 00000000 		.word	.LANCHOR0
 654 0294 6F12833A 		.word	981668463
 655 0298 00000000 		.word	.LANCHOR1
 656 029c 00000000 		.word	.LANCHOR2
 657 02a0 E12E6542 		.word	1113927393
 658 02a4 00000000 		.word	.LANCHOR3
 659 02a8 00000000 		.word	.LANCHOR4
 660 02ac 00000000 		.word	.LANCHOR5
 661 02b0 00000000 		.word	.LANCHOR6
 662 02b4 00000000 		.word	.LANCHOR7
 663 02b8 00000000 		.word	.LANCHOR8
 664 02bc 00000000 		.word	.LANCHOR9
 665 02c0 00000000 		.word	.LANCHOR10
 666 02c4 00000000 		.word	.LANCHOR11
 667              		.cfi_endproc
 668              	.LFE182:
 670              		.section	.text.INS_Init,"ax",%progbits
 671              		.align	1
 672              		.global	INS_Init
 673              		.syntax unified
 674              		.thumb
 675              		.thumb_func
 677              	INS_Init:
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 23


 678              	.LFB171:
  26:Application/ins_task.c ****     // gEstimateKF_Init(0.01, 1000);
 679              		.loc 1 26 1 is_stmt 1 view -0
 680              		.cfi_startproc
 681              		@ args = 0, pretend = 0, frame = 0
 682              		@ frame_needed = 0, uses_anonymous_args = 0
 683 0000 38B5     		push	{r3, r4, r5, lr}
 684              	.LCFI5:
 685              		.cfi_def_cfa_offset 16
 686              		.cfi_offset 3, -16
 687              		.cfi_offset 4, -12
 688              		.cfi_offset 5, -8
 689              		.cfi_offset 14, -4
 690 0002 2DED028B 		vpush.64	{d8}
 691              	.LCFI6:
 692              		.cfi_def_cfa_offset 24
 693              		.cfi_offset 80, -24
 694              		.cfi_offset 81, -20
  28:Application/ins_task.c **** 
 695              		.loc 1 28 5 view .LVU249
 696 0006 3148     		ldr	r0, .L15
 697 0008 FFF7FEFF 		bl	BMI088_Read
 698              	.LVL33:
  30:Application/ins_task.c ****     IMU_RequestData(&hcan2, 0x01, exo_controller.xzy_shoulder.dm_imu.send_reg);
 699              		.loc 1 30 5 view .LVU250
  30:Application/ins_task.c ****     IMU_RequestData(&hcan2, 0x01, exo_controller.xzy_shoulder.dm_imu.send_reg);
 700              		.loc 1 30 49 is_stmt 0 view .LVU251
 701 000c 304C     		ldr	r4, .L15+4
 702 000e 0125     		movs	r5, #1
 703 0010 84F82050 		strb	r5, [r4, #32]
  31:Application/ins_task.c **** 
 704              		.loc 1 31 5 is_stmt 1 view .LVU252
 705 0014 2A46     		mov	r2, r5
 706 0016 2946     		mov	r1, r5
 707 0018 2E48     		ldr	r0, .L15+8
 708 001a FFF7FEFF 		bl	IMU_RequestData
 709              	.LVL34:
  35:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.scale[Y] = 1;
 710              		.loc 1 35 5 view .LVU253
  35:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.scale[Y] = 1;
 711              		.loc 1 35 70 is_stmt 0 view .LVU254
 712 001e F7EE001A 		vmov.f32	s3, #1.0e+0
 713 0022 C4ED401A 		vstr.32	s3, [r4, #256]
  36:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.scale[Z] = 1;
 714              		.loc 1 36 5 is_stmt 1 view .LVU255
  36:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.scale[Z] = 1;
 715              		.loc 1 36 70 is_stmt 0 view .LVU256
 716 0026 C4ED411A 		vstr.32	s3, [r4, #260]
  37:Application/ins_task.c **** 
 717              		.loc 1 37 5 is_stmt 1 view .LVU257
  37:Application/ins_task.c **** 
 718              		.loc 1 37 70 is_stmt 0 view .LVU258
 719 002a C4ED421A 		vstr.32	s3, [r4, #264]
  39:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.Pitch = 0;
 720              		.loc 1 39 5 is_stmt 1 view .LVU259
  39:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.Pitch = 0;
 721              		.loc 1 39 65 is_stmt 0 view .LVU260
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 24


 722 002e 9FED2A8A 		vldr.32	s16, .L15+12
 723 0032 84ED438A 		vstr.32	s16, [r4, #268]
  40:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.Roll = 0;
 724              		.loc 1 40 5 is_stmt 1 view .LVU261
  40:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.Roll = 0;
 725              		.loc 1 40 67 is_stmt 0 view .LVU262
 726 0036 84ED448A 		vstr.32	s16, [r4, #272]
  41:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.flag = 1;
 727              		.loc 1 41 5 is_stmt 1 view .LVU263
  41:Application/ins_task.c ****     exo_controller.xzy_shoulder.INS_shoulder.imu_cali_param.flag = 1;
 728              		.loc 1 41 66 is_stmt 0 view .LVU264
 729 003a 84ED458A 		vstr.32	s16, [r4, #276]
  42:Application/ins_task.c **** 
 730              		.loc 1 42 5 is_stmt 1 view .LVU265
  42:Application/ins_task.c **** 
 731              		.loc 1 42 66 is_stmt 0 view .LVU266
 732 003e 84F8FC50 		strb	r5, [r4, #252]
  44:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.scale[Y] = 1;
 733              		.loc 1 44 5 is_stmt 1 view .LVU267
  44:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.scale[Y] = 1;
 734              		.loc 1 44 54 is_stmt 0 view .LVU268
 735 0042 04F66443 		addw	r3, r4, #3172
 736 0046 C3ED001A 		vstr.32	s3, [r3]
  45:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.scale[Z] = 1;
 737              		.loc 1 45 5 is_stmt 1 view .LVU269
  45:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.scale[Z] = 1;
 738              		.loc 1 45 54 is_stmt 0 view .LVU270
 739 004a 04F66843 		addw	r3, r4, #3176
 740 004e C3ED001A 		vstr.32	s3, [r3]
  46:Application/ins_task.c **** 
 741              		.loc 1 46 5 is_stmt 1 view .LVU271
  46:Application/ins_task.c **** 
 742              		.loc 1 46 54 is_stmt 0 view .LVU272
 743 0052 04F66C43 		addw	r3, r4, #3180
 744 0056 C3ED001A 		vstr.32	s3, [r3]
  48:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.Pitch = 0;
 745              		.loc 1 48 5 is_stmt 1 view .LVU273
  48:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.Pitch = 0;
 746              		.loc 1 48 49 is_stmt 0 view .LVU274
 747 005a 04F54763 		add	r3, r4, #3184
 748 005e 83ED008A 		vstr.32	s16, [r3]
  49:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.Roll = 0;
 749              		.loc 1 49 5 is_stmt 1 view .LVU275
  49:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.Roll = 0;
 750              		.loc 1 49 51 is_stmt 0 view .LVU276
 751 0062 04F67443 		addw	r3, r4, #3188
 752 0066 83ED008A 		vstr.32	s16, [r3]
  50:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.flag = 1;
 753              		.loc 1 50 5 is_stmt 1 view .LVU277
  50:Application/ins_task.c ****     exo_controller.INS_torso.imu_cali_param.flag = 1;
 754              		.loc 1 50 50 is_stmt 0 view .LVU278
 755 006a 04F67843 		addw	r3, r4, #3192
 756 006e 83ED008A 		vstr.32	s16, [r3]
  51:Application/ins_task.c **** 
 757              		.loc 1 51 5 is_stmt 1 view .LVU279
  51:Application/ins_task.c **** 
 758              		.loc 1 51 50 is_stmt 0 view .LVU280
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 25


 759 0072 84F8605C 		strb	r5, [r4, #3168]
  53:Application/ins_task.c ****     // imu heat init
 760              		.loc 1 53 5 is_stmt 1 view .LVU281
 761 0076 B0EE482A 		vmov.f32	s4, s16
 762 007a 9FED181A 		vldr.32	s2, .L15+16
 763 007e DFED180A 		vldr.32	s1, .L15+20
 764 0082 B2EE040A 		vmov.f32	s0, #1.0e+1
 765 0086 FFF7FEFF 		bl	IMU_QuaternionEKF_Init
 766              	.LVL35:
  55:Application/ins_task.c ****     HAL_TIM_PWM_Start(&htim10, TIM_CHANNEL_1);
 767              		.loc 1 55 5 view .LVU282
 768 008a 0022     		movs	r2, #0
 769 008c 1146     		mov	r1, r2
 770 008e F0EE484A 		vmov.f32	s9, s16
 771 0092 B0EE484A 		vmov.f32	s8, s16
 772 0096 F0EE483A 		vmov.f32	s7, s16
 773 009a B0EE483A 		vmov.f32	s6, s16
 774 009e F0EE482A 		vmov.f32	s5, s16
 775 00a2 B3EE042A 		vmov.f32	s4, #2.0e+1
 776 00a6 DFED0F1A 		vldr.32	s3, .L15+24
 777 00aa B0EE481A 		vmov.f32	s2, s16
 778 00ae DFED0E0A 		vldr.32	s1, .L15+28
 779 00b2 9FED0E0A 		vldr.32	s0, .L15+32
 780 00b6 0E48     		ldr	r0, .L15+36
 781 00b8 FFF7FEFF 		bl	PID_Init
 782              	.LVL36:
  56:Application/ins_task.c **** }
 783              		.loc 1 56 5 view .LVU283
 784 00bc 0021     		movs	r1, #0
 785 00be 0D48     		ldr	r0, .L15+40
 786 00c0 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 787              	.LVL37:
  57:Application/ins_task.c **** 
 788              		.loc 1 57 1 is_stmt 0 view .LVU284
 789 00c4 BDEC028B 		vldm	sp!, {d8}
 790              	.LCFI7:
 791              		.cfi_restore 80
 792              		.cfi_restore 81
 793              		.cfi_def_cfa_offset 16
 794 00c8 38BD     		pop	{r3, r4, r5, pc}
 795              	.L16:
 796 00ca 00BF     		.align	2
 797              	.L15:
 798 00cc 00000000 		.word	BMI088
 799 00d0 00000000 		.word	exo_controller
 800 00d4 00000000 		.word	hcan2
 801 00d8 00000000 		.word	0
 802 00dc 8096184B 		.word	1259902592
 803 00e0 6F12833A 		.word	981668463
 804 00e4 00007A44 		.word	1148846080
 805 00e8 00009643 		.word	1133903872
 806 00ec 0000FA44 		.word	1157234688
 807 00f0 00000000 		.word	.LANCHOR12
 808 00f4 00000000 		.word	htim10
 809              		.cfi_endproc
 810              	.LFE171:
 812              		.section	.text.QuaternionUpdate,"ax",%progbits
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 26


 813              		.align	1
 814              		.global	QuaternionUpdate
 815              		.syntax unified
 816              		.thumb
 817              		.thumb_func
 819              	QuaternionUpdate:
 820              	.LVL38:
 821              	.LFB175:
 212:Application/ins_task.c ****     float qa, qb, qc;
 822              		.loc 1 212 1 is_stmt 1 view -0
 823              		.cfi_startproc
 824              		@ args = 0, pretend = 0, frame = 0
 825              		@ frame_needed = 0, uses_anonymous_args = 0
 826              		@ link register save eliminated.
 213:Application/ins_task.c **** 
 827              		.loc 1 213 5 view .LVU286
 215:Application/ins_task.c ****     gy *= 0.5f * dt;
 828              		.loc 1 215 5 view .LVU287
 215:Application/ins_task.c ****     gy *= 0.5f * dt;
 829              		.loc 1 215 16 is_stmt 0 view .LVU288
 830 0000 F6EE007A 		vmov.f32	s15, #5.0e-1
 831 0004 61EEA71A 		vmul.f32	s3, s3, s15
 832              	.LVL39:
 215:Application/ins_task.c ****     gy *= 0.5f * dt;
 833              		.loc 1 215 8 view .LVU289
 834 0008 21EE800A 		vmul.f32	s0, s3, s0
 835              	.LVL40:
 216:Application/ins_task.c ****     gz *= 0.5f * dt;
 836              		.loc 1 216 5 is_stmt 1 view .LVU290
 216:Application/ins_task.c ****     gz *= 0.5f * dt;
 837              		.loc 1 216 8 is_stmt 0 view .LVU291
 838 000c 61EEA00A 		vmul.f32	s1, s3, s1
 839              	.LVL41:
 217:Application/ins_task.c ****     qa = q[0];
 840              		.loc 1 217 5 is_stmt 1 view .LVU292
 217:Application/ins_task.c ****     qa = q[0];
 841              		.loc 1 217 8 is_stmt 0 view .LVU293
 842 0010 21EE811A 		vmul.f32	s2, s3, s2
 843              	.LVL42:
 218:Application/ins_task.c ****     qb = q[1];
 844              		.loc 1 218 5 is_stmt 1 view .LVU294
 218:Application/ins_task.c ****     qb = q[1];
 845              		.loc 1 218 8 is_stmt 0 view .LVU295
 846 0014 D0ED001A 		vldr.32	s3, [r0]
 847              	.LVL43:
 219:Application/ins_task.c ****     qc = q[2];
 848              		.loc 1 219 5 is_stmt 1 view .LVU296
 219:Application/ins_task.c ****     qc = q[2];
 849              		.loc 1 219 8 is_stmt 0 view .LVU297
 850 0018 90ED016A 		vldr.32	s12, [r0, #4]
 851              	.LVL44:
 220:Application/ins_task.c ****     q[0] += (-qb * gx - qc * gy - q[3] * gz);
 852              		.loc 1 220 5 is_stmt 1 view .LVU298
 220:Application/ins_task.c ****     q[0] += (-qb * gx - qc * gy - q[3] * gz);
 853              		.loc 1 220 8 is_stmt 0 view .LVU299
 854 001c D0ED026A 		vldr.32	s13, [r0, #8]
 855              	.LVL45:
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 27


 221:Application/ins_task.c ****     q[1] += (qa * gx + qc * gz - q[3] * gy);
 856              		.loc 1 221 5 is_stmt 1 view .LVU300
 221:Application/ins_task.c ****     q[1] += (qa * gx + qc * gz - q[3] * gy);
 857              		.loc 1 221 18 is_stmt 0 view .LVU301
 858 0020 66EE407A 		vnmul.f32	s15, s12, s0
 221:Application/ins_task.c ****     q[1] += (qa * gx + qc * gz - q[3] * gy);
 859              		.loc 1 221 28 view .LVU302
 860 0024 20EEA67A 		vmul.f32	s14, s1, s13
 221:Application/ins_task.c ****     q[1] += (qa * gx + qc * gz - q[3] * gy);
 861              		.loc 1 221 23 view .LVU303
 862 0028 77EEC77A 		vsub.f32	s15, s15, s14
 221:Application/ins_task.c ****     q[1] += (qa * gx + qc * gz - q[3] * gy);
 863              		.loc 1 221 36 view .LVU304
 864 002c 90ED037A 		vldr.32	s14, [r0, #12]
 221:Application/ins_task.c ****     q[1] += (qa * gx + qc * gz - q[3] * gy);
 865              		.loc 1 221 40 view .LVU305
 866 0030 67EE015A 		vmul.f32	s11, s14, s2
 221:Application/ins_task.c ****     q[1] += (qa * gx + qc * gz - q[3] * gy);
 867              		.loc 1 221 33 view .LVU306
 868 0034 77EEE57A 		vsub.f32	s15, s15, s11
 221:Application/ins_task.c ****     q[1] += (qa * gx + qc * gz - q[3] * gy);
 869              		.loc 1 221 10 view .LVU307
 870 0038 77EEA17A 		vadd.f32	s15, s15, s3
 871 003c C0ED007A 		vstr.32	s15, [r0]
 222:Application/ins_task.c ****     q[2] += (qa * gy - qb * gz + q[3] * gx);
 872              		.loc 1 222 5 is_stmt 1 view .LVU308
 222:Application/ins_task.c ****     q[2] += (qa * gy - qb * gz + q[3] * gx);
 873              		.loc 1 222 17 is_stmt 0 view .LVU309
 874 0040 60EE217A 		vmul.f32	s15, s0, s3
 222:Application/ins_task.c ****     q[2] += (qa * gy - qb * gz + q[3] * gx);
 875              		.loc 1 222 27 view .LVU310
 876 0044 61EE265A 		vmul.f32	s11, s2, s13
 222:Application/ins_task.c ****     q[2] += (qa * gy - qb * gz + q[3] * gx);
 877              		.loc 1 222 22 view .LVU311
 878 0048 77EEA57A 		vadd.f32	s15, s15, s11
 222:Application/ins_task.c ****     q[2] += (qa * gy - qb * gz + q[3] * gx);
 879              		.loc 1 222 39 view .LVU312
 880 004c 67EE205A 		vmul.f32	s11, s14, s1
 222:Application/ins_task.c ****     q[2] += (qa * gy - qb * gz + q[3] * gx);
 881              		.loc 1 222 32 view .LVU313
 882 0050 77EEE57A 		vsub.f32	s15, s15, s11
 222:Application/ins_task.c ****     q[2] += (qa * gy - qb * gz + q[3] * gx);
 883              		.loc 1 222 10 view .LVU314
 884 0054 77EE867A 		vadd.f32	s15, s15, s12
 885 0058 C0ED017A 		vstr.32	s15, [r0, #4]
 223:Application/ins_task.c ****     q[3] += (qa * gz + qb * gy - qc * gx);
 886              		.loc 1 223 5 is_stmt 1 view .LVU315
 223:Application/ins_task.c ****     q[3] += (qa * gz + qb * gy - qc * gx);
 887              		.loc 1 223 17 is_stmt 0 view .LVU316
 888 005c 60EEA17A 		vmul.f32	s15, s1, s3
 223:Application/ins_task.c ****     q[3] += (qa * gz + qb * gy - qc * gx);
 889              		.loc 1 223 27 view .LVU317
 890 0060 61EE065A 		vmul.f32	s11, s2, s12
 223:Application/ins_task.c ****     q[3] += (qa * gz + qb * gy - qc * gx);
 891              		.loc 1 223 22 view .LVU318
 892 0064 77EEE57A 		vsub.f32	s15, s15, s11
 223:Application/ins_task.c ****     q[3] += (qa * gz + qb * gy - qc * gx);
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 28


 893              		.loc 1 223 39 view .LVU319
 894 0068 67EE005A 		vmul.f32	s11, s14, s0
 223:Application/ins_task.c ****     q[3] += (qa * gz + qb * gy - qc * gx);
 895              		.loc 1 223 32 view .LVU320
 896 006c 77EEA57A 		vadd.f32	s15, s15, s11
 223:Application/ins_task.c ****     q[3] += (qa * gz + qb * gy - qc * gx);
 897              		.loc 1 223 10 view .LVU321
 898 0070 77EEA67A 		vadd.f32	s15, s15, s13
 899 0074 C0ED027A 		vstr.32	s15, [r0, #8]
 224:Application/ins_task.c **** }
 900              		.loc 1 224 5 is_stmt 1 view .LVU322
 224:Application/ins_task.c **** }
 901              		.loc 1 224 17 is_stmt 0 view .LVU323
 902 0078 21EE211A 		vmul.f32	s2, s2, s3
 903              	.LVL46:
 224:Application/ins_task.c **** }
 904              		.loc 1 224 27 view .LVU324
 905 007c 60EE860A 		vmul.f32	s1, s1, s12
 906              	.LVL47:
 224:Application/ins_task.c **** }
 907              		.loc 1 224 22 view .LVU325
 908 0080 31EE201A 		vadd.f32	s2, s2, s1
 224:Application/ins_task.c **** }
 909              		.loc 1 224 37 view .LVU326
 910 0084 20EE260A 		vmul.f32	s0, s0, s13
 911              	.LVL48:
 224:Application/ins_task.c **** }
 912              		.loc 1 224 32 view .LVU327
 913 0088 31EE401A 		vsub.f32	s2, s2, s0
 224:Application/ins_task.c **** }
 914              		.loc 1 224 10 view .LVU328
 915 008c 37EE011A 		vadd.f32	s2, s14, s2
 916 0090 80ED031A 		vstr.32	s2, [r0, #12]
 225:Application/ins_task.c **** 
 917              		.loc 1 225 1 view .LVU329
 918 0094 7047     		bx	lr
 919              		.cfi_endproc
 920              	.LFE175:
 922              		.section	.text.QuaternionToEularAngle,"ax",%progbits
 923              		.align	1
 924              		.global	QuaternionToEularAngle
 925              		.syntax unified
 926              		.thumb
 927              		.thumb_func
 929              	QuaternionToEularAngle:
 930              	.LVL49:
 931              	.LFB176:
 231:Application/ins_task.c ****     *Yaw = atan2f(2.0f * (q[0] * q[3] + q[1] * q[2]), 2.0f * (q[0] * q[0] + q[1] * q[1]) - 1.0f) * 
 932              		.loc 1 231 1 is_stmt 1 view -0
 933              		.cfi_startproc
 934              		@ args = 0, pretend = 0, frame = 0
 935              		@ frame_needed = 0, uses_anonymous_args = 0
 231:Application/ins_task.c ****     *Yaw = atan2f(2.0f * (q[0] * q[3] + q[1] * q[2]), 2.0f * (q[0] * q[0] + q[1] * q[1]) - 1.0f) * 
 936              		.loc 1 231 1 is_stmt 0 view .LVU331
 937 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 938              	.LCFI8:
 939              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 29


 940              		.cfi_offset 3, -24
 941              		.cfi_offset 4, -20
 942              		.cfi_offset 5, -16
 943              		.cfi_offset 6, -12
 944              		.cfi_offset 7, -8
 945              		.cfi_offset 14, -4
 946 0002 2DED028B 		vpush.64	{d8}
 947              	.LCFI9:
 948              		.cfi_def_cfa_offset 32
 949              		.cfi_offset 80, -32
 950              		.cfi_offset 81, -28
 951 0006 0446     		mov	r4, r0
 952 0008 0F46     		mov	r7, r1
 953 000a 1646     		mov	r6, r2
 954 000c 1D46     		mov	r5, r3
 232:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 955              		.loc 1 232 5 is_stmt 1 view .LVU332
 232:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 956              		.loc 1 232 28 is_stmt 0 view .LVU333
 957 000e D0ED000A 		vldr.32	s1, [r0]
 232:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 958              		.loc 1 232 35 view .LVU334
 959 0012 90ED030A 		vldr.32	s0, [r0, #12]
 232:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 960              		.loc 1 232 32 view .LVU335
 961 0016 20EE800A 		vmul.f32	s0, s1, s0
 232:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 962              		.loc 1 232 42 view .LVU336
 963 001a D0ED017A 		vldr.32	s15, [r0, #4]
 232:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 964              		.loc 1 232 49 view .LVU337
 965 001e 90ED027A 		vldr.32	s14, [r0, #8]
 232:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 966              		.loc 1 232 46 view .LVU338
 967 0022 27EE877A 		vmul.f32	s14, s15, s14
 232:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 968              		.loc 1 232 39 view .LVU339
 969 0026 30EE070A 		vadd.f32	s0, s0, s14
 232:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 970              		.loc 1 232 68 view .LVU340
 971 002a 60EEA00A 		vmul.f32	s1, s1, s1
 232:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 972              		.loc 1 232 82 view .LVU341
 973 002e 67EEA77A 		vmul.f32	s15, s15, s15
 232:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 974              		.loc 1 232 75 view .LVU342
 975 0032 70EEA70A 		vadd.f32	s1, s1, s15
 232:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 976              		.loc 1 232 60 view .LVU343
 977 0036 70EEA00A 		vadd.f32	s1, s1, s1
 232:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 978              		.loc 1 232 12 view .LVU344
 979 003a F7EE008A 		vmov.f32	s17, #1.0e+0
 980 003e 70EEE80A 		vsub.f32	s1, s1, s17
 981 0042 30EE000A 		vadd.f32	s0, s0, s0
 982 0046 FFF7FEFF 		bl	atan2f
 983              	.LVL50:
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 30


 232:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 984              		.loc 1 232 98 view .LVU345
 985 004a 9FED1F8A 		vldr.32	s16, .L20
 986 004e 20EE080A 		vmul.f32	s0, s0, s16
 232:Application/ins_task.c ****     *Pitch = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 2.0f * (q[0] * q[0] + q[3] * q[3]) - 1.0f) 
 987              		.loc 1 232 10 view .LVU346
 988 0052 87ED000A 		vstr.32	s0, [r7]
 233:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 989              		.loc 1 233 5 is_stmt 1 view .LVU347
 233:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 990              		.loc 1 233 30 is_stmt 0 view .LVU348
 991 0056 D4ED000A 		vldr.32	s1, [r4]
 233:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 992              		.loc 1 233 37 view .LVU349
 993 005a 94ED010A 		vldr.32	s0, [r4, #4]
 233:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 994              		.loc 1 233 34 view .LVU350
 995 005e 20EE800A 		vmul.f32	s0, s1, s0
 233:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 996              		.loc 1 233 44 view .LVU351
 997 0062 94ED027A 		vldr.32	s14, [r4, #8]
 233:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 998              		.loc 1 233 51 view .LVU352
 999 0066 D4ED037A 		vldr.32	s15, [r4, #12]
 233:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 1000              		.loc 1 233 48 view .LVU353
 1001 006a 27EE277A 		vmul.f32	s14, s14, s15
 233:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 1002              		.loc 1 233 41 view .LVU354
 1003 006e 30EE070A 		vadd.f32	s0, s0, s14
 233:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 1004              		.loc 1 233 70 view .LVU355
 1005 0072 60EEA00A 		vmul.f32	s1, s1, s1
 233:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 1006              		.loc 1 233 84 view .LVU356
 1007 0076 67EEA77A 		vmul.f32	s15, s15, s15
 233:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 1008              		.loc 1 233 77 view .LVU357
 1009 007a 70EEA70A 		vadd.f32	s1, s1, s15
 233:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 1010              		.loc 1 233 62 view .LVU358
 1011 007e 70EEA00A 		vadd.f32	s1, s1, s1
 233:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 1012              		.loc 1 233 14 view .LVU359
 1013 0082 70EEE80A 		vsub.f32	s1, s1, s17
 1014 0086 30EE000A 		vadd.f32	s0, s0, s0
 1015 008a FFF7FEFF 		bl	atan2f
 1016              	.LVL51:
 233:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 1017              		.loc 1 233 100 view .LVU360
 1018 008e 20EE080A 		vmul.f32	s0, s0, s16
 233:Application/ins_task.c ****     *Roll = asinf(2.0f * (q[0] * q[2] - q[1] * q[3])) * 57.295779513f;
 1019              		.loc 1 233 12 view .LVU361
 1020 0092 86ED000A 		vstr.32	s0, [r6]
 234:Application/ins_task.c **** }
 1021              		.loc 1 234 5 is_stmt 1 view .LVU362
 234:Application/ins_task.c **** }
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 31


 1022              		.loc 1 234 28 is_stmt 0 view .LVU363
 1023 0096 94ED000A 		vldr.32	s0, [r4]
 234:Application/ins_task.c **** }
 1024              		.loc 1 234 35 view .LVU364
 1025 009a D4ED027A 		vldr.32	s15, [r4, #8]
 234:Application/ins_task.c **** }
 1026              		.loc 1 234 32 view .LVU365
 1027 009e 20EE270A 		vmul.f32	s0, s0, s15
 234:Application/ins_task.c **** }
 1028              		.loc 1 234 42 view .LVU366
 1029 00a2 D4ED017A 		vldr.32	s15, [r4, #4]
 234:Application/ins_task.c **** }
 1030              		.loc 1 234 49 view .LVU367
 1031 00a6 94ED037A 		vldr.32	s14, [r4, #12]
 234:Application/ins_task.c **** }
 1032              		.loc 1 234 46 view .LVU368
 1033 00aa 67EE877A 		vmul.f32	s15, s15, s14
 234:Application/ins_task.c **** }
 1034              		.loc 1 234 39 view .LVU369
 1035 00ae 30EE670A 		vsub.f32	s0, s0, s15
 234:Application/ins_task.c **** }
 1036              		.loc 1 234 13 view .LVU370
 1037 00b2 30EE000A 		vadd.f32	s0, s0, s0
 1038 00b6 FFF7FEFF 		bl	asinf
 1039              	.LVL52:
 234:Application/ins_task.c **** }
 1040              		.loc 1 234 55 view .LVU371
 1041 00ba 20EE080A 		vmul.f32	s0, s0, s16
 234:Application/ins_task.c **** }
 1042              		.loc 1 234 11 view .LVU372
 1043 00be 85ED000A 		vstr.32	s0, [r5]
 235:Application/ins_task.c **** 
 1044              		.loc 1 235 1 view .LVU373
 1045 00c2 BDEC028B 		vldm	sp!, {d8}
 1046              	.LCFI10:
 1047              		.cfi_restore 80
 1048              		.cfi_restore 81
 1049              		.cfi_def_cfa_offset 24
 1050 00c6 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1051              	.LVL53:
 1052              	.L21:
 235:Application/ins_task.c **** 
 1053              		.loc 1 235 1 view .LVU374
 1054              		.align	2
 1055              	.L20:
 1056 00c8 E12E6542 		.word	1113927393
 1057              		.cfi_endproc
 1058              	.LFE176:
 1060              		.section	.text.EularAngleToQuaternion,"ax",%progbits
 1061              		.align	1
 1062              		.global	EularAngleToQuaternion
 1063              		.syntax unified
 1064              		.thumb
 1065              		.thumb_func
 1067              	EularAngleToQuaternion:
 1068              	.LVL54:
 1069              	.LFB177:
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 32


 241:Application/ins_task.c ****     float cosPitch, cosYaw, cosRoll, sinPitch, sinYaw, sinRoll;
 1070              		.loc 1 241 1 is_stmt 1 view -0
 1071              		.cfi_startproc
 1072              		@ args = 0, pretend = 0, frame = 0
 1073              		@ frame_needed = 0, uses_anonymous_args = 0
 241:Application/ins_task.c ****     float cosPitch, cosYaw, cosRoll, sinPitch, sinYaw, sinRoll;
 1074              		.loc 1 241 1 is_stmt 0 view .LVU376
 1075 0000 10B5     		push	{r4, lr}
 1076              	.LCFI11:
 1077              		.cfi_def_cfa_offset 8
 1078              		.cfi_offset 4, -8
 1079              		.cfi_offset 14, -4
 1080 0002 2DED088B 		vpush.64	{d8, d9, d10, d11}
 1081              	.LCFI12:
 1082              		.cfi_def_cfa_offset 40
 1083              		.cfi_offset 80, -40
 1084              		.cfi_offset 81, -36
 1085              		.cfi_offset 82, -32
 1086              		.cfi_offset 83, -28
 1087              		.cfi_offset 84, -24
 1088              		.cfi_offset 85, -20
 1089              		.cfi_offset 86, -16
 1090              		.cfi_offset 87, -12
 1091 0006 0446     		mov	r4, r0
 242:Application/ins_task.c ****     Yaw /= 57.295779513f;
 1092              		.loc 1 242 5 is_stmt 1 view .LVU377
 243:Application/ins_task.c ****     Pitch /= 57.295779513f;
 1093              		.loc 1 243 5 view .LVU378
 243:Application/ins_task.c ****     Pitch /= 57.295779513f;
 1094              		.loc 1 243 9 is_stmt 0 view .LVU379
 1095 0008 DFED2E7A 		vldr.32	s15, .L24
 1096 000c C0EE279A 		vdiv.f32	s19, s0, s15
 1097              	.LVL55:
 244:Application/ins_task.c ****     Roll /= 57.295779513f;
 1098              		.loc 1 244 5 is_stmt 1 view .LVU380
 244:Application/ins_task.c ****     Roll /= 57.295779513f;
 1099              		.loc 1 244 11 is_stmt 0 view .LVU381
 1100 0010 80EEA7AA 		vdiv.f32	s20, s1, s15
 1101              	.LVL56:
 245:Application/ins_task.c ****     cosPitch = arm_cos_f32(Pitch / 2);
 1102              		.loc 1 245 5 is_stmt 1 view .LVU382
 245:Application/ins_task.c ****     cosPitch = arm_cos_f32(Pitch / 2);
 1103              		.loc 1 245 10 is_stmt 0 view .LVU383
 1104 0014 C1EE27AA 		vdiv.f32	s21, s2, s15
 1105              	.LVL57:
 246:Application/ins_task.c ****     cosYaw = arm_cos_f32(Yaw / 2);
 1106              		.loc 1 246 5 is_stmt 1 view .LVU384
 246:Application/ins_task.c ****     cosYaw = arm_cos_f32(Yaw / 2);
 1107              		.loc 1 246 16 is_stmt 0 view .LVU385
 1108 0018 B6EE00BA 		vmov.f32	s22, #5.0e-1
 1109 001c 2AEE0BAA 		vmul.f32	s20, s20, s22
 1110              	.LVL58:
 246:Application/ins_task.c ****     cosYaw = arm_cos_f32(Yaw / 2);
 1111              		.loc 1 246 16 view .LVU386
 1112 0020 B0EE4A0A 		vmov.f32	s0, s20
 1113 0024 FFF7FEFF 		bl	arm_cos_f32
 1114              	.LVL59:
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 33


 246:Application/ins_task.c ****     cosYaw = arm_cos_f32(Yaw / 2);
 1115              		.loc 1 246 16 view .LVU387
 1116 0028 F0EE408A 		vmov.f32	s17, s0
 1117              	.LVL60:
 247:Application/ins_task.c ****     cosRoll = arm_cos_f32(Roll / 2);
 1118              		.loc 1 247 5 is_stmt 1 view .LVU388
 247:Application/ins_task.c ****     cosRoll = arm_cos_f32(Roll / 2);
 1119              		.loc 1 247 14 is_stmt 0 view .LVU389
 1120 002c 69EE8B9A 		vmul.f32	s19, s19, s22
 1121              	.LVL61:
 247:Application/ins_task.c ****     cosRoll = arm_cos_f32(Roll / 2);
 1122              		.loc 1 247 14 view .LVU390
 1123 0030 B0EE690A 		vmov.f32	s0, s19
 1124              	.LVL62:
 247:Application/ins_task.c ****     cosRoll = arm_cos_f32(Roll / 2);
 1125              		.loc 1 247 14 view .LVU391
 1126 0034 FFF7FEFF 		bl	arm_cos_f32
 1127              	.LVL63:
 1128 0038 B0EE409A 		vmov.f32	s18, s0
 1129              	.LVL64:
 248:Application/ins_task.c ****     sinPitch = arm_sin_f32(Pitch / 2);
 1130              		.loc 1 248 5 is_stmt 1 view .LVU392
 248:Application/ins_task.c ****     sinPitch = arm_sin_f32(Pitch / 2);
 1131              		.loc 1 248 15 is_stmt 0 view .LVU393
 1132 003c 6AEE8BAA 		vmul.f32	s21, s21, s22
 1133              	.LVL65:
 248:Application/ins_task.c ****     sinPitch = arm_sin_f32(Pitch / 2);
 1134              		.loc 1 248 15 view .LVU394
 1135 0040 B0EE6A0A 		vmov.f32	s0, s21
 1136              	.LVL66:
 248:Application/ins_task.c ****     sinPitch = arm_sin_f32(Pitch / 2);
 1137              		.loc 1 248 15 view .LVU395
 1138 0044 FFF7FEFF 		bl	arm_cos_f32
 1139              	.LVL67:
 1140 0048 B0EE408A 		vmov.f32	s16, s0
 1141              	.LVL68:
 249:Application/ins_task.c ****     sinYaw = arm_sin_f32(Yaw / 2);
 1142              		.loc 1 249 5 is_stmt 1 view .LVU396
 249:Application/ins_task.c ****     sinYaw = arm_sin_f32(Yaw / 2);
 1143              		.loc 1 249 16 is_stmt 0 view .LVU397
 1144 004c B0EE4A0A 		vmov.f32	s0, s20
 1145              	.LVL69:
 249:Application/ins_task.c ****     sinYaw = arm_sin_f32(Yaw / 2);
 1146              		.loc 1 249 16 view .LVU398
 1147 0050 FFF7FEFF 		bl	arm_sin_f32
 1148              	.LVL70:
 1149 0054 B0EE40AA 		vmov.f32	s20, s0
 1150              	.LVL71:
 250:Application/ins_task.c ****     sinRoll = arm_sin_f32(Roll / 2);
 1151              		.loc 1 250 5 is_stmt 1 view .LVU399
 250:Application/ins_task.c ****     sinRoll = arm_sin_f32(Roll / 2);
 1152              		.loc 1 250 14 is_stmt 0 view .LVU400
 1153 0058 B0EE690A 		vmov.f32	s0, s19
 1154              	.LVL72:
 250:Application/ins_task.c ****     sinRoll = arm_sin_f32(Roll / 2);
 1155              		.loc 1 250 14 view .LVU401
 1156 005c FFF7FEFF 		bl	arm_sin_f32
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 34


 1157              	.LVL73:
 1158 0060 F0EE409A 		vmov.f32	s19, s0
 1159              	.LVL74:
 251:Application/ins_task.c ****     q[0] = cosPitch * cosRoll * cosYaw + sinPitch * sinRoll * sinYaw;
 1160              		.loc 1 251 5 is_stmt 1 view .LVU402
 251:Application/ins_task.c ****     q[0] = cosPitch * cosRoll * cosYaw + sinPitch * sinRoll * sinYaw;
 1161              		.loc 1 251 15 is_stmt 0 view .LVU403
 1162 0064 B0EE6A0A 		vmov.f32	s0, s21
 1163              	.LVL75:
 251:Application/ins_task.c ****     q[0] = cosPitch * cosRoll * cosYaw + sinPitch * sinRoll * sinYaw;
 1164              		.loc 1 251 15 view .LVU404
 1165 0068 FFF7FEFF 		bl	arm_sin_f32
 1166              	.LVL76:
 252:Application/ins_task.c ****     q[1] = sinPitch * cosRoll * cosYaw - cosPitch * sinRoll * sinYaw;
 1167              		.loc 1 252 5 is_stmt 1 view .LVU405
 252:Application/ins_task.c ****     q[1] = sinPitch * cosRoll * cosYaw - cosPitch * sinRoll * sinYaw;
 1168              		.loc 1 252 21 is_stmt 0 view .LVU406
 1169 006c 68EE887A 		vmul.f32	s15, s17, s16
 252:Application/ins_task.c ****     q[1] = sinPitch * cosRoll * cosYaw - cosPitch * sinRoll * sinYaw;
 1170              		.loc 1 252 31 view .LVU407
 1171 0070 67EE896A 		vmul.f32	s13, s15, s18
 252:Application/ins_task.c ****     q[1] = sinPitch * cosRoll * cosYaw - cosPitch * sinRoll * sinYaw;
 1172              		.loc 1 252 51 view .LVU408
 1173 0074 2AEE007A 		vmul.f32	s14, s20, s0
 252:Application/ins_task.c ****     q[1] = sinPitch * cosRoll * cosYaw - cosPitch * sinRoll * sinYaw;
 1174              		.loc 1 252 61 view .LVU409
 1175 0078 27EE296A 		vmul.f32	s12, s14, s19
 252:Application/ins_task.c ****     q[1] = sinPitch * cosRoll * cosYaw - cosPitch * sinRoll * sinYaw;
 1176              		.loc 1 252 40 view .LVU410
 1177 007c 76EE866A 		vadd.f32	s13, s13, s12
 252:Application/ins_task.c ****     q[1] = sinPitch * cosRoll * cosYaw - cosPitch * sinRoll * sinYaw;
 1178              		.loc 1 252 10 view .LVU411
 1179 0080 C4ED006A 		vstr.32	s13, [r4]
 253:Application/ins_task.c ****     q[2] = sinPitch * cosRoll * sinYaw + cosPitch * sinRoll * cosYaw;
 1180              		.loc 1 253 5 is_stmt 1 view .LVU412
 253:Application/ins_task.c ****     q[2] = sinPitch * cosRoll * sinYaw + cosPitch * sinRoll * cosYaw;
 1181              		.loc 1 253 21 is_stmt 0 view .LVU413
 1182 0084 28EE0A8A 		vmul.f32	s16, s16, s20
 1183              	.LVL77:
 253:Application/ins_task.c ****     q[2] = sinPitch * cosRoll * sinYaw + cosPitch * sinRoll * cosYaw;
 1184              		.loc 1 253 31 view .LVU414
 1185 0088 68EE096A 		vmul.f32	s13, s16, s18
 253:Application/ins_task.c ****     q[2] = sinPitch * cosRoll * sinYaw + cosPitch * sinRoll * cosYaw;
 1186              		.loc 1 253 51 view .LVU415
 1187 008c 68EE808A 		vmul.f32	s17, s17, s0
 1188              	.LVL78:
 253:Application/ins_task.c ****     q[2] = sinPitch * cosRoll * sinYaw + cosPitch * sinRoll * cosYaw;
 1189              		.loc 1 253 61 view .LVU416
 1190 0090 28EEA96A 		vmul.f32	s12, s17, s19
 253:Application/ins_task.c ****     q[2] = sinPitch * cosRoll * sinYaw + cosPitch * sinRoll * cosYaw;
 1191              		.loc 1 253 40 view .LVU417
 1192 0094 76EEC66A 		vsub.f32	s13, s13, s12
 253:Application/ins_task.c ****     q[2] = sinPitch * cosRoll * sinYaw + cosPitch * sinRoll * cosYaw;
 1193              		.loc 1 253 10 view .LVU418
 1194 0098 C4ED016A 		vstr.32	s13, [r4, #4]
 254:Application/ins_task.c ****     q[3] = cosPitch * cosRoll * sinYaw - sinPitch * sinRoll * cosYaw;
 1195              		.loc 1 254 5 is_stmt 1 view .LVU419
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 35


 254:Application/ins_task.c ****     q[3] = cosPitch * cosRoll * sinYaw - sinPitch * sinRoll * cosYaw;
 1196              		.loc 1 254 31 is_stmt 0 view .LVU420
 1197 009c 28EE298A 		vmul.f32	s16, s16, s19
 254:Application/ins_task.c ****     q[3] = cosPitch * cosRoll * sinYaw - sinPitch * sinRoll * cosYaw;
 1198              		.loc 1 254 61 view .LVU421
 1199 00a0 68EE898A 		vmul.f32	s17, s17, s18
 254:Application/ins_task.c ****     q[3] = cosPitch * cosRoll * sinYaw - sinPitch * sinRoll * cosYaw;
 1200              		.loc 1 254 40 view .LVU422
 1201 00a4 38EE288A 		vadd.f32	s16, s16, s17
 254:Application/ins_task.c ****     q[3] = cosPitch * cosRoll * sinYaw - sinPitch * sinRoll * cosYaw;
 1202              		.loc 1 254 10 view .LVU423
 1203 00a8 84ED028A 		vstr.32	s16, [r4, #8]
 255:Application/ins_task.c **** }
 1204              		.loc 1 255 5 is_stmt 1 view .LVU424
 255:Application/ins_task.c **** }
 1205              		.loc 1 255 31 is_stmt 0 view .LVU425
 1206 00ac 67EEA97A 		vmul.f32	s15, s15, s19
 255:Application/ins_task.c **** }
 1207              		.loc 1 255 61 view .LVU426
 1208 00b0 27EE097A 		vmul.f32	s14, s14, s18
 255:Application/ins_task.c **** }
 1209              		.loc 1 255 40 view .LVU427
 1210 00b4 77EEC77A 		vsub.f32	s15, s15, s14
 255:Application/ins_task.c **** }
 1211              		.loc 1 255 10 view .LVU428
 1212 00b8 C4ED037A 		vstr.32	s15, [r4, #12]
 256:Application/ins_task.c **** 
 1213              		.loc 1 256 1 view .LVU429
 1214 00bc BDEC088B 		vldm	sp!, {d8-d11}
 1215              	.LCFI13:
 1216              		.cfi_restore 86
 1217              		.cfi_restore 87
 1218              		.cfi_restore 84
 1219              		.cfi_restore 85
 1220              		.cfi_restore 82
 1221              		.cfi_restore 83
 1222              		.cfi_restore 80
 1223              		.cfi_restore 81
 1224              		.cfi_def_cfa_offset 8
 1225              	.LVL79:
 256:Application/ins_task.c **** 
 1226              		.loc 1 256 1 view .LVU430
 1227 00c0 10BD     		pop	{r4, pc}
 1228              	.LVL80:
 1229              	.L25:
 256:Application/ins_task.c **** 
 1230              		.loc 1 256 1 view .LVU431
 1231 00c2 00BF     		.align	2
 1232              	.L24:
 1233 00c4 E12E6542 		.word	1113927393
 1234              		.cfi_endproc
 1235              	.LFE177:
 1237              		.section	.text.InsertQuaternionFrame,"ax",%progbits
 1238              		.align	1
 1239              		.global	InsertQuaternionFrame
 1240              		.syntax unified
 1241              		.thumb
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 36


 1242              		.thumb_func
 1244              	InsertQuaternionFrame:
 1245              	.LVL81:
 1246              	.LFB178:
 259:Application/ins_task.c ****     if (qBuf->LatestNum == Q_FRAME_LEN - 1)
 1247              		.loc 1 259 1 is_stmt 1 view -0
 1248              		.cfi_startproc
 1249              		@ args = 0, pretend = 0, frame = 0
 1250              		@ frame_needed = 0, uses_anonymous_args = 0
 259:Application/ins_task.c ****     if (qBuf->LatestNum == Q_FRAME_LEN - 1)
 1251              		.loc 1 259 1 is_stmt 0 view .LVU433
 1252 0000 00B5     		push	{lr}
 1253              	.LCFI14:
 1254              		.cfi_def_cfa_offset 4
 1255              		.cfi_offset 14, -4
 260:Application/ins_task.c ****         qBuf->LatestNum = 0;
 1256              		.loc 1 260 5 is_stmt 1 view .LVU434
 260:Application/ins_task.c ****         qBuf->LatestNum = 0;
 1257              		.loc 1 260 13 is_stmt 0 view .LVU435
 1258 0002 B0F840C6 		ldrh	ip, [r0, #1600]
 260:Application/ins_task.c ****         qBuf->LatestNum = 0;
 1259              		.loc 1 260 8 view .LVU436
 1260 0006 BCF1310F 		cmp	ip, #49
 1261 000a 0BD0     		beq	.L34
 263:Application/ins_task.c **** 
 1262              		.loc 1 263 9 is_stmt 1 view .LVU437
 263:Application/ins_task.c **** 
 1263              		.loc 1 263 24 is_stmt 0 view .LVU438
 1264 000c 0CF1010C 		add	ip, ip, #1
 1265 0010 A0F840C6 		strh	ip, [r0, #1600]	@ movhi
 1266              	.L28:
 265:Application/ins_task.c ****     for (uint16_t i = 0; i < 4; i++)
 1267              		.loc 1 265 5 is_stmt 1 view .LVU439
 265:Application/ins_task.c ****     for (uint16_t i = 0; i < 4; i++)
 1268              		.loc 1 265 22 is_stmt 0 view .LVU440
 1269 0014 B0F840E6 		ldrh	lr, [r0, #1600]
 265:Application/ins_task.c ****     for (uint16_t i = 0; i < 4; i++)
 1270              		.loc 1 265 48 view .LVU441
 1271 0018 00EB4E1C 		add	ip, r0, lr, lsl #5
 1272 001c CCF81C30 		str	r3, [ip, #28]
 266:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].q[i] = q[i];
 1273              		.loc 1 266 5 is_stmt 1 view .LVU442
 1274              	.LBB4:
 266:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].q[i] = q[i];
 1275              		.loc 1 266 10 view .LVU443
 1276              	.LVL82:
 266:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].q[i] = q[i];
 1277              		.loc 1 266 19 is_stmt 0 view .LVU444
 1278 0020 0023     		movs	r3, #0
 1279              	.LVL83:
 266:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].q[i] = q[i];
 1280              		.loc 1 266 5 view .LVU445
 1281 0022 10E0     		b	.L29
 1282              	.LVL84:
 1283              	.L34:
 266:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].q[i] = q[i];
 1284              		.loc 1 266 5 view .LVU446
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 37


 1285              	.LBE4:
 261:Application/ins_task.c ****     else
 1286              		.loc 1 261 9 is_stmt 1 view .LVU447
 261:Application/ins_task.c ****     else
 1287              		.loc 1 261 25 is_stmt 0 view .LVU448
 1288 0024 4FF0000C 		mov	ip, #0
 1289 0028 A0F840C6 		strh	ip, [r0, #1600]	@ movhi
 1290 002c F2E7     		b	.L28
 1291              	.LVL85:
 1292              	.L30:
 1293              	.LBB5:
 267:Application/ins_task.c ****     for (uint16_t i = 0; i < 3; i++)
 1294              		.loc 1 267 9 is_stmt 1 discriminator 3 view .LVU449
 267:Application/ins_task.c ****     for (uint16_t i = 0; i < 3; i++)
 1295              		.loc 1 267 47 is_stmt 0 discriminator 3 view .LVU450
 1296 002e 01EB830C 		add	ip, r1, r3, lsl #2
 1297 0032 DCED007A 		vldr.32	s15, [ip]
 267:Application/ins_task.c ****     for (uint16_t i = 0; i < 3; i++)
 1298              		.loc 1 267 44 discriminator 3 view .LVU451
 1299 0036 03EBCE0C 		add	ip, r3, lr, lsl #3
 1300 003a 00EB8C0C 		add	ip, r0, ip, lsl #2
 1301 003e CCED007A 		vstr.32	s15, [ip]
 266:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].q[i] = q[i];
 1302              		.loc 1 266 33 is_stmt 1 discriminator 3 view .LVU452
 266:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].q[i] = q[i];
 1303              		.loc 1 266 34 is_stmt 0 discriminator 3 view .LVU453
 1304 0042 0133     		adds	r3, r3, #1
 1305              	.LVL86:
 266:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].q[i] = q[i];
 1306              		.loc 1 266 34 discriminator 3 view .LVU454
 1307 0044 9BB2     		uxth	r3, r3
 1308              	.LVL87:
 1309              	.L29:
 266:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].q[i] = q[i];
 1310              		.loc 1 266 26 is_stmt 1 discriminator 1 view .LVU455
 266:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].q[i] = q[i];
 1311              		.loc 1 266 5 is_stmt 0 discriminator 1 view .LVU456
 1312 0046 032B     		cmp	r3, #3
 1313 0048 F1D9     		bls	.L30
 1314              	.LBE5:
 1315              	.LBB6:
 268:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].MotionAccel_n[i] = motion_acc_n[i];
 1316              		.loc 1 268 19 view .LVU457
 1317 004a 0023     		movs	r3, #0
 1318              	.LVL88:
 268:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].MotionAccel_n[i] = motion_acc_n[i];
 1319              		.loc 1 268 19 view .LVU458
 1320 004c 0CE0     		b	.L31
 1321              	.LVL89:
 1322              	.L32:
 269:Application/ins_task.c **** }
 1323              		.loc 1 269 9 is_stmt 1 discriminator 3 view .LVU459
 269:Application/ins_task.c **** }
 1324              		.loc 1 269 70 is_stmt 0 discriminator 3 view .LVU460
 1325 004e 02EB8301 		add	r1, r2, r3, lsl #2
 1326 0052 D1F800C0 		ldr	ip, [r1]	@ float
 269:Application/ins_task.c **** }
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 38


 1327              		.loc 1 269 56 discriminator 3 view .LVU461
 1328 0056 03EBCE01 		add	r1, r3, lr, lsl #3
 1329 005a 0431     		adds	r1, r1, #4
 1330 005c 00EB8101 		add	r1, r0, r1, lsl #2
 1331 0060 C1F800C0 		str	ip, [r1]	@ float
 268:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].MotionAccel_n[i] = motion_acc_n[i];
 1332              		.loc 1 268 33 is_stmt 1 discriminator 3 view .LVU462
 268:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].MotionAccel_n[i] = motion_acc_n[i];
 1333              		.loc 1 268 34 is_stmt 0 discriminator 3 view .LVU463
 1334 0064 0133     		adds	r3, r3, #1
 1335              	.LVL90:
 268:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].MotionAccel_n[i] = motion_acc_n[i];
 1336              		.loc 1 268 34 discriminator 3 view .LVU464
 1337 0066 9BB2     		uxth	r3, r3
 1338              	.LVL91:
 1339              	.L31:
 268:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].MotionAccel_n[i] = motion_acc_n[i];
 1340              		.loc 1 268 26 is_stmt 1 discriminator 1 view .LVU465
 268:Application/ins_task.c ****         qBuf->qFrame[qBuf->LatestNum].MotionAccel_n[i] = motion_acc_n[i];
 1341              		.loc 1 268 5 is_stmt 0 discriminator 1 view .LVU466
 1342 0068 022B     		cmp	r3, #2
 1343 006a F0D9     		bls	.L32
 1344              	.LBE6:
 270:Application/ins_task.c **** 
 1345              		.loc 1 270 1 view .LVU467
 1346 006c 5DF804FB 		ldr	pc, [sp], #4
 1347              		.cfi_endproc
 1348              	.LFE178:
 1350              		.section	.text.FindTimeMatchFrame,"ax",%progbits
 1351              		.align	1
 1352              		.global	FindTimeMatchFrame
 1353              		.syntax unified
 1354              		.thumb
 1355              		.thumb_func
 1357              	FindTimeMatchFrame:
 1358              	.LVL92:
 1359              	.LFB179:
 273:Application/ins_task.c ****     int min_time_error = abs(qBuf->qFrame[0].TimeStamp_ms - match_time_stamp_ms);
 1360              		.loc 1 273 1 is_stmt 1 view -0
 1361              		.cfi_startproc
 1362              		@ args = 0, pretend = 0, frame = 0
 1363              		@ frame_needed = 0, uses_anonymous_args = 0
 273:Application/ins_task.c ****     int min_time_error = abs(qBuf->qFrame[0].TimeStamp_ms - match_time_stamp_ms);
 1364              		.loc 1 273 1 is_stmt 0 view .LVU469
 1365 0000 10B5     		push	{r4, lr}
 1366              	.LCFI15:
 1367              		.cfi_def_cfa_offset 8
 1368              		.cfi_offset 4, -8
 1369              		.cfi_offset 14, -4
 1370 0002 0446     		mov	r4, r0
 274:Application/ins_task.c ****     uint16_t num = 0;
 1371              		.loc 1 274 5 is_stmt 1 view .LVU470
 274:Application/ins_task.c ****     uint16_t num = 0;
 1372              		.loc 1 274 26 is_stmt 0 view .LVU471
 1373 0004 C269     		ldr	r2, [r0, #28]
 1374 0006 8A42     		cmp	r2, r1
 1375 0008 04D0     		beq	.L36
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 39


 274:Application/ins_task.c ****     uint16_t num = 0;
 1376              		.loc 1 274 26 discriminator 1 view .LVU472
 1377 000a A2EB010E 		sub	lr, r2, r1
 1378              	.L38:
 1379              	.LBB7:
 281:Application/ins_task.c ****         }
 1380              		.loc 1 281 17 discriminator 1 view .LVU473
 1381 000e 0023     		movs	r3, #0
 1382 0010 1846     		mov	r0, r3
 1383              	.LVL93:
 281:Application/ins_task.c ****         }
 1384              		.loc 1 281 17 discriminator 1 view .LVU474
 1385 0012 0EE0     		b	.L37
 1386              	.LVL94:
 1387              	.L36:
 281:Application/ins_task.c ****         }
 1388              		.loc 1 281 17 discriminator 1 view .LVU475
 1389              	.LBE7:
 274:Application/ins_task.c ****     uint16_t num = 0;
 1390              		.loc 1 274 26 discriminator 2 view .LVU476
 1391 0014 5242     		rsbs	r2, r2, #0
 1392 0016 A2EB010E 		sub	lr, r2, r1
 1393 001a F8E7     		b	.L38
 1394              	.LVL95:
 1395              	.L39:
 1396              	.LBB8:
 278:Application/ins_task.c ****         {
 1397              		.loc 1 278 13 discriminator 2 view .LVU477
 1398 001c C2F1000C 		rsb	ip, r2, #0
 1399 0020 ACEB010C 		sub	ip, ip, r1
 1400 0024 0FE0     		b	.L40
 1401              	.L42:
 280:Application/ins_task.c ****             num = i;
 1402              		.loc 1 280 30 discriminator 2 view .LVU478
 1403 0026 5242     		rsbs	r2, r2, #0
 1404 0028 A2EB010E 		sub	lr, r2, r1
 1405              	.LVL96:
 281:Application/ins_task.c ****         }
 1406              		.loc 1 281 17 discriminator 2 view .LVU479
 1407 002c 1846     		mov	r0, r3
 1408              	.LVL97:
 1409              	.L41:
 276:Application/ins_task.c ****     {
 1410              		.loc 1 276 43 is_stmt 1 discriminator 2 view .LVU480
 276:Application/ins_task.c ****     {
 1411              		.loc 1 276 44 is_stmt 0 discriminator 2 view .LVU481
 1412 002e 0133     		adds	r3, r3, #1
 1413              	.LVL98:
 276:Application/ins_task.c ****     {
 1414              		.loc 1 276 44 discriminator 2 view .LVU482
 1415 0030 9BB2     		uxth	r3, r3
 1416              	.LVL99:
 1417              	.L37:
 276:Application/ins_task.c ****     {
 1418              		.loc 1 276 26 is_stmt 1 discriminator 1 view .LVU483
 276:Application/ins_task.c ****     {
 1419              		.loc 1 276 5 is_stmt 0 discriminator 1 view .LVU484
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 40


 1420 0032 312B     		cmp	r3, #49
 1421 0034 0FD8     		bhi	.L45
 278:Application/ins_task.c ****         {
 1422              		.loc 1 278 9 is_stmt 1 view .LVU485
 278:Application/ins_task.c ****         {
 1423              		.loc 1 278 13 is_stmt 0 view .LVU486
 1424 0036 04EB431C 		add	ip, r4, r3, lsl #5
 1425 003a DCF81C20 		ldr	r2, [ip, #28]
 1426 003e 8A42     		cmp	r2, r1
 1427 0040 ECD0     		beq	.L39
 278:Application/ins_task.c ****         {
 1428              		.loc 1 278 13 discriminator 1 view .LVU487
 1429 0042 A2EB010C 		sub	ip, r2, r1
 1430              	.L40:
 278:Application/ins_task.c ****         {
 1431              		.loc 1 278 12 discriminator 4 view .LVU488
 1432 0046 E645     		cmp	lr, ip
 1433 0048 F1D9     		bls	.L41
 280:Application/ins_task.c ****             num = i;
 1434              		.loc 1 280 13 is_stmt 1 view .LVU489
 280:Application/ins_task.c ****             num = i;
 1435              		.loc 1 280 30 is_stmt 0 view .LVU490
 1436 004a 8A42     		cmp	r2, r1
 1437 004c EBD0     		beq	.L42
 280:Application/ins_task.c ****             num = i;
 1438              		.loc 1 280 30 discriminator 1 view .LVU491
 1439 004e A2EB010E 		sub	lr, r2, r1
 1440              	.LVL100:
 281:Application/ins_task.c ****         }
 1441              		.loc 1 281 17 discriminator 1 view .LVU492
 1442 0052 1846     		mov	r0, r3
 1443              	.LVL101:
 281:Application/ins_task.c ****         }
 1444              		.loc 1 281 17 discriminator 1 view .LVU493
 1445 0054 EBE7     		b	.L41
 1446              	.LVL102:
 1447              	.L45:
 281:Application/ins_task.c ****         }
 1448              		.loc 1 281 17 discriminator 1 view .LVU494
 1449              	.LBE8:
 284:Application/ins_task.c **** }
 1450              		.loc 1 284 5 is_stmt 1 view .LVU495
 285:Application/ins_task.c **** 
 1451              		.loc 1 285 1 is_stmt 0 view .LVU496
 1452 0056 10BD     		pop	{r4, pc}
 285:Application/ins_task.c **** 
 1453              		.loc 1 285 1 view .LVU497
 1454              		.cfi_endproc
 1455              	.LFE179:
 1457              		.section	.text.BodyFrameToEarthFrame,"ax",%progbits
 1458              		.align	1
 1459              		.global	BodyFrameToEarthFrame
 1460              		.syntax unified
 1461              		.thumb
 1462              		.thumb_func
 1464              	BodyFrameToEarthFrame:
 1465              	.LVL103:
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 41


 1466              	.LFB180:
 294:Application/ins_task.c ****     vecEF[0] = 2.0f * ((0.5f - q[2] * q[2] - q[3] * q[3]) * vecBF[0] +
 1467              		.loc 1 294 1 is_stmt 1 view -0
 1468              		.cfi_startproc
 1469              		@ args = 0, pretend = 0, frame = 0
 1470              		@ frame_needed = 0, uses_anonymous_args = 0
 1471              		@ link register save eliminated.
 295:Application/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 1472              		.loc 1 295 5 view .LVU499
 295:Application/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 1473              		.loc 1 295 33 is_stmt 0 view .LVU500
 1474 0000 92ED026A 		vldr.32	s12, [r2, #8]
 295:Application/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 1475              		.loc 1 295 37 view .LVU501
 1476 0004 66EE067A 		vmul.f32	s15, s12, s12
 295:Application/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 1477              		.loc 1 295 30 view .LVU502
 1478 0008 F6EE006A 		vmov.f32	s13, #5.0e-1
 1479 000c 76EEE77A 		vsub.f32	s15, s13, s15
 295:Application/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 1480              		.loc 1 295 47 view .LVU503
 1481 0010 92ED037A 		vldr.32	s14, [r2, #12]
 295:Application/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 1482              		.loc 1 295 51 view .LVU504
 1483 0014 67EE075A 		vmul.f32	s11, s14, s14
 295:Application/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 1484              		.loc 1 295 44 view .LVU505
 1485 0018 77EEE57A 		vsub.f32	s15, s15, s11
 295:Application/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 1486              		.loc 1 295 66 view .LVU506
 1487 001c D0ED005A 		vldr.32	s11, [r0]
 295:Application/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 1488              		.loc 1 295 59 view .LVU507
 1489 0020 67EEA57A 		vmul.f32	s15, s15, s11
 296:Application/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 1490              		.loc 1 296 26 view .LVU508
 1491 0024 D2ED014A 		vldr.32	s9, [r2, #4]
 296:Application/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 1492              		.loc 1 296 30 view .LVU509
 1493 0028 66EE245A 		vmul.f32	s11, s12, s9
 296:Application/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 1494              		.loc 1 296 40 view .LVU510
 1495 002c 92ED005A 		vldr.32	s10, [r2]
 296:Application/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 1496              		.loc 1 296 44 view .LVU511
 1497 0030 27EE054A 		vmul.f32	s8, s14, s10
 296:Application/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 1498              		.loc 1 296 37 view .LVU512
 1499 0034 75EEC45A 		vsub.f32	s11, s11, s8
 296:Application/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 1500              		.loc 1 296 59 view .LVU513
 1501 0038 90ED014A 		vldr.32	s8, [r0, #4]
 296:Application/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 1502              		.loc 1 296 52 view .LVU514
 1503 003c 65EE845A 		vmul.f32	s11, s11, s8
 295:Application/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 1504              		.loc 1 295 70 view .LVU515
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 42


 1505 0040 77EEA57A 		vadd.f32	s15, s15, s11
 297:Application/ins_task.c **** 
 1506              		.loc 1 297 30 view .LVU516
 1507 0044 27EE247A 		vmul.f32	s14, s14, s9
 297:Application/ins_task.c **** 
 1508              		.loc 1 297 44 view .LVU517
 1509 0048 26EE056A 		vmul.f32	s12, s12, s10
 297:Application/ins_task.c **** 
 1510              		.loc 1 297 37 view .LVU518
 1511 004c 37EE067A 		vadd.f32	s14, s14, s12
 297:Application/ins_task.c **** 
 1512              		.loc 1 297 59 view .LVU519
 1513 0050 90ED026A 		vldr.32	s12, [r0, #8]
 297:Application/ins_task.c **** 
 1514              		.loc 1 297 52 view .LVU520
 1515 0054 27EE067A 		vmul.f32	s14, s14, s12
 296:Application/ins_task.c ****                        (q[1] * q[3] + q[0] * q[2]) * vecBF[2]);
 1516              		.loc 1 296 63 view .LVU521
 1517 0058 77EE877A 		vadd.f32	s15, s15, s14
 295:Application/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 1518              		.loc 1 295 21 view .LVU522
 1519 005c 77EEA77A 		vadd.f32	s15, s15, s15
 295:Application/ins_task.c ****                        (q[1] * q[2] - q[0] * q[3]) * vecBF[1] +
 1520              		.loc 1 295 14 view .LVU523
 1521 0060 C1ED007A 		vstr.32	s15, [r1]
 299:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1522              		.loc 1 299 5 is_stmt 1 view .LVU524
 299:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1523              		.loc 1 299 26 is_stmt 0 view .LVU525
 1524 0064 D2ED015A 		vldr.32	s11, [r2, #4]
 299:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1525              		.loc 1 299 33 view .LVU526
 1526 0068 D2ED027A 		vldr.32	s15, [r2, #8]
 299:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1527              		.loc 1 299 30 view .LVU527
 1528 006c 25EEA77A 		vmul.f32	s14, s11, s15
 299:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1529              		.loc 1 299 40 view .LVU528
 1530 0070 D2ED004A 		vldr.32	s9, [r2]
 299:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1531              		.loc 1 299 47 view .LVU529
 1532 0074 92ED035A 		vldr.32	s10, [r2, #12]
 299:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1533              		.loc 1 299 44 view .LVU530
 1534 0078 24EE856A 		vmul.f32	s12, s9, s10
 299:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1535              		.loc 1 299 37 view .LVU531
 1536 007c 37EE067A 		vadd.f32	s14, s14, s12
 299:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1537              		.loc 1 299 59 view .LVU532
 1538 0080 90ED006A 		vldr.32	s12, [r0]
 299:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1539              		.loc 1 299 52 view .LVU533
 1540 0084 27EE067A 		vmul.f32	s14, s14, s12
 300:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1541              		.loc 1 300 37 view .LVU534
 1542 0088 25EEA56A 		vmul.f32	s12, s11, s11
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 43


 300:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1543              		.loc 1 300 30 view .LVU535
 1544 008c 36EEC66A 		vsub.f32	s12, s13, s12
 300:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1545              		.loc 1 300 51 view .LVU536
 1546 0090 25EE054A 		vmul.f32	s8, s10, s10
 300:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1547              		.loc 1 300 44 view .LVU537
 1548 0094 36EE446A 		vsub.f32	s12, s12, s8
 300:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1549              		.loc 1 300 66 view .LVU538
 1550 0098 90ED014A 		vldr.32	s8, [r0, #4]
 300:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1551              		.loc 1 300 59 view .LVU539
 1552 009c 26EE046A 		vmul.f32	s12, s12, s8
 299:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1553              		.loc 1 299 63 view .LVU540
 1554 00a0 37EE067A 		vadd.f32	s14, s14, s12
 301:Application/ins_task.c **** 
 1555              		.loc 1 301 30 view .LVU541
 1556 00a4 67EE857A 		vmul.f32	s15, s15, s10
 301:Application/ins_task.c **** 
 1557              		.loc 1 301 44 view .LVU542
 1558 00a8 65EEA45A 		vmul.f32	s11, s11, s9
 301:Application/ins_task.c **** 
 1559              		.loc 1 301 37 view .LVU543
 1560 00ac 77EEE57A 		vsub.f32	s15, s15, s11
 301:Application/ins_task.c **** 
 1561              		.loc 1 301 59 view .LVU544
 1562 00b0 90ED026A 		vldr.32	s12, [r0, #8]
 301:Application/ins_task.c **** 
 1563              		.loc 1 301 52 view .LVU545
 1564 00b4 67EE867A 		vmul.f32	s15, s15, s12
 300:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecBF[2]);
 1565              		.loc 1 300 70 view .LVU546
 1566 00b8 37EE277A 		vadd.f32	s14, s14, s15
 299:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1567              		.loc 1 299 21 view .LVU547
 1568 00bc 37EE077A 		vadd.f32	s14, s14, s14
 299:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecBF[1] +
 1569              		.loc 1 299 14 view .LVU548
 1570 00c0 81ED017A 		vstr.32	s14, [r1, #4]
 303:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1571              		.loc 1 303 5 is_stmt 1 view .LVU549
 303:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1572              		.loc 1 303 26 is_stmt 0 view .LVU550
 1573 00c4 D2ED015A 		vldr.32	s11, [r2, #4]
 303:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1574              		.loc 1 303 33 view .LVU551
 1575 00c8 92ED037A 		vldr.32	s14, [r2, #12]
 303:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1576              		.loc 1 303 30 view .LVU552
 1577 00cc 65EE877A 		vmul.f32	s15, s11, s14
 303:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1578              		.loc 1 303 40 view .LVU553
 1579 00d0 92ED005A 		vldr.32	s10, [r2]
 303:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 44


 1580              		.loc 1 303 47 view .LVU554
 1581 00d4 92ED026A 		vldr.32	s12, [r2, #8]
 303:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1582              		.loc 1 303 44 view .LVU555
 1583 00d8 65EE064A 		vmul.f32	s9, s10, s12
 303:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1584              		.loc 1 303 37 view .LVU556
 1585 00dc 77EEE47A 		vsub.f32	s15, s15, s9
 303:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1586              		.loc 1 303 59 view .LVU557
 1587 00e0 D0ED004A 		vldr.32	s9, [r0]
 303:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1588              		.loc 1 303 52 view .LVU558
 1589 00e4 67EEA47A 		vmul.f32	s15, s15, s9
 304:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1590              		.loc 1 304 30 view .LVU559
 1591 00e8 27EE067A 		vmul.f32	s14, s14, s12
 304:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1592              		.loc 1 304 44 view .LVU560
 1593 00ec 25EE855A 		vmul.f32	s10, s11, s10
 304:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1594              		.loc 1 304 37 view .LVU561
 1595 00f0 37EE057A 		vadd.f32	s14, s14, s10
 304:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1596              		.loc 1 304 59 view .LVU562
 1597 00f4 90ED015A 		vldr.32	s10, [r0, #4]
 304:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1598              		.loc 1 304 52 view .LVU563
 1599 00f8 27EE057A 		vmul.f32	s14, s14, s10
 303:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1600              		.loc 1 303 63 view .LVU564
 1601 00fc 77EE877A 		vadd.f32	s15, s15, s14
 305:Application/ins_task.c **** }
 1602              		.loc 1 305 37 view .LVU565
 1603 0100 65EEA55A 		vmul.f32	s11, s11, s11
 305:Application/ins_task.c **** }
 1604              		.loc 1 305 30 view .LVU566
 1605 0104 76EEE56A 		vsub.f32	s13, s13, s11
 305:Application/ins_task.c **** }
 1606              		.loc 1 305 51 view .LVU567
 1607 0108 26EE066A 		vmul.f32	s12, s12, s12
 305:Application/ins_task.c **** }
 1608              		.loc 1 305 44 view .LVU568
 1609 010c 76EEC66A 		vsub.f32	s13, s13, s12
 305:Application/ins_task.c **** }
 1610              		.loc 1 305 66 view .LVU569
 1611 0110 90ED027A 		vldr.32	s14, [r0, #8]
 305:Application/ins_task.c **** }
 1612              		.loc 1 305 59 view .LVU570
 1613 0114 66EE876A 		vmul.f32	s13, s13, s14
 304:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecBF[2]);
 1614              		.loc 1 304 63 view .LVU571
 1615 0118 77EEA67A 		vadd.f32	s15, s15, s13
 303:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
 1616              		.loc 1 303 21 view .LVU572
 1617 011c 77EEA77A 		vadd.f32	s15, s15, s15
 303:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecBF[1] +
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 45


 1618              		.loc 1 303 14 view .LVU573
 1619 0120 C1ED027A 		vstr.32	s15, [r1, #8]
 306:Application/ins_task.c **** 
 1620              		.loc 1 306 1 view .LVU574
 1621 0124 7047     		bx	lr
 1622              		.cfi_endproc
 1623              	.LFE180:
 1625              		.section	.text.EarthFrameToBodyFrame,"ax",%progbits
 1626              		.align	1
 1627              		.global	EarthFrameToBodyFrame
 1628              		.syntax unified
 1629              		.thumb
 1630              		.thumb_func
 1632              	EarthFrameToBodyFrame:
 1633              	.LVL104:
 1634              	.LFB181:
 315:Application/ins_task.c ****     vecBF[0] = 2.0f * ((0.5f - q[2] * q[2] - q[3] * q[3]) * vecEF[0] +
 1635              		.loc 1 315 1 is_stmt 1 view -0
 1636              		.cfi_startproc
 1637              		@ args = 0, pretend = 0, frame = 0
 1638              		@ frame_needed = 0, uses_anonymous_args = 0
 1639              		@ link register save eliminated.
 316:Application/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1640              		.loc 1 316 5 view .LVU576
 316:Application/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1641              		.loc 1 316 33 is_stmt 0 view .LVU577
 1642 0000 92ED026A 		vldr.32	s12, [r2, #8]
 316:Application/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1643              		.loc 1 316 37 view .LVU578
 1644 0004 66EE067A 		vmul.f32	s15, s12, s12
 316:Application/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1645              		.loc 1 316 30 view .LVU579
 1646 0008 F6EE006A 		vmov.f32	s13, #5.0e-1
 1647 000c 76EEE77A 		vsub.f32	s15, s13, s15
 316:Application/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1648              		.loc 1 316 47 view .LVU580
 1649 0010 92ED037A 		vldr.32	s14, [r2, #12]
 316:Application/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1650              		.loc 1 316 51 view .LVU581
 1651 0014 67EE075A 		vmul.f32	s11, s14, s14
 316:Application/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1652              		.loc 1 316 44 view .LVU582
 1653 0018 77EEE57A 		vsub.f32	s15, s15, s11
 316:Application/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1654              		.loc 1 316 66 view .LVU583
 1655 001c D0ED005A 		vldr.32	s11, [r0]
 316:Application/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1656              		.loc 1 316 59 view .LVU584
 1657 0020 67EEA57A 		vmul.f32	s15, s15, s11
 317:Application/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1658              		.loc 1 317 26 view .LVU585
 1659 0024 D2ED014A 		vldr.32	s9, [r2, #4]
 317:Application/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1660              		.loc 1 317 30 view .LVU586
 1661 0028 66EE245A 		vmul.f32	s11, s12, s9
 317:Application/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1662              		.loc 1 317 40 view .LVU587
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 46


 1663 002c 92ED005A 		vldr.32	s10, [r2]
 317:Application/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1664              		.loc 1 317 44 view .LVU588
 1665 0030 27EE054A 		vmul.f32	s8, s14, s10
 317:Application/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1666              		.loc 1 317 37 view .LVU589
 1667 0034 75EE845A 		vadd.f32	s11, s11, s8
 317:Application/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1668              		.loc 1 317 59 view .LVU590
 1669 0038 90ED014A 		vldr.32	s8, [r0, #4]
 317:Application/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1670              		.loc 1 317 52 view .LVU591
 1671 003c 65EE845A 		vmul.f32	s11, s11, s8
 316:Application/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1672              		.loc 1 316 70 view .LVU592
 1673 0040 77EEA57A 		vadd.f32	s15, s15, s11
 318:Application/ins_task.c **** 
 1674              		.loc 1 318 30 view .LVU593
 1675 0044 27EE247A 		vmul.f32	s14, s14, s9
 318:Application/ins_task.c **** 
 1676              		.loc 1 318 44 view .LVU594
 1677 0048 26EE056A 		vmul.f32	s12, s12, s10
 318:Application/ins_task.c **** 
 1678              		.loc 1 318 37 view .LVU595
 1679 004c 37EE467A 		vsub.f32	s14, s14, s12
 318:Application/ins_task.c **** 
 1680              		.loc 1 318 59 view .LVU596
 1681 0050 90ED026A 		vldr.32	s12, [r0, #8]
 318:Application/ins_task.c **** 
 1682              		.loc 1 318 52 view .LVU597
 1683 0054 27EE067A 		vmul.f32	s14, s14, s12
 317:Application/ins_task.c ****                        (q[1] * q[3] - q[0] * q[2]) * vecEF[2]);
 1684              		.loc 1 317 63 view .LVU598
 1685 0058 77EE877A 		vadd.f32	s15, s15, s14
 316:Application/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1686              		.loc 1 316 21 view .LVU599
 1687 005c 77EEA77A 		vadd.f32	s15, s15, s15
 316:Application/ins_task.c ****                        (q[1] * q[2] + q[0] * q[3]) * vecEF[1] +
 1688              		.loc 1 316 14 view .LVU600
 1689 0060 C1ED007A 		vstr.32	s15, [r1]
 320:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1690              		.loc 1 320 5 is_stmt 1 view .LVU601
 320:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1691              		.loc 1 320 26 is_stmt 0 view .LVU602
 1692 0064 D2ED015A 		vldr.32	s11, [r2, #4]
 320:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1693              		.loc 1 320 33 view .LVU603
 1694 0068 D2ED027A 		vldr.32	s15, [r2, #8]
 320:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1695              		.loc 1 320 30 view .LVU604
 1696 006c 25EEA77A 		vmul.f32	s14, s11, s15
 320:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1697              		.loc 1 320 40 view .LVU605
 1698 0070 D2ED004A 		vldr.32	s9, [r2]
 320:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1699              		.loc 1 320 47 view .LVU606
 1700 0074 92ED035A 		vldr.32	s10, [r2, #12]
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 47


 320:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1701              		.loc 1 320 44 view .LVU607
 1702 0078 24EE856A 		vmul.f32	s12, s9, s10
 320:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1703              		.loc 1 320 37 view .LVU608
 1704 007c 37EE467A 		vsub.f32	s14, s14, s12
 320:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1705              		.loc 1 320 59 view .LVU609
 1706 0080 90ED006A 		vldr.32	s12, [r0]
 320:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1707              		.loc 1 320 52 view .LVU610
 1708 0084 27EE067A 		vmul.f32	s14, s14, s12
 321:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1709              		.loc 1 321 37 view .LVU611
 1710 0088 25EEA56A 		vmul.f32	s12, s11, s11
 321:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1711              		.loc 1 321 30 view .LVU612
 1712 008c 36EEC66A 		vsub.f32	s12, s13, s12
 321:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1713              		.loc 1 321 51 view .LVU613
 1714 0090 25EE054A 		vmul.f32	s8, s10, s10
 321:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1715              		.loc 1 321 44 view .LVU614
 1716 0094 36EE446A 		vsub.f32	s12, s12, s8
 321:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1717              		.loc 1 321 66 view .LVU615
 1718 0098 90ED014A 		vldr.32	s8, [r0, #4]
 321:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1719              		.loc 1 321 59 view .LVU616
 1720 009c 26EE046A 		vmul.f32	s12, s12, s8
 320:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1721              		.loc 1 320 63 view .LVU617
 1722 00a0 37EE067A 		vadd.f32	s14, s14, s12
 322:Application/ins_task.c **** 
 1723              		.loc 1 322 30 view .LVU618
 1724 00a4 67EE857A 		vmul.f32	s15, s15, s10
 322:Application/ins_task.c **** 
 1725              		.loc 1 322 44 view .LVU619
 1726 00a8 65EEA45A 		vmul.f32	s11, s11, s9
 322:Application/ins_task.c **** 
 1727              		.loc 1 322 37 view .LVU620
 1728 00ac 77EEA57A 		vadd.f32	s15, s15, s11
 322:Application/ins_task.c **** 
 1729              		.loc 1 322 59 view .LVU621
 1730 00b0 90ED026A 		vldr.32	s12, [r0, #8]
 322:Application/ins_task.c **** 
 1731              		.loc 1 322 52 view .LVU622
 1732 00b4 67EE867A 		vmul.f32	s15, s15, s12
 321:Application/ins_task.c ****                        (q[2] * q[3] + q[0] * q[1]) * vecEF[2]);
 1733              		.loc 1 321 70 view .LVU623
 1734 00b8 37EE277A 		vadd.f32	s14, s14, s15
 320:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1735              		.loc 1 320 21 view .LVU624
 1736 00bc 37EE077A 		vadd.f32	s14, s14, s14
 320:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[3] * q[3]) * vecEF[1] +
 1737              		.loc 1 320 14 view .LVU625
 1738 00c0 81ED017A 		vstr.32	s14, [r1, #4]
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 48


 324:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1739              		.loc 1 324 5 is_stmt 1 view .LVU626
 324:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1740              		.loc 1 324 26 is_stmt 0 view .LVU627
 1741 00c4 D2ED015A 		vldr.32	s11, [r2, #4]
 324:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1742              		.loc 1 324 33 view .LVU628
 1743 00c8 92ED037A 		vldr.32	s14, [r2, #12]
 324:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1744              		.loc 1 324 30 view .LVU629
 1745 00cc 65EE877A 		vmul.f32	s15, s11, s14
 324:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1746              		.loc 1 324 40 view .LVU630
 1747 00d0 92ED005A 		vldr.32	s10, [r2]
 324:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1748              		.loc 1 324 47 view .LVU631
 1749 00d4 92ED026A 		vldr.32	s12, [r2, #8]
 324:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1750              		.loc 1 324 44 view .LVU632
 1751 00d8 65EE064A 		vmul.f32	s9, s10, s12
 324:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1752              		.loc 1 324 37 view .LVU633
 1753 00dc 77EEA47A 		vadd.f32	s15, s15, s9
 324:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1754              		.loc 1 324 59 view .LVU634
 1755 00e0 D0ED004A 		vldr.32	s9, [r0]
 324:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1756              		.loc 1 324 52 view .LVU635
 1757 00e4 67EEA47A 		vmul.f32	s15, s15, s9
 325:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1758              		.loc 1 325 30 view .LVU636
 1759 00e8 27EE067A 		vmul.f32	s14, s14, s12
 325:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1760              		.loc 1 325 44 view .LVU637
 1761 00ec 25EE855A 		vmul.f32	s10, s11, s10
 325:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1762              		.loc 1 325 37 view .LVU638
 1763 00f0 37EE457A 		vsub.f32	s14, s14, s10
 325:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1764              		.loc 1 325 59 view .LVU639
 1765 00f4 90ED015A 		vldr.32	s10, [r0, #4]
 325:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1766              		.loc 1 325 52 view .LVU640
 1767 00f8 27EE057A 		vmul.f32	s14, s14, s10
 324:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1768              		.loc 1 324 63 view .LVU641
 1769 00fc 77EE877A 		vadd.f32	s15, s15, s14
 326:Application/ins_task.c **** }
 1770              		.loc 1 326 37 view .LVU642
 1771 0100 65EEA55A 		vmul.f32	s11, s11, s11
 326:Application/ins_task.c **** }
 1772              		.loc 1 326 30 view .LVU643
 1773 0104 76EEE56A 		vsub.f32	s13, s13, s11
 326:Application/ins_task.c **** }
 1774              		.loc 1 326 51 view .LVU644
 1775 0108 26EE066A 		vmul.f32	s12, s12, s12
 326:Application/ins_task.c **** }
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 49


 1776              		.loc 1 326 44 view .LVU645
 1777 010c 76EEC66A 		vsub.f32	s13, s13, s12
 326:Application/ins_task.c **** }
 1778              		.loc 1 326 66 view .LVU646
 1779 0110 90ED027A 		vldr.32	s14, [r0, #8]
 326:Application/ins_task.c **** }
 1780              		.loc 1 326 59 view .LVU647
 1781 0114 66EE876A 		vmul.f32	s13, s13, s14
 325:Application/ins_task.c ****                        (0.5f - q[1] * q[1] - q[2] * q[2]) * vecEF[2]);
 1782              		.loc 1 325 63 view .LVU648
 1783 0118 77EEA67A 		vadd.f32	s15, s15, s13
 324:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1784              		.loc 1 324 21 view .LVU649
 1785 011c 77EEA77A 		vadd.f32	s15, s15, s15
 324:Application/ins_task.c ****                        (q[2] * q[3] - q[0] * q[1]) * vecEF[1] +
 1786              		.loc 1 324 14 view .LVU650
 1787 0120 C1ED027A 		vstr.32	s15, [r1, #8]
 327:Application/ins_task.c **** 
 1788              		.loc 1 327 1 view .LVU651
 1789 0124 7047     		bx	lr
 1790              		.cfi_endproc
 1791              	.LFE181:
 1793              		.section	.text.get_INS_from_imu2,"ax",%progbits
 1794              		.align	1
 1795              		.syntax unified
 1796              		.thumb
 1797              		.thumb_func
 1799              	get_INS_from_imu2:
 1800              	.LVL105:
 1801              	.LFB174:
 164:Application/ins_task.c ****     ins->Accel[X] = -accel[Z];
 1802              		.loc 1 164 1 is_stmt 1 view -0
 1803              		.cfi_startproc
 1804              		@ args = 0, pretend = 0, frame = 16
 1805              		@ frame_needed = 0, uses_anonymous_args = 0
 164:Application/ins_task.c ****     ins->Accel[X] = -accel[Z];
 1806              		.loc 1 164 1 is_stmt 0 view .LVU653
 1807 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1808              	.LCFI16:
 1809              		.cfi_def_cfa_offset 24
 1810              		.cfi_offset 4, -24
 1811              		.cfi_offset 5, -20
 1812              		.cfi_offset 6, -16
 1813              		.cfi_offset 7, -12
 1814              		.cfi_offset 8, -8
 1815              		.cfi_offset 14, -4
 1816 0004 2DED028B 		vpush.64	{d8}
 1817              	.LCFI17:
 1818              		.cfi_def_cfa_offset 32
 1819              		.cfi_offset 80, -32
 1820              		.cfi_offset 81, -28
 1821 0008 84B0     		sub	sp, sp, #16
 1822              	.LCFI18:
 1823              		.cfi_def_cfa_offset 48
 1824 000a 0446     		mov	r4, r0
 165:Application/ins_task.c ****     ins->Accel[Y] = accel[Y];
 1825              		.loc 1 165 5 is_stmt 1 view .LVU654
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 50


 165:Application/ins_task.c ****     ins->Accel[Y] = accel[Y];
 1826              		.loc 1 165 27 is_stmt 0 view .LVU655
 1827 000c D1ED027A 		vldr.32	s15, [r1, #8]
 165:Application/ins_task.c ****     ins->Accel[Y] = accel[Y];
 1828              		.loc 1 165 21 view .LVU656
 1829 0010 F1EE677A 		vneg.f32	s15, s15
 165:Application/ins_task.c ****     ins->Accel[Y] = accel[Y];
 1830              		.loc 1 165 19 view .LVU657
 1831 0014 C0ED077A 		vstr.32	s15, [r0, #28]
 166:Application/ins_task.c ****     ins->Accel[Z] = accel[X];
 1832              		.loc 1 166 5 is_stmt 1 view .LVU658
 166:Application/ins_task.c ****     ins->Accel[Z] = accel[X];
 1833              		.loc 1 166 19 is_stmt 0 view .LVU659
 1834 0018 4B68     		ldr	r3, [r1, #4]	@ float
 1835 001a 0362     		str	r3, [r0, #32]	@ float
 167:Application/ins_task.c ****     ins->Gyro[X] = -gyro[Z];
 1836              		.loc 1 167 5 is_stmt 1 view .LVU660
 167:Application/ins_task.c ****     ins->Gyro[X] = -gyro[Z];
 1837              		.loc 1 167 26 is_stmt 0 view .LVU661
 1838 001c 0B68     		ldr	r3, [r1]	@ float
 167:Application/ins_task.c ****     ins->Gyro[X] = -gyro[Z];
 1839              		.loc 1 167 19 view .LVU662
 1840 001e 4362     		str	r3, [r0, #36]	@ float
 168:Application/ins_task.c ****     ins->Gyro[Y] = gyro[Y];
 1841              		.loc 1 168 5 is_stmt 1 view .LVU663
 168:Application/ins_task.c ****     ins->Gyro[Y] = gyro[Y];
 1842              		.loc 1 168 25 is_stmt 0 view .LVU664
 1843 0020 D2ED027A 		vldr.32	s15, [r2, #8]
 168:Application/ins_task.c ****     ins->Gyro[Y] = gyro[Y];
 1844              		.loc 1 168 20 view .LVU665
 1845 0024 F1EE677A 		vneg.f32	s15, s15
 168:Application/ins_task.c ****     ins->Gyro[Y] = gyro[Y];
 1846              		.loc 1 168 18 view .LVU666
 1847 0028 C0ED047A 		vstr.32	s15, [r0, #16]
 169:Application/ins_task.c ****     ins->Gyro[Z] = gyro[X];
 1848              		.loc 1 169 5 is_stmt 1 view .LVU667
 169:Application/ins_task.c ****     ins->Gyro[Z] = gyro[X];
 1849              		.loc 1 169 18 is_stmt 0 view .LVU668
 1850 002c 5368     		ldr	r3, [r2, #4]	@ float
 1851 002e 4361     		str	r3, [r0, #20]	@ float
 170:Application/ins_task.c **** 
 1852              		.loc 1 170 5 is_stmt 1 view .LVU669
 170:Application/ins_task.c **** 
 1853              		.loc 1 170 24 is_stmt 0 view .LVU670
 1854 0030 1368     		ldr	r3, [r2]	@ float
 170:Application/ins_task.c **** 
 1855              		.loc 1 170 18 view .LVU671
 1856 0032 8361     		str	r3, [r0, #24]	@ float
 172:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
 1857              		.loc 1 172 5 is_stmt 1 view .LVU672
 172:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
 1858              		.loc 1 172 51 is_stmt 0 view .LVU673
 1859 0034 00F11007 		add	r7, r0, #16
 172:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
 1860              		.loc 1 172 62 view .LVU674
 1861 0038 00F11C06 		add	r6, r0, #28
 172:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 51


 1862              		.loc 1 172 5 view .LVU675
 1863 003c 3246     		mov	r2, r6
 1864              	.LVL106:
 172:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
 1865              		.loc 1 172 5 view .LVU676
 1866 003e 3946     		mov	r1, r7
 1867              	.LVL107:
 172:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
 1868              		.loc 1 172 5 view .LVU677
 1869 0040 8030     		adds	r0, r0, #128
 1870              	.LVL108:
 172:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
 1871              		.loc 1 172 5 view .LVU678
 1872 0042 FFF7FEFF 		bl	IMU_Param_Correction
 1873              	.LVL109:
 173:Application/ins_task.c ****     ins->atanyz = atan2f(ins->Accel[Y], ins->Accel[Z]) * 180 / PI;
 1874              		.loc 1 173 5 is_stmt 1 view .LVU679
 173:Application/ins_task.c ****     ins->atanyz = atan2f(ins->Accel[Y], ins->Accel[Z]) * 180 / PI;
 1875              		.loc 1 173 20 is_stmt 0 view .LVU680
 1876 0046 D4ED090A 		vldr.32	s1, [r4, #36]
 1877 004a 94ED070A 		vldr.32	s0, [r4, #28]
 1878 004e FFF7FEFF 		bl	atan2f
 1879              	.LVL110:
 173:Application/ins_task.c ****     ins->atanyz = atan2f(ins->Accel[Y], ins->Accel[Z]) * 180 / PI;
 1880              		.loc 1 173 57 view .LVU681
 1881 0052 DFED7C8A 		vldr.32	s17, .L52
 1882 0056 20EE680A 		vnmul.f32	s0, s0, s17
 173:Application/ins_task.c ****     ins->atanyz = atan2f(ins->Accel[Y], ins->Accel[Z]) * 180 / PI;
 1883              		.loc 1 173 63 view .LVU682
 1884 005a 9FED7B8A 		vldr.32	s16, .L52+4
 1885 005e C0EE087A 		vdiv.f32	s15, s0, s16
 173:Application/ins_task.c ****     ins->atanyz = atan2f(ins->Accel[Y], ins->Accel[Z]) * 180 / PI;
 1886              		.loc 1 173 17 view .LVU683
 1887 0062 C4ED1A7A 		vstr.32	s15, [r4, #104]
 174:Application/ins_task.c **** 
 1888              		.loc 1 174 5 is_stmt 1 view .LVU684
 174:Application/ins_task.c **** 
 1889              		.loc 1 174 19 is_stmt 0 view .LVU685
 1890 0066 D4ED090A 		vldr.32	s1, [r4, #36]
 1891 006a 94ED080A 		vldr.32	s0, [r4, #32]
 1892 006e FFF7FEFF 		bl	atan2f
 1893              	.LVL111:
 174:Application/ins_task.c **** 
 1894              		.loc 1 174 56 view .LVU686
 1895 0072 20EE280A 		vmul.f32	s0, s0, s17
 174:Application/ins_task.c **** 
 1896              		.loc 1 174 62 view .LVU687
 1897 0076 C0EE087A 		vdiv.f32	s15, s0, s16
 174:Application/ins_task.c **** 
 1898              		.loc 1 174 17 view .LVU688
 1899 007a C4ED1B7A 		vstr.32	s15, [r4, #108]
 177:Application/ins_task.c **** 
 1900              		.loc 1 177 5 is_stmt 1 view .LVU689
 1901 007e 734B     		ldr	r3, .L52+8
 1902 0080 93ED003A 		vldr.32	s6, [r3]
 1903 0084 D4ED092A 		vldr.32	s5, [r4, #36]
 1904 0088 94ED082A 		vldr.32	s4, [r4, #32]
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 52


 1905 008c D4ED071A 		vldr.32	s3, [r4, #28]
 1906 0090 94ED061A 		vldr.32	s2, [r4, #24]
 1907 0094 D4ED050A 		vldr.32	s1, [r4, #20]
 1908 0098 94ED040A 		vldr.32	s0, [r4, #16]
 1909 009c FFF7FEFF 		bl	IMU_QuaternionEKF_Update
 1910              	.LVL112:
 179:Application/ins_task.c ****     memcpy(ins->q, QEKF_INS.q, sizeof(QEKF_INS.q));
 1911              		.loc 1 179 5 view .LVU690
 180:Application/ins_task.c ****     ins->xzy_order_angle[1] = -asinf(2 * (q[1] * q[2] - q[0] * q[3])) * 57.295779513f;
 1912              		.loc 1 180 5 view .LVU691
 1913 00a0 6B4D     		ldr	r5, .L52+12
 1914              	.LVL113:
 180:Application/ins_task.c ****     ins->xzy_order_angle[1] = -asinf(2 * (q[1] * q[2] - q[0] * q[3])) * 57.295779513f;
 1915              		.loc 1 180 5 is_stmt 0 view .LVU692
 1916 00a2 AC46     		mov	ip, r5
 1917 00a4 BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
 1918 00a8 2060     		str	r0, [r4]	@ unaligned
 1919 00aa 6160     		str	r1, [r4, #4]	@ unaligned
 1920 00ac A260     		str	r2, [r4, #8]	@ unaligned
 1921 00ae E360     		str	r3, [r4, #12]	@ unaligned
 181:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 1922              		.loc 1 181 5 is_stmt 1 view .LVU693
 181:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 1923              		.loc 1 181 44 is_stmt 0 view .LVU694
 1924 00b0 95ED010A 		vldr.32	s0, [r5, #4]
 181:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 1925              		.loc 1 181 51 view .LVU695
 1926 00b4 D5ED027A 		vldr.32	s15, [r5, #8]
 181:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 1927              		.loc 1 181 44 view .LVU696
 1928 00b8 A5F5A875 		sub	r5, r5, #336
 1929              	.LVL114:
 181:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 1930              		.loc 1 181 48 view .LVU697
 1931 00bc 20EE270A 		vmul.f32	s0, s0, s15
 181:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 1932              		.loc 1 181 58 view .LVU698
 1933 00c0 D5ED547A 		vldr.32	s15, [r5, #336]
 181:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 1934              		.loc 1 181 65 view .LVU699
 1935 00c4 95ED577A 		vldr.32	s14, [r5, #348]
 181:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 1936              		.loc 1 181 62 view .LVU700
 1937 00c8 67EE877A 		vmul.f32	s15, s15, s14
 181:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 1938              		.loc 1 181 55 view .LVU701
 1939 00cc 30EE670A 		vsub.f32	s0, s0, s15
 181:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 1940              		.loc 1 181 32 view .LVU702
 1941 00d0 30EE000A 		vadd.f32	s0, s0, s0
 1942 00d4 FFF7FEFF 		bl	asinf
 1943              	.LVL115:
 181:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 1944              		.loc 1 181 71 view .LVU703
 1945 00d8 9FED5E8A 		vldr.32	s16, .L52+16
 1946 00dc 20EE480A 		vnmul.f32	s0, s0, s16
 181:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 53


 1947              		.loc 1 181 29 view .LVU704
 1948 00e0 84ED280A 		vstr.32	s0, [r4, #160]
 182:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 1949              		.loc 1 182 5 is_stmt 1 view .LVU705
 182:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 1950              		.loc 1 182 47 is_stmt 0 view .LVU706
 1951 00e4 95ED550A 		vldr.32	s0, [r5, #340]
 182:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 1952              		.loc 1 182 54 view .LVU707
 1953 00e8 D5ED577A 		vldr.32	s15, [r5, #348]
 182:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 1954              		.loc 1 182 51 view .LVU708
 1955 00ec 20EE270A 		vmul.f32	s0, s0, s15
 182:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 1956              		.loc 1 182 61 view .LVU709
 1957 00f0 95ED547A 		vldr.32	s14, [r5, #336]
 182:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 1958              		.loc 1 182 68 view .LVU710
 1959 00f4 D5ED560A 		vldr.32	s1, [r5, #344]
 182:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 1960              		.loc 1 182 65 view .LVU711
 1961 00f8 27EE207A 		vmul.f32	s14, s14, s1
 182:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 1962              		.loc 1 182 58 view .LVU712
 1963 00fc 30EE070A 		vadd.f32	s0, s0, s14
 182:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 1964              		.loc 1 182 91 view .LVU713
 1965 0100 60EEA00A 		vmul.f32	s1, s1, s1
 182:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 1966              		.loc 1 182 105 view .LVU714
 1967 0104 67EEA77A 		vmul.f32	s15, s15, s15
 182:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 1968              		.loc 1 182 98 view .LVU715
 1969 0108 70EEA70A 		vadd.f32	s1, s1, s15
 182:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 1970              		.loc 1 182 83 view .LVU716
 1971 010c 70EEA00A 		vadd.f32	s1, s1, s1
 182:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 1972              		.loc 1 182 31 view .LVU717
 1973 0110 F7EE008A 		vmov.f32	s17, #1.0e+0
 1974 0114 78EEE00A 		vsub.f32	s1, s17, s1
 1975 0118 30EE000A 		vadd.f32	s0, s0, s0
 1976 011c FFF7FEFF 		bl	atan2f
 1977              	.LVL116:
 182:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 1978              		.loc 1 182 114 view .LVU718
 1979 0120 20EE080A 		vmul.f32	s0, s0, s16
 182:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 1980              		.loc 1 182 29 view .LVU719
 1981 0124 84ED290A 		vstr.32	s0, [r4, #164]
 183:Application/ins_task.c **** 
 1982              		.loc 1 183 5 is_stmt 1 view .LVU720
 183:Application/ins_task.c **** 
 1983              		.loc 1 183 47 is_stmt 0 view .LVU721
 1984 0128 95ED540A 		vldr.32	s0, [r5, #336]
 183:Application/ins_task.c **** 
 1985              		.loc 1 183 54 view .LVU722
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 54


 1986 012c D5ED550A 		vldr.32	s1, [r5, #340]
 183:Application/ins_task.c **** 
 1987              		.loc 1 183 51 view .LVU723
 1988 0130 20EE200A 		vmul.f32	s0, s0, s1
 183:Application/ins_task.c **** 
 1989              		.loc 1 183 61 view .LVU724
 1990 0134 95ED567A 		vldr.32	s14, [r5, #344]
 183:Application/ins_task.c **** 
 1991              		.loc 1 183 68 view .LVU725
 1992 0138 D5ED577A 		vldr.32	s15, [r5, #348]
 183:Application/ins_task.c **** 
 1993              		.loc 1 183 65 view .LVU726
 1994 013c 27EE277A 		vmul.f32	s14, s14, s15
 183:Application/ins_task.c **** 
 1995              		.loc 1 183 58 view .LVU727
 1996 0140 30EE070A 		vadd.f32	s0, s0, s14
 183:Application/ins_task.c **** 
 1997              		.loc 1 183 91 view .LVU728
 1998 0144 60EEA00A 		vmul.f32	s1, s1, s1
 183:Application/ins_task.c **** 
 1999              		.loc 1 183 105 view .LVU729
 2000 0148 67EEA77A 		vmul.f32	s15, s15, s15
 183:Application/ins_task.c **** 
 2001              		.loc 1 183 98 view .LVU730
 2002 014c 70EEE70A 		vsub.f32	s1, s1, s15
 183:Application/ins_task.c **** 
 2003              		.loc 1 183 83 view .LVU731
 2004 0150 70EEA00A 		vadd.f32	s1, s1, s1
 183:Application/ins_task.c **** 
 2005              		.loc 1 183 31 view .LVU732
 2006 0154 78EEE00A 		vsub.f32	s1, s17, s1
 2007 0158 30EE000A 		vadd.f32	s0, s0, s0
 2008 015c FFF7FEFF 		bl	atan2f
 2009              	.LVL117:
 183:Application/ins_task.c **** 
 2010              		.loc 1 183 114 view .LVU733
 2011 0160 20EE088A 		vmul.f32	s16, s0, s16
 183:Application/ins_task.c **** 
 2012              		.loc 1 183 29 view .LVU734
 2013 0164 84ED278A 		vstr.32	s16, [r4, #156]
 185:Application/ins_task.c ****     BodyFrameToEarthFrame(yb, ins->yn, ins->q);
 2014              		.loc 1 185 5 is_stmt 1 view .LVU735
 2015 0168 2246     		mov	r2, r4
 2016 016a 04F14401 		add	r1, r4, #68
 2017 016e 3A48     		ldr	r0, .L52+20
 2018 0170 FFF7FEFF 		bl	BodyFrameToEarthFrame
 2019              	.LVL118:
 186:Application/ins_task.c ****     BodyFrameToEarthFrame(zb, ins->zn, ins->q);
 2020              		.loc 1 186 5 view .LVU736
 2021 0174 2246     		mov	r2, r4
 2022 0176 04F15001 		add	r1, r4, #80
 2023 017a 3848     		ldr	r0, .L52+24
 2024 017c FFF7FEFF 		bl	BodyFrameToEarthFrame
 2025              	.LVL119:
 187:Application/ins_task.c **** 
 2026              		.loc 1 187 5 view .LVU737
 2027 0180 2246     		mov	r2, r4
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 55


 2028 0182 04F15C01 		add	r1, r4, #92
 2029 0186 3648     		ldr	r0, .L52+28
 2030 0188 FFF7FEFF 		bl	BodyFrameToEarthFrame
 2031              	.LVL120:
 189:Application/ins_task.c ****     EarthFrameToBodyFrame(gravity, gravity_b, ins->q);
 2032              		.loc 1 189 5 view .LVU738
 190:Application/ins_task.c ****     for (uint8_t i = 0; i < 3; i++)
 2033              		.loc 1 190 5 view .LVU739
 2034 018c 2246     		mov	r2, r4
 2035 018e 01A9     		add	r1, sp, #4
 2036 0190 3448     		ldr	r0, .L52+32
 2037 0192 FFF7FEFF 		bl	EarthFrameToBodyFrame
 2038              	.LVL121:
 191:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2039              		.loc 1 191 5 view .LVU740
 2040              	.LBB9:
 191:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2041              		.loc 1 191 10 view .LVU741
 191:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2042              		.loc 1 191 18 is_stmt 0 view .LVU742
 2043 0196 0023     		movs	r3, #0
 191:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2044              		.loc 1 191 5 view .LVU743
 2045 0198 26E0     		b	.L49
 2046              	.LVL122:
 2047              	.L50:
 192:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2048              		.loc 1 192 9 is_stmt 1 discriminator 3 view .LVU744
 192:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2049              		.loc 1 192 44 is_stmt 0 discriminator 3 view .LVU745
 2050 019a 9A1D     		adds	r2, r3, #6
 2051 019c 04EB8202 		add	r2, r4, r2, lsl #2
 2052 01a0 92ED017A 		vldr.32	s14, [r2, #4]
 192:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2053              		.loc 1 192 59 discriminator 3 view .LVU746
 2054 01a4 04AA     		add	r2, sp, #16
 2055 01a6 02EB8302 		add	r2, r2, r3, lsl #2
 2056 01aa 52ED037A 		vldr.32	s15, [r2, #-12]
 192:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2057              		.loc 1 192 48 discriminator 3 view .LVU747
 2058 01ae 37EE677A 		vsub.f32	s14, s14, s15
 192:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2059              		.loc 1 192 64 discriminator 3 view .LVU748
 2060 01b2 264A     		ldr	r2, .L52+8
 2061 01b4 D2ED007A 		vldr.32	s15, [r2]
 2062 01b8 27EE277A 		vmul.f32	s14, s14, s15
 192:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2063              		.loc 1 192 75 discriminator 3 view .LVU749
 2064 01bc D4ED106A 		vldr.32	s13, [r4, #64]
 192:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2065              		.loc 1 192 86 discriminator 3 view .LVU750
 2066 01c0 77EEA67A 		vadd.f32	s15, s15, s13
 192:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2067              		.loc 1 192 69 discriminator 3 view .LVU751
 2068 01c4 87EE276A 		vdiv.f32	s12, s14, s15
 192:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2069              		.loc 1 192 112 discriminator 3 view .LVU752
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 56


 2070 01c8 03F10A02 		add	r2, r3, #10
 2071 01cc 04EB8202 		add	r2, r4, r2, lsl #2
 2072 01d0 92ED007A 		vldr.32	s14, [r2]
 192:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2073              		.loc 1 192 116 discriminator 3 view .LVU753
 2074 01d4 66EE876A 		vmul.f32	s13, s13, s14
 192:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2075              		.loc 1 192 132 discriminator 3 view .LVU754
 2076 01d8 86EEA77A 		vdiv.f32	s14, s13, s15
 192:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2077              		.loc 1 192 92 discriminator 3 view .LVU755
 2078 01dc 76EE077A 		vadd.f32	s15, s12, s14
 192:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2079              		.loc 1 192 31 discriminator 3 view .LVU756
 2080 01e0 C2ED007A 		vstr.32	s15, [r2]
 191:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2081              		.loc 1 191 32 is_stmt 1 discriminator 3 view .LVU757
 191:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2082              		.loc 1 191 33 is_stmt 0 discriminator 3 view .LVU758
 2083 01e4 0133     		adds	r3, r3, #1
 2084              	.LVL123:
 191:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2085              		.loc 1 191 33 discriminator 3 view .LVU759
 2086 01e6 DBB2     		uxtb	r3, r3
 2087              	.LVL124:
 2088              	.L49:
 191:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2089              		.loc 1 191 25 is_stmt 1 discriminator 1 view .LVU760
 191:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2090              		.loc 1 191 5 is_stmt 0 discriminator 1 view .LVU761
 2091 01e8 022B     		cmp	r3, #2
 2092 01ea D6D9     		bls	.L50
 2093              	.LBE9:
 193:Application/ins_task.c **** 
 2094              		.loc 1 193 5 is_stmt 1 view .LVU762
 193:Application/ins_task.c **** 
 2095              		.loc 1 193 50 is_stmt 0 view .LVU763
 2096 01ec 04F13408 		add	r8, r4, #52
 193:Application/ins_task.c **** 
 2097              		.loc 1 193 5 view .LVU764
 2098 01f0 2246     		mov	r2, r4
 2099 01f2 4146     		mov	r1, r8
 2100 01f4 04F12800 		add	r0, r4, #40
 2101 01f8 FFF7FEFF 		bl	BodyFrameToEarthFrame
 2102              	.LVL125:
 195:Application/ins_task.c ****     memcpy(ins->Accel, QEKF_INS.Accel, sizeof(QEKF_INS.Accel));
 2103              		.loc 1 195 5 is_stmt 1 view .LVU765
 2104 01fc 1A4D     		ldr	r5, .L52+36
 2105 01fe 2B46     		mov	r3, r5
 2106 0200 07CB     		ldmia	r3!, {r0, r1, r2}
 2107 0202 2061     		str	r0, [r4, #16]	@ unaligned
 2108 0204 7960     		str	r1, [r7, #4]	@ unaligned
 2109 0206 BA60     		str	r2, [r7, #8]	@ unaligned
 196:Application/ins_task.c ****     memcpy(ins->q, QEKF_INS.q, sizeof(QEKF_INS.q));
 2110              		.loc 1 196 5 view .LVU766
 2111 0208 07CB     		ldmia	r3!, {r0, r1, r2}
 2112 020a E061     		str	r0, [r4, #28]	@ unaligned
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 57


 2113 020c 7160     		str	r1, [r6, #4]	@ unaligned
 2114 020e B260     		str	r2, [r6, #8]	@ unaligned
 197:Application/ins_task.c ****     ins->Yaw = QEKF_INS.Yaw;
 2115              		.loc 1 197 5 view .LVU767
 2116 0210 A5F11C06 		sub	r6, r5, #28
 2117 0214 0FCE     		ldmia	r6!, {r0, r1, r2, r3}
 2118 0216 2060     		str	r0, [r4]	@ unaligned
 2119 0218 6160     		str	r1, [r4, #4]	@ unaligned
 2120 021a A260     		str	r2, [r4, #8]	@ unaligned
 2121 021c E360     		str	r3, [r4, #12]	@ unaligned
 198:Application/ins_task.c ****     ins->Pitch = QEKF_INS.Pitch;
 2122              		.loc 1 198 5 view .LVU768
 198:Application/ins_task.c ****     ins->Pitch = QEKF_INS.Pitch;
 2123              		.loc 1 198 24 is_stmt 0 view .LVU769
 2124 021e EB6B     		ldr	r3, [r5, #60]	@ float
 198:Application/ins_task.c ****     ins->Pitch = QEKF_INS.Pitch;
 2125              		.loc 1 198 14 view .LVU770
 2126 0220 A367     		str	r3, [r4, #120]	@ float
 199:Application/ins_task.c ****     // ins->Roll = QEKF_INS.Roll;
 2127              		.loc 1 199 5 is_stmt 1 view .LVU771
 199:Application/ins_task.c ****     // ins->Roll = QEKF_INS.Roll;
 2128              		.loc 1 199 26 is_stmt 0 view .LVU772
 2129 0222 AB6B     		ldr	r3, [r5, #56]	@ float
 199:Application/ins_task.c ****     // ins->Roll = QEKF_INS.Roll;
 2130              		.loc 1 199 16 view .LVU773
 2131 0224 6367     		str	r3, [r4, #116]	@ float
 201:Application/ins_task.c **** 
 2132              		.loc 1 201 5 is_stmt 1 view .LVU774
 201:Application/ins_task.c **** 
 2133              		.loc 1 201 34 is_stmt 0 view .LVU775
 2134 0226 2B6C     		ldr	r3, [r5, #64]	@ float
 201:Application/ins_task.c **** 
 2135              		.loc 1 201 24 view .LVU776
 2136 0228 E367     		str	r3, [r4, #124]	@ float
 203:Application/ins_task.c **** 
 2137              		.loc 1 203 5 is_stmt 1 view .LVU777
 2138 022a FFF7FEFF 		bl	HAL_GetTick
 2139              	.LVL126:
 2140 022e 0346     		mov	r3, r0
 2141 0230 4246     		mov	r2, r8
 2142 0232 2146     		mov	r1, r4
 2143 0234 0D48     		ldr	r0, .L52+40
 2144 0236 FFF7FEFF 		bl	InsertQuaternionFrame
 2145              	.LVL127:
 206:Application/ins_task.c **** 
 2146              		.loc 1 206 1 is_stmt 0 view .LVU778
 2147 023a 04B0     		add	sp, sp, #16
 2148              	.LCFI19:
 2149              		.cfi_def_cfa_offset 32
 2150              		@ sp needed
 2151 023c BDEC028B 		vldm	sp!, {d8}
 2152              	.LCFI20:
 2153              		.cfi_restore 80
 2154              		.cfi_restore 81
 2155              		.cfi_def_cfa_offset 24
 2156 0240 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2157              	.LVL128:
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 58


 2158              	.L53:
 206:Application/ins_task.c **** 
 2159              		.loc 1 206 1 view .LVU779
 2160              		.align	2
 2161              	.L52:
 2162 0244 00003443 		.word	1127481344
 2163 0248 DB0F4940 		.word	1078530011
 2164 024c 00000000 		.word	.LANCHOR13
 2165 0250 50010000 		.word	QEKF_INS+336
 2166 0254 E12E6542 		.word	1113927393
 2167 0258 00000000 		.word	.LANCHOR14
 2168 025c 00000000 		.word	.LANCHOR15
 2169 0260 00000000 		.word	.LANCHOR16
 2170 0264 00000000 		.word	.LANCHOR17
 2171 0268 6C010000 		.word	QEKF_INS+364
 2172 026c 00000000 		.word	.LANCHOR18
 2173              		.cfi_endproc
 2174              	.LFE174:
 2176              		.section	.text.get_INS_from_imu,"ax",%progbits
 2177              		.align	1
 2178              		.syntax unified
 2179              		.thumb
 2180              		.thumb_func
 2182              	get_INS_from_imu:
 2183              	.LVL129:
 2184              	.LFB173:
 119:Application/ins_task.c ****     ins->Accel[X] = -accel[Y];
 2185              		.loc 1 119 1 is_stmt 1 view -0
 2186              		.cfi_startproc
 2187              		@ args = 0, pretend = 0, frame = 16
 2188              		@ frame_needed = 0, uses_anonymous_args = 0
 119:Application/ins_task.c ****     ins->Accel[X] = -accel[Y];
 2189              		.loc 1 119 1 is_stmt 0 view .LVU781
 2190 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2191              	.LCFI21:
 2192              		.cfi_def_cfa_offset 24
 2193              		.cfi_offset 4, -24
 2194              		.cfi_offset 5, -20
 2195              		.cfi_offset 6, -16
 2196              		.cfi_offset 7, -12
 2197              		.cfi_offset 8, -8
 2198              		.cfi_offset 14, -4
 2199 0004 2DED028B 		vpush.64	{d8}
 2200              	.LCFI22:
 2201              		.cfi_def_cfa_offset 32
 2202              		.cfi_offset 80, -32
 2203              		.cfi_offset 81, -28
 2204 0008 84B0     		sub	sp, sp, #16
 2205              	.LCFI23:
 2206              		.cfi_def_cfa_offset 48
 2207 000a 0446     		mov	r4, r0
 120:Application/ins_task.c ****     ins->Accel[Y] = -accel[Z];
 2208              		.loc 1 120 5 is_stmt 1 view .LVU782
 120:Application/ins_task.c ****     ins->Accel[Y] = -accel[Z];
 2209              		.loc 1 120 27 is_stmt 0 view .LVU783
 2210 000c D1ED017A 		vldr.32	s15, [r1, #4]
 120:Application/ins_task.c ****     ins->Accel[Y] = -accel[Z];
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 59


 2211              		.loc 1 120 21 view .LVU784
 2212 0010 F1EE677A 		vneg.f32	s15, s15
 120:Application/ins_task.c ****     ins->Accel[Y] = -accel[Z];
 2213              		.loc 1 120 19 view .LVU785
 2214 0014 C0ED077A 		vstr.32	s15, [r0, #28]
 121:Application/ins_task.c ****     ins->Accel[Z] = accel[X];
 2215              		.loc 1 121 5 is_stmt 1 view .LVU786
 121:Application/ins_task.c ****     ins->Accel[Z] = accel[X];
 2216              		.loc 1 121 27 is_stmt 0 view .LVU787
 2217 0018 D1ED027A 		vldr.32	s15, [r1, #8]
 121:Application/ins_task.c ****     ins->Accel[Z] = accel[X];
 2218              		.loc 1 121 21 view .LVU788
 2219 001c F1EE677A 		vneg.f32	s15, s15
 121:Application/ins_task.c ****     ins->Accel[Z] = accel[X];
 2220              		.loc 1 121 19 view .LVU789
 2221 0020 C0ED087A 		vstr.32	s15, [r0, #32]
 122:Application/ins_task.c ****     ins->Gyro[X] = -gyro[Y];
 2222              		.loc 1 122 5 is_stmt 1 view .LVU790
 122:Application/ins_task.c ****     ins->Gyro[X] = -gyro[Y];
 2223              		.loc 1 122 26 is_stmt 0 view .LVU791
 2224 0024 0B68     		ldr	r3, [r1]	@ float
 122:Application/ins_task.c ****     ins->Gyro[X] = -gyro[Y];
 2225              		.loc 1 122 19 view .LVU792
 2226 0026 4362     		str	r3, [r0, #36]	@ float
 123:Application/ins_task.c ****     ins->Gyro[Y] = -gyro[Z];
 2227              		.loc 1 123 5 is_stmt 1 view .LVU793
 123:Application/ins_task.c ****     ins->Gyro[Y] = -gyro[Z];
 2228              		.loc 1 123 25 is_stmt 0 view .LVU794
 2229 0028 D2ED017A 		vldr.32	s15, [r2, #4]
 123:Application/ins_task.c ****     ins->Gyro[Y] = -gyro[Z];
 2230              		.loc 1 123 20 view .LVU795
 2231 002c F1EE677A 		vneg.f32	s15, s15
 123:Application/ins_task.c ****     ins->Gyro[Y] = -gyro[Z];
 2232              		.loc 1 123 18 view .LVU796
 2233 0030 C0ED047A 		vstr.32	s15, [r0, #16]
 124:Application/ins_task.c ****     ins->Gyro[Z] = gyro[X];
 2234              		.loc 1 124 5 is_stmt 1 view .LVU797
 124:Application/ins_task.c ****     ins->Gyro[Z] = gyro[X];
 2235              		.loc 1 124 25 is_stmt 0 view .LVU798
 2236 0034 D2ED027A 		vldr.32	s15, [r2, #8]
 124:Application/ins_task.c ****     ins->Gyro[Z] = gyro[X];
 2237              		.loc 1 124 20 view .LVU799
 2238 0038 F1EE677A 		vneg.f32	s15, s15
 124:Application/ins_task.c ****     ins->Gyro[Z] = gyro[X];
 2239              		.loc 1 124 18 view .LVU800
 2240 003c C0ED057A 		vstr.32	s15, [r0, #20]
 125:Application/ins_task.c **** 
 2241              		.loc 1 125 5 is_stmt 1 view .LVU801
 125:Application/ins_task.c **** 
 2242              		.loc 1 125 24 is_stmt 0 view .LVU802
 2243 0040 1368     		ldr	r3, [r2]	@ float
 125:Application/ins_task.c **** 
 2244              		.loc 1 125 18 view .LVU803
 2245 0042 8361     		str	r3, [r0, #24]	@ float
 127:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
 2246              		.loc 1 127 5 is_stmt 1 view .LVU804
 127:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 60


 2247              		.loc 1 127 51 is_stmt 0 view .LVU805
 2248 0044 00F11007 		add	r7, r0, #16
 127:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
 2249              		.loc 1 127 62 view .LVU806
 2250 0048 00F11C06 		add	r6, r0, #28
 127:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
 2251              		.loc 1 127 5 view .LVU807
 2252 004c 3246     		mov	r2, r6
 2253              	.LVL130:
 127:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
 2254              		.loc 1 127 5 view .LVU808
 2255 004e 3946     		mov	r1, r7
 2256              	.LVL131:
 127:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
 2257              		.loc 1 127 5 view .LVU809
 2258 0050 8030     		adds	r0, r0, #128
 2259              	.LVL132:
 127:Application/ins_task.c ****     ins->atanxz = -atan2f(ins->Accel[X], ins->Accel[Z]) * 180 / PI;
 2260              		.loc 1 127 5 view .LVU810
 2261 0052 FFF7FEFF 		bl	IMU_Param_Correction
 2262              	.LVL133:
 128:Application/ins_task.c ****     ins->atanyz = atan2f(ins->Accel[Y], ins->Accel[Z]) * 180 / PI;
 2263              		.loc 1 128 5 is_stmt 1 view .LVU811
 128:Application/ins_task.c ****     ins->atanyz = atan2f(ins->Accel[Y], ins->Accel[Z]) * 180 / PI;
 2264              		.loc 1 128 20 is_stmt 0 view .LVU812
 2265 0056 D4ED090A 		vldr.32	s1, [r4, #36]
 2266 005a 94ED070A 		vldr.32	s0, [r4, #28]
 2267 005e FFF7FEFF 		bl	atan2f
 2268              	.LVL134:
 128:Application/ins_task.c ****     ins->atanyz = atan2f(ins->Accel[Y], ins->Accel[Z]) * 180 / PI;
 2269              		.loc 1 128 57 view .LVU813
 2270 0062 DFED7C8A 		vldr.32	s17, .L58
 2271 0066 20EE680A 		vnmul.f32	s0, s0, s17
 128:Application/ins_task.c ****     ins->atanyz = atan2f(ins->Accel[Y], ins->Accel[Z]) * 180 / PI;
 2272              		.loc 1 128 63 view .LVU814
 2273 006a 9FED7B8A 		vldr.32	s16, .L58+4
 2274 006e C0EE087A 		vdiv.f32	s15, s0, s16
 128:Application/ins_task.c ****     ins->atanyz = atan2f(ins->Accel[Y], ins->Accel[Z]) * 180 / PI;
 2275              		.loc 1 128 17 view .LVU815
 2276 0072 C4ED1A7A 		vstr.32	s15, [r4, #104]
 129:Application/ins_task.c **** 
 2277              		.loc 1 129 5 is_stmt 1 view .LVU816
 129:Application/ins_task.c **** 
 2278              		.loc 1 129 19 is_stmt 0 view .LVU817
 2279 0076 D4ED090A 		vldr.32	s1, [r4, #36]
 2280 007a 94ED080A 		vldr.32	s0, [r4, #32]
 2281 007e FFF7FEFF 		bl	atan2f
 2282              	.LVL135:
 129:Application/ins_task.c **** 
 2283              		.loc 1 129 56 view .LVU818
 2284 0082 20EE280A 		vmul.f32	s0, s0, s17
 129:Application/ins_task.c **** 
 2285              		.loc 1 129 62 view .LVU819
 2286 0086 C0EE087A 		vdiv.f32	s15, s0, s16
 129:Application/ins_task.c **** 
 2287              		.loc 1 129 17 view .LVU820
 2288 008a C4ED1B7A 		vstr.32	s15, [r4, #108]
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 61


 132:Application/ins_task.c **** 
 2289              		.loc 1 132 5 is_stmt 1 view .LVU821
 2290 008e 734B     		ldr	r3, .L58+8
 2291 0090 93ED003A 		vldr.32	s6, [r3]
 2292 0094 D4ED092A 		vldr.32	s5, [r4, #36]
 2293 0098 94ED082A 		vldr.32	s4, [r4, #32]
 2294 009c D4ED071A 		vldr.32	s3, [r4, #28]
 2295 00a0 94ED061A 		vldr.32	s2, [r4, #24]
 2296 00a4 D4ED050A 		vldr.32	s1, [r4, #20]
 2297 00a8 94ED040A 		vldr.32	s0, [r4, #16]
 2298 00ac FFF7FEFF 		bl	IMU_QuaternionEKF_Update
 2299              	.LVL136:
 134:Application/ins_task.c ****     memcpy(ins->q, QEKF_INS.q, sizeof(QEKF_INS.q));
 2300              		.loc 1 134 5 view .LVU822
 135:Application/ins_task.c ****     ins->xzy_order_angle[1] = -asinf(2 * (q[1] * q[2] - q[0] * q[3])) * 57.295779513f;
 2301              		.loc 1 135 5 view .LVU823
 2302 00b0 6B4D     		ldr	r5, .L58+12
 2303              	.LVL137:
 135:Application/ins_task.c ****     ins->xzy_order_angle[1] = -asinf(2 * (q[1] * q[2] - q[0] * q[3])) * 57.295779513f;
 2304              		.loc 1 135 5 is_stmt 0 view .LVU824
 2305 00b2 AC46     		mov	ip, r5
 2306 00b4 BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
 2307 00b8 2060     		str	r0, [r4]	@ unaligned
 2308 00ba 6160     		str	r1, [r4, #4]	@ unaligned
 2309 00bc A260     		str	r2, [r4, #8]	@ unaligned
 2310 00be E360     		str	r3, [r4, #12]	@ unaligned
 136:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 2311              		.loc 1 136 5 is_stmt 1 view .LVU825
 136:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 2312              		.loc 1 136 44 is_stmt 0 view .LVU826
 2313 00c0 95ED010A 		vldr.32	s0, [r5, #4]
 136:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 2314              		.loc 1 136 51 view .LVU827
 2315 00c4 D5ED027A 		vldr.32	s15, [r5, #8]
 136:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 2316              		.loc 1 136 44 view .LVU828
 2317 00c8 A5F5A875 		sub	r5, r5, #336
 2318              	.LVL138:
 136:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 2319              		.loc 1 136 48 view .LVU829
 2320 00cc 20EE270A 		vmul.f32	s0, s0, s15
 136:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 2321              		.loc 1 136 58 view .LVU830
 2322 00d0 D5ED547A 		vldr.32	s15, [r5, #336]
 136:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 2323              		.loc 1 136 65 view .LVU831
 2324 00d4 95ED577A 		vldr.32	s14, [r5, #348]
 136:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 2325              		.loc 1 136 62 view .LVU832
 2326 00d8 67EE877A 		vmul.f32	s15, s15, s14
 136:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 2327              		.loc 1 136 55 view .LVU833
 2328 00dc 30EE670A 		vsub.f32	s0, s0, s15
 136:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 2329              		.loc 1 136 32 view .LVU834
 2330 00e0 30EE000A 		vadd.f32	s0, s0, s0
 2331 00e4 FFF7FEFF 		bl	asinf
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 62


 2332              	.LVL139:
 136:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 2333              		.loc 1 136 71 view .LVU835
 2334 00e8 9FED5E8A 		vldr.32	s16, .L58+16
 2335 00ec 20EE480A 		vnmul.f32	s0, s0, s16
 136:Application/ins_task.c ****     ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2] + 
 2336              		.loc 1 136 29 view .LVU836
 2337 00f0 84ED280A 		vstr.32	s0, [r4, #160]
 137:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 2338              		.loc 1 137 5 is_stmt 1 view .LVU837
 137:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 2339              		.loc 1 137 47 is_stmt 0 view .LVU838
 2340 00f4 95ED550A 		vldr.32	s0, [r5, #340]
 137:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 2341              		.loc 1 137 54 view .LVU839
 2342 00f8 D5ED577A 		vldr.32	s15, [r5, #348]
 137:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 2343              		.loc 1 137 51 view .LVU840
 2344 00fc 20EE270A 		vmul.f32	s0, s0, s15
 137:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 2345              		.loc 1 137 61 view .LVU841
 2346 0100 95ED547A 		vldr.32	s14, [r5, #336]
 137:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 2347              		.loc 1 137 68 view .LVU842
 2348 0104 D5ED560A 		vldr.32	s1, [r5, #344]
 137:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 2349              		.loc 1 137 65 view .LVU843
 2350 0108 27EE207A 		vmul.f32	s14, s14, s1
 137:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 2351              		.loc 1 137 58 view .LVU844
 2352 010c 30EE070A 		vadd.f32	s0, s0, s14
 137:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 2353              		.loc 1 137 91 view .LVU845
 2354 0110 60EEA00A 		vmul.f32	s1, s1, s1
 137:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 2355              		.loc 1 137 105 view .LVU846
 2356 0114 67EEA77A 		vmul.f32	s15, s15, s15
 137:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 2357              		.loc 1 137 98 view .LVU847
 2358 0118 70EEA70A 		vadd.f32	s1, s1, s15
 137:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 2359              		.loc 1 137 83 view .LVU848
 2360 011c 70EEA00A 		vadd.f32	s1, s1, s1
 137:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 2361              		.loc 1 137 31 view .LVU849
 2362 0120 F7EE008A 		vmov.f32	s17, #1.0e+0
 2363 0124 78EEE00A 		vsub.f32	s1, s17, s1
 2364 0128 30EE000A 		vadd.f32	s0, s0, s0
 2365 012c FFF7FEFF 		bl	atan2f
 2366              	.LVL140:
 137:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 2367              		.loc 1 137 114 view .LVU850
 2368 0130 20EE080A 		vmul.f32	s0, s0, s16
 137:Application/ins_task.c ****     ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1] - 
 2369              		.loc 1 137 29 view .LVU851
 2370 0134 84ED290A 		vstr.32	s0, [r4, #164]
 138:Application/ins_task.c **** 
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 63


 2371              		.loc 1 138 5 is_stmt 1 view .LVU852
 138:Application/ins_task.c **** 
 2372              		.loc 1 138 47 is_stmt 0 view .LVU853
 2373 0138 95ED540A 		vldr.32	s0, [r5, #336]
 138:Application/ins_task.c **** 
 2374              		.loc 1 138 54 view .LVU854
 2375 013c D5ED550A 		vldr.32	s1, [r5, #340]
 138:Application/ins_task.c **** 
 2376              		.loc 1 138 51 view .LVU855
 2377 0140 20EE200A 		vmul.f32	s0, s0, s1
 138:Application/ins_task.c **** 
 2378              		.loc 1 138 61 view .LVU856
 2379 0144 95ED567A 		vldr.32	s14, [r5, #344]
 138:Application/ins_task.c **** 
 2380              		.loc 1 138 68 view .LVU857
 2381 0148 D5ED577A 		vldr.32	s15, [r5, #348]
 138:Application/ins_task.c **** 
 2382              		.loc 1 138 65 view .LVU858
 2383 014c 27EE277A 		vmul.f32	s14, s14, s15
 138:Application/ins_task.c **** 
 2384              		.loc 1 138 58 view .LVU859
 2385 0150 30EE070A 		vadd.f32	s0, s0, s14
 138:Application/ins_task.c **** 
 2386              		.loc 1 138 91 view .LVU860
 2387 0154 60EEA00A 		vmul.f32	s1, s1, s1
 138:Application/ins_task.c **** 
 2388              		.loc 1 138 105 view .LVU861
 2389 0158 67EEA77A 		vmul.f32	s15, s15, s15
 138:Application/ins_task.c **** 
 2390              		.loc 1 138 98 view .LVU862
 2391 015c 70EEE70A 		vsub.f32	s1, s1, s15
 138:Application/ins_task.c **** 
 2392              		.loc 1 138 83 view .LVU863
 2393 0160 70EEA00A 		vadd.f32	s1, s1, s1
 138:Application/ins_task.c **** 
 2394              		.loc 1 138 31 view .LVU864
 2395 0164 78EEE00A 		vsub.f32	s1, s17, s1
 2396 0168 30EE000A 		vadd.f32	s0, s0, s0
 2397 016c FFF7FEFF 		bl	atan2f
 2398              	.LVL141:
 138:Application/ins_task.c **** 
 2399              		.loc 1 138 114 view .LVU865
 2400 0170 20EE088A 		vmul.f32	s16, s0, s16
 138:Application/ins_task.c **** 
 2401              		.loc 1 138 29 view .LVU866
 2402 0174 84ED278A 		vstr.32	s16, [r4, #156]
 140:Application/ins_task.c ****     BodyFrameToEarthFrame(yb, ins->yn, ins->q);
 2403              		.loc 1 140 5 is_stmt 1 view .LVU867
 2404 0178 2246     		mov	r2, r4
 2405 017a 04F14401 		add	r1, r4, #68
 2406 017e 3A48     		ldr	r0, .L58+20
 2407 0180 FFF7FEFF 		bl	BodyFrameToEarthFrame
 2408              	.LVL142:
 141:Application/ins_task.c ****     BodyFrameToEarthFrame(zb, ins->zn, ins->q);
 2409              		.loc 1 141 5 view .LVU868
 2410 0184 2246     		mov	r2, r4
 2411 0186 04F15001 		add	r1, r4, #80
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 64


 2412 018a 3848     		ldr	r0, .L58+24
 2413 018c FFF7FEFF 		bl	BodyFrameToEarthFrame
 2414              	.LVL143:
 142:Application/ins_task.c **** 
 2415              		.loc 1 142 5 view .LVU869
 2416 0190 2246     		mov	r2, r4
 2417 0192 04F15C01 		add	r1, r4, #92
 2418 0196 3648     		ldr	r0, .L58+28
 2419 0198 FFF7FEFF 		bl	BodyFrameToEarthFrame
 2420              	.LVL144:
 144:Application/ins_task.c ****     EarthFrameToBodyFrame(gravity, gravity_b, ins->q);
 2421              		.loc 1 144 5 view .LVU870
 145:Application/ins_task.c ****     for (uint8_t i = 0; i < 3; i++)
 2422              		.loc 1 145 5 view .LVU871
 2423 019c 2246     		mov	r2, r4
 2424 019e 01A9     		add	r1, sp, #4
 2425 01a0 3448     		ldr	r0, .L58+32
 2426 01a2 FFF7FEFF 		bl	EarthFrameToBodyFrame
 2427              	.LVL145:
 146:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2428              		.loc 1 146 5 view .LVU872
 2429              	.LBB10:
 146:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2430              		.loc 1 146 10 view .LVU873
 146:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2431              		.loc 1 146 18 is_stmt 0 view .LVU874
 2432 01a6 0023     		movs	r3, #0
 146:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2433              		.loc 1 146 5 view .LVU875
 2434 01a8 26E0     		b	.L55
 2435              	.LVL146:
 2436              	.L56:
 147:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2437              		.loc 1 147 9 is_stmt 1 discriminator 3 view .LVU876
 147:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2438              		.loc 1 147 44 is_stmt 0 discriminator 3 view .LVU877
 2439 01aa 9A1D     		adds	r2, r3, #6
 2440 01ac 04EB8202 		add	r2, r4, r2, lsl #2
 2441 01b0 92ED017A 		vldr.32	s14, [r2, #4]
 147:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2442              		.loc 1 147 59 discriminator 3 view .LVU878
 2443 01b4 04AA     		add	r2, sp, #16
 2444 01b6 02EB8302 		add	r2, r2, r3, lsl #2
 2445 01ba 52ED037A 		vldr.32	s15, [r2, #-12]
 147:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2446              		.loc 1 147 48 discriminator 3 view .LVU879
 2447 01be 37EE677A 		vsub.f32	s14, s14, s15
 147:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2448              		.loc 1 147 64 discriminator 3 view .LVU880
 2449 01c2 264A     		ldr	r2, .L58+8
 2450 01c4 D2ED007A 		vldr.32	s15, [r2]
 2451 01c8 27EE277A 		vmul.f32	s14, s14, s15
 147:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2452              		.loc 1 147 75 discriminator 3 view .LVU881
 2453 01cc D4ED106A 		vldr.32	s13, [r4, #64]
 147:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2454              		.loc 1 147 86 discriminator 3 view .LVU882
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 65


 2455 01d0 77EEA67A 		vadd.f32	s15, s15, s13
 147:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2456              		.loc 1 147 69 discriminator 3 view .LVU883
 2457 01d4 87EE276A 		vdiv.f32	s12, s14, s15
 147:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2458              		.loc 1 147 112 discriminator 3 view .LVU884
 2459 01d8 03F10A02 		add	r2, r3, #10
 2460 01dc 04EB8202 		add	r2, r4, r2, lsl #2
 2461 01e0 92ED007A 		vldr.32	s14, [r2]
 147:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2462              		.loc 1 147 116 discriminator 3 view .LVU885
 2463 01e4 66EE876A 		vmul.f32	s13, s13, s14
 147:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2464              		.loc 1 147 132 discriminator 3 view .LVU886
 2465 01e8 86EEA77A 		vdiv.f32	s14, s13, s15
 147:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2466              		.loc 1 147 92 discriminator 3 view .LVU887
 2467 01ec 76EE077A 		vadd.f32	s15, s12, s14
 147:Application/ins_task.c ****     BodyFrameToEarthFrame(ins->MotionAccel_b, ins->MotionAccel_n, ins->q);
 2468              		.loc 1 147 31 discriminator 3 view .LVU888
 2469 01f0 C2ED007A 		vstr.32	s15, [r2]
 146:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2470              		.loc 1 146 32 is_stmt 1 discriminator 3 view .LVU889
 146:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2471              		.loc 1 146 33 is_stmt 0 discriminator 3 view .LVU890
 2472 01f4 0133     		adds	r3, r3, #1
 2473              	.LVL147:
 146:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2474              		.loc 1 146 33 discriminator 3 view .LVU891
 2475 01f6 DBB2     		uxtb	r3, r3
 2476              	.LVL148:
 2477              	.L55:
 146:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2478              		.loc 1 146 25 is_stmt 1 discriminator 1 view .LVU892
 146:Application/ins_task.c ****         ins->MotionAccel_b[i] = (ins->Accel[i] - gravity_b[i]) * dt / (ins->AccelLPF + dt) + ins->M
 2479              		.loc 1 146 5 is_stmt 0 discriminator 1 view .LVU893
 2480 01f8 022B     		cmp	r3, #2
 2481 01fa D6D9     		bls	.L56
 2482              	.LBE10:
 148:Application/ins_task.c **** 
 2483              		.loc 1 148 5 is_stmt 1 view .LVU894
 148:Application/ins_task.c **** 
 2484              		.loc 1 148 50 is_stmt 0 view .LVU895
 2485 01fc 04F13408 		add	r8, r4, #52
 148:Application/ins_task.c **** 
 2486              		.loc 1 148 5 view .LVU896
 2487 0200 2246     		mov	r2, r4
 2488 0202 4146     		mov	r1, r8
 2489 0204 04F12800 		add	r0, r4, #40
 2490 0208 FFF7FEFF 		bl	BodyFrameToEarthFrame
 2491              	.LVL149:
 150:Application/ins_task.c ****     memcpy(ins->Accel, QEKF_INS.Accel, sizeof(QEKF_INS.Accel));
 2492              		.loc 1 150 5 is_stmt 1 view .LVU897
 2493 020c 1A4D     		ldr	r5, .L58+36
 2494 020e 2B46     		mov	r3, r5
 2495 0210 07CB     		ldmia	r3!, {r0, r1, r2}
 2496 0212 2061     		str	r0, [r4, #16]	@ unaligned
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 66


 2497 0214 7960     		str	r1, [r7, #4]	@ unaligned
 2498 0216 BA60     		str	r2, [r7, #8]	@ unaligned
 151:Application/ins_task.c ****     memcpy(ins->q, QEKF_INS.q, sizeof(QEKF_INS.q));
 2499              		.loc 1 151 5 view .LVU898
 2500 0218 07CB     		ldmia	r3!, {r0, r1, r2}
 2501 021a E061     		str	r0, [r4, #28]	@ unaligned
 2502 021c 7160     		str	r1, [r6, #4]	@ unaligned
 2503 021e B260     		str	r2, [r6, #8]	@ unaligned
 152:Application/ins_task.c ****     ins->Yaw = QEKF_INS.Yaw;
 2504              		.loc 1 152 5 view .LVU899
 2505 0220 A5F11C06 		sub	r6, r5, #28
 2506 0224 0FCE     		ldmia	r6!, {r0, r1, r2, r3}
 2507 0226 2060     		str	r0, [r4]	@ unaligned
 2508 0228 6160     		str	r1, [r4, #4]	@ unaligned
 2509 022a A260     		str	r2, [r4, #8]	@ unaligned
 2510 022c E360     		str	r3, [r4, #12]	@ unaligned
 153:Application/ins_task.c ****     ins->Pitch = QEKF_INS.Pitch;
 2511              		.loc 1 153 5 view .LVU900
 153:Application/ins_task.c ****     ins->Pitch = QEKF_INS.Pitch;
 2512              		.loc 1 153 24 is_stmt 0 view .LVU901
 2513 022e EB6B     		ldr	r3, [r5, #60]	@ float
 153:Application/ins_task.c ****     ins->Pitch = QEKF_INS.Pitch;
 2514              		.loc 1 153 14 view .LVU902
 2515 0230 A367     		str	r3, [r4, #120]	@ float
 154:Application/ins_task.c ****     // ins->Roll = QEKF_INS.Roll;
 2516              		.loc 1 154 5 is_stmt 1 view .LVU903
 154:Application/ins_task.c ****     // ins->Roll = QEKF_INS.Roll;
 2517              		.loc 1 154 26 is_stmt 0 view .LVU904
 2518 0232 AB6B     		ldr	r3, [r5, #56]	@ float
 154:Application/ins_task.c ****     // ins->Roll = QEKF_INS.Roll;
 2519              		.loc 1 154 16 view .LVU905
 2520 0234 6367     		str	r3, [r4, #116]	@ float
 156:Application/ins_task.c **** 
 2521              		.loc 1 156 5 is_stmt 1 view .LVU906
 156:Application/ins_task.c **** 
 2522              		.loc 1 156 34 is_stmt 0 view .LVU907
 2523 0236 2B6C     		ldr	r3, [r5, #64]	@ float
 156:Application/ins_task.c **** 
 2524              		.loc 1 156 24 view .LVU908
 2525 0238 E367     		str	r3, [r4, #124]	@ float
 158:Application/ins_task.c **** 
 2526              		.loc 1 158 5 is_stmt 1 view .LVU909
 2527 023a FFF7FEFF 		bl	HAL_GetTick
 2528              	.LVL150:
 2529 023e 0346     		mov	r3, r0
 2530 0240 4246     		mov	r2, r8
 2531 0242 2146     		mov	r1, r4
 2532 0244 0D48     		ldr	r0, .L58+40
 2533 0246 FFF7FEFF 		bl	InsertQuaternionFrame
 2534              	.LVL151:
 161:Application/ins_task.c **** 
 2535              		.loc 1 161 1 is_stmt 0 view .LVU910
 2536 024a 04B0     		add	sp, sp, #16
 2537              	.LCFI24:
 2538              		.cfi_def_cfa_offset 32
 2539              		@ sp needed
 2540 024c BDEC028B 		vldm	sp!, {d8}
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 67


 2541              	.LCFI25:
 2542              		.cfi_restore 80
 2543              		.cfi_restore 81
 2544              		.cfi_def_cfa_offset 24
 2545 0250 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2546              	.LVL152:
 2547              	.L59:
 161:Application/ins_task.c **** 
 2548              		.loc 1 161 1 view .LVU911
 2549              		.align	2
 2550              	.L58:
 2551 0254 00003443 		.word	1127481344
 2552 0258 DB0F4940 		.word	1078530011
 2553 025c 00000000 		.word	.LANCHOR13
 2554 0260 50010000 		.word	QEKF_INS+336
 2555 0264 E12E6542 		.word	1113927393
 2556 0268 00000000 		.word	.LANCHOR14
 2557 026c 00000000 		.word	.LANCHOR15
 2558 0270 00000000 		.word	.LANCHOR16
 2559 0274 00000000 		.word	.LANCHOR17
 2560 0278 6C010000 		.word	QEKF_INS+364
 2561 027c 00000000 		.word	.LANCHOR18
 2562              		.cfi_endproc
 2563              	.LFE173:
 2565              		.section	.text.IMU_Temperature_Ctrl,"ax",%progbits
 2566              		.align	1
 2567              		.global	IMU_Temperature_Ctrl
 2568              		.syntax unified
 2569              		.thumb
 2570              		.thumb_func
 2572              	IMU_Temperature_Ctrl:
 2573              	.LFB183:
 392:Application/ins_task.c ****     PID_Calculate(&TempCtrl, BMI088.Temperature, 40 + 0 * float_constrain(BMI088.TempWhenCali, 37, 
 2574              		.loc 1 392 1 is_stmt 1 view -0
 2575              		.cfi_startproc
 2576              		@ args = 0, pretend = 0, frame = 0
 2577              		@ frame_needed = 0, uses_anonymous_args = 0
 2578 0000 10B5     		push	{r4, lr}
 2579              	.LCFI26:
 2580              		.cfi_def_cfa_offset 8
 2581              		.cfi_offset 4, -8
 2582              		.cfi_offset 14, -4
 2583 0002 2DED028B 		vpush.64	{d8}
 2584              	.LCFI27:
 2585              		.cfi_def_cfa_offset 16
 2586              		.cfi_offset 80, -16
 2587              		.cfi_offset 81, -12
 393:Application/ins_task.c **** 
 2588              		.loc 1 393 5 view .LVU913
 2589 0006 194B     		ldr	r3, .L62
 2590 0008 D3ED078A 		vldr.32	s17, [r3, #28]
 393:Application/ins_task.c **** 
 2591              		.loc 1 393 59 is_stmt 0 view .LVU914
 2592 000c 9FED181A 		vldr.32	s2, .L62+4
 2593 0010 DFED180A 		vldr.32	s1, .L62+8
 2594 0014 93ED060A 		vldr.32	s0, [r3, #24]
 2595 0018 FFF7FEFF 		bl	float_constrain
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 68


 2596              	.LVL153:
 393:Application/ins_task.c **** 
 2597              		.loc 1 393 57 view .LVU915
 2598 001c 9FED168A 		vldr.32	s16, .L62+12
 2599 0020 20EE080A 		vmul.f32	s0, s0, s16
 393:Application/ins_task.c **** 
 2600              		.loc 1 393 5 view .LVU916
 2601 0024 154C     		ldr	r4, .L62+16
 2602 0026 DFED160A 		vldr.32	s1, .L62+20
 2603 002a 70EE200A 		vadd.f32	s1, s0, s1
 2604 002e B0EE680A 		vmov.f32	s0, s17
 2605 0032 2046     		mov	r0, r4
 2606 0034 FFF7FEFF 		bl	PID_Calculate
 2607              	.LVL154:
 395:Application/ins_task.c **** }
 2608              		.loc 1 395 5 is_stmt 1 view .LVU917
 395:Application/ins_task.c **** }
 2609              		.loc 1 395 57 is_stmt 0 view .LVU918
 2610 0038 94ED0D0A 		vldr.32	s0, [r4, #52]
 2611 003c FFF7FEFF 		bl	float_rounding
 2612              	.LVL155:
 2613 0040 00EE100A 		vmov	s0, r0	@ int
 395:Application/ins_task.c **** }
 2614              		.loc 1 395 41 view .LVU919
 2615 0044 9FED0F1A 		vldr.32	s2, .L62+24
 2616 0048 F0EE480A 		vmov.f32	s1, s16
 2617 004c B8EEC00A 		vcvt.f32.s32	s0, s0
 2618 0050 FFF7FEFF 		bl	float_constrain
 2619              	.LVL156:
 395:Application/ins_task.c **** }
 2620              		.loc 1 395 5 view .LVU920
 2621 0054 BCEEC00A 		vcvt.u32.f32	s0, s0
 2622 0058 10EE103A 		vmov	r3, s0	@ int
 2623 005c 9AB2     		uxth	r2, r3
 2624 005e 0021     		movs	r1, #0
 2625 0060 0948     		ldr	r0, .L62+28
 2626 0062 FFF7FEFF 		bl	TIM_Set_PWM
 2627              	.LVL157:
 396:Application/ins_task.c **** 
 2628              		.loc 1 396 1 view .LVU921
 2629 0066 BDEC028B 		vldm	sp!, {d8}
 2630              	.LCFI28:
 2631              		.cfi_restore 80
 2632              		.cfi_restore 81
 2633              		.cfi_def_cfa_offset 8
 2634 006a 10BD     		pop	{r4, pc}
 2635              	.L63:
 2636              		.align	2
 2637              	.L62:
 2638 006c 00000000 		.word	BMI088
 2639 0070 00002842 		.word	1109917696
 2640 0074 00001442 		.word	1108606976
 2641 0078 00000000 		.word	0
 2642 007c 00000000 		.word	.LANCHOR12
 2643 0080 00002042 		.word	1109393408
 2644 0084 0000804F 		.word	1333788672
 2645 0088 00000000 		.word	htim10
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 69


 2646              		.cfi_endproc
 2647              	.LFE183:
 2649              		.section	.text.get_shoulder_angles_wrt_torso,"ax",%progbits
 2650              		.align	1
 2651              		.global	get_shoulder_angles_wrt_torso
 2652              		.syntax unified
 2653              		.thumb
 2654              		.thumb_func
 2656              	get_shoulder_angles_wrt_torso:
 2657              	.LVL158:
 2658              	.LFB186:
 424:Application/ins_task.c **** 
 425:Application/ins_task.c **** /**
 426:Application/ins_task.c ****  * @brief 主函数：从躯干和肱骨的姿态四元数计算肩关节的相对旋转欧拉角
 427:Application/ins_task.c ****  */
 428:Application/ins_task.c **** void get_shoulder_angles_wrt_torso(const Quaternion *q_torso, const Quaternion *q_humerus, EulerAng
 429:Application/ins_task.c **** {
 2659              		.loc 1 429 1 is_stmt 1 view -0
 2660              		.cfi_startproc
 2661              		@ args = 0, pretend = 0, frame = 32
 2662              		@ frame_needed = 0, uses_anonymous_args = 0
 2663              		.loc 1 429 1 is_stmt 0 view .LVU923
 2664 0000 30B5     		push	{r4, r5, lr}
 2665              	.LCFI29:
 2666              		.cfi_def_cfa_offset 12
 2667              		.cfi_offset 4, -12
 2668              		.cfi_offset 5, -8
 2669              		.cfi_offset 14, -4
 2670 0002 2DED068B 		vpush.64	{d8, d9, d10}
 2671              	.LCFI30:
 2672              		.cfi_def_cfa_offset 36
 2673              		.cfi_offset 80, -36
 2674              		.cfi_offset 81, -32
 2675              		.cfi_offset 82, -28
 2676              		.cfi_offset 83, -24
 2677              		.cfi_offset 84, -20
 2678              		.cfi_offset 85, -16
 2679 0006 89B0     		sub	sp, sp, #36
 2680              	.LCFI31:
 2681              		.cfi_def_cfa_offset 72
 2682 0008 0D46     		mov	r5, r1
 2683 000a 1446     		mov	r4, r2
 430:Application/ins_task.c ****     // --- 步骤 1: 计算肩关节的相对旋转四元数 ---
 431:Application/ins_task.c ****     // 公式: q_shoulder = conjugate(q_torso) * q_humerus
 432:Application/ins_task.c ****     Quaternion q_torso_conj;
 2684              		.loc 1 432 5 is_stmt 1 view .LVU924
 433:Application/ins_task.c ****     Quaternion q_shoulder;
 2685              		.loc 1 433 5 view .LVU925
 434:Application/ins_task.c **** 
 435:Application/ins_task.c ****     quaternion_conjugate(q_torso, &q_torso_conj);
 2686              		.loc 1 435 5 view .LVU926
 2687 000c 04A9     		add	r1, sp, #16
 2688              	.LVL159:
 2689              		.loc 1 435 5 is_stmt 0 view .LVU927
 2690 000e FFF7FEFF 		bl	quaternion_conjugate
 2691              	.LVL160:
 436:Application/ins_task.c ****     quaternion_multiply(&q_torso_conj, q_humerus, &q_shoulder);
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 70


 2692              		.loc 1 436 5 is_stmt 1 view .LVU928
 2693 0012 6A46     		mov	r2, sp
 2694 0014 2946     		mov	r1, r5
 2695 0016 04A8     		add	r0, sp, #16
 2696 0018 FFF7FEFF 		bl	quaternion_multiply
 2697              	.LVL161:
 437:Application/ins_task.c **** 
 438:Application/ins_task.c ****     // --- 步骤 2: 将相对旋转四元数转换为 X-Z-Y 欧拉角 ---
 439:Application/ins_task.c ****     float w = q_shoulder.w;
 2698              		.loc 1 439 5 view .LVU929
 2699              		.loc 1 439 11 is_stmt 0 view .LVU930
 2700 001c DDED008A 		vldr.32	s17, [sp]
 2701              	.LVL162:
 440:Application/ins_task.c ****     float x = q_shoulder.x;
 2702              		.loc 1 440 5 is_stmt 1 view .LVU931
 2703              		.loc 1 440 11 is_stmt 0 view .LVU932
 2704 0020 9DED018A 		vldr.32	s16, [sp, #4]
 2705              	.LVL163:
 441:Application/ins_task.c ****     float y = q_shoulder.y;
 2706              		.loc 1 441 5 is_stmt 1 view .LVU933
 2707              		.loc 1 441 11 is_stmt 0 view .LVU934
 2708 0024 DDED029A 		vldr.32	s19, [sp, #8]
 2709              	.LVL164:
 442:Application/ins_task.c ****     float z = q_shoulder.z;
 2710              		.loc 1 442 5 is_stmt 1 view .LVU935
 2711              		.loc 1 442 11 is_stmt 0 view .LVU936
 2712 0028 9DED039A 		vldr.32	s18, [sp, #12]
 2713              	.LVL165:
 443:Application/ins_task.c **** 
 444:Application/ins_task.c ****     // 计算用于万向节死锁检测的中间值
 445:Application/ins_task.c ****     // 这个值是旋转矩阵的 R(2,1) 元素的一半
 446:Application/ins_task.c ****     float test_val = 2.0f * (x * y + w * z);
 2714              		.loc 1 446 5 is_stmt 1 view .LVU937
 2715              		.loc 1 446 32 is_stmt 0 view .LVU938
 2716 002c 28EE290A 		vmul.f32	s0, s16, s19
 2717              		.loc 1 446 40 view .LVU939
 2718 0030 68EE897A 		vmul.f32	s15, s17, s18
 2719              		.loc 1 446 36 view .LVU940
 2720 0034 30EE270A 		vadd.f32	s0, s0, s15
 2721              		.loc 1 446 11 view .LVU941
 2722 0038 30EE000A 		vadd.f32	s0, s0, s0
 2723              	.LVL166:
 447:Application/ins_task.c ****     const float GIMBAL_LOCK_THRESHOLD = 0.99999f;
 2724              		.loc 1 447 5 is_stmt 1 view .LVU942
 448:Application/ins_task.c **** 
 449:Application/ins_task.c ****     if (fabsf(test_val) > GIMBAL_LOCK_THRESHOLD)
 2725              		.loc 1 449 5 view .LVU943
 2726              		.loc 1 449 9 is_stmt 0 view .LVU944
 2727 003c B0EEC07A 		vabs.f32	s14, s0
 2728              		.loc 1 449 8 view .LVU945
 2729 0040 DFED287A 		vldr.32	s15, .L76
 2730 0044 B4EEE77A 		vcmpe.f32	s14, s15
 2731 0048 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2732 004c 18DD     		ble	.L73
 450:Application/ins_task.c ****     {
 451:Application/ins_task.c ****         // --- 万向节死锁情况 ---
 452:Application/ins_task.c ****         // 当绕Z轴旋转接近 +/- 90度时发生
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 71


 453:Application/ins_task.c ****         angles->psi_z = (test_val > 0.0f) ? (PI / 2.0f) : (-PI / 2.0f); // Z轴旋转
 2733              		.loc 1 453 9 is_stmt 1 view .LVU946
 2734              		.loc 1 453 57 is_stmt 0 view .LVU947
 2735 004e B5EEC00A 		vcmpe.f32	s0, #0
 2736 0052 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2737 0056 11DD     		ble	.L74
 2738 0058 234B     		ldr	r3, .L76+4
 2739              	.L67:
 2740              		.loc 1 453 23 discriminator 4 view .LVU948
 2741 005a 6360     		str	r3, [r4, #4]	@ float
 454:Application/ins_task.c ****         angles->phi_x = 2.0f * atan2f(x, w);                            // X轴旋转
 2742              		.loc 1 454 9 is_stmt 1 discriminator 4 view .LVU949
 2743              		.loc 1 454 32 is_stmt 0 discriminator 4 view .LVU950
 2744 005c F0EE680A 		vmov.f32	s1, s17
 2745 0060 B0EE480A 		vmov.f32	s0, s16
 2746              	.LVL167:
 2747              		.loc 1 454 32 discriminator 4 view .LVU951
 2748 0064 FFF7FEFF 		bl	atan2f
 2749              	.LVL168:
 2750              		.loc 1 454 30 discriminator 4 view .LVU952
 2751 0068 30EE000A 		vadd.f32	s0, s0, s0
 2752              		.loc 1 454 23 discriminator 4 view .LVU953
 2753 006c 84ED000A 		vstr.32	s0, [r4]
 455:Application/ins_task.c ****         angles->theta_y = 0.0f;                                         // Y轴旋转 (按惯例设
 2754              		.loc 1 455 9 is_stmt 1 discriminator 4 view .LVU954
 2755              		.loc 1 455 25 is_stmt 0 discriminator 4 view .LVU955
 2756 0070 0023     		movs	r3, #0
 2757 0072 A360     		str	r3, [r4, #8]	@ float
 2758              	.LVL169:
 2759              	.L64:
 456:Application/ins_task.c ****     }
 457:Application/ins_task.c ****     else
 458:Application/ins_task.c ****     {
 459:Application/ins_task.c ****         // --- 正常情况 ---
 460:Application/ins_task.c ****         // Z轴旋转 (psi)
 461:Application/ins_task.c ****         angles->psi_z = asinf(test_val);
 462:Application/ins_task.c **** 
 463:Application/ins_task.c ****         // X轴旋转 (phi)
 464:Application/ins_task.c ****         angles->phi_x = atan2f(2.0f * (y * z - w * x), 1.0f - 2.0f * (x * x + y * y));
 465:Application/ins_task.c **** 
 466:Application/ins_task.c ****         // Y轴旋转 (theta)
 467:Application/ins_task.c ****         angles->theta_y = atan2f(2.0f * (x * z - w * y), 1.0f - 2.0f * (y * y + z * z));
 468:Application/ins_task.c ****     }
 469:Application/ins_task.c ****     // ins->xzy_order_angle[1] = -asinf(2 * (q[1] * q[2] - q[0] * q[3])) * 57.295779513f;
 470:Application/ins_task.c ****     // ins->xzy_order_angle[2] = atan2f(2.0f * (q[1] * q[3] + q[0] * q[2]), 1 - 2.0f * (q[2] * q[2]
 471:Application/ins_task.c ****     // ins->xzy_order_angle[0] = atan2f(2.0f * (q[0] * q[1] + q[2] * q[3]), 1 - 2.0f * (q[1] * q[1]
 472:Application/ins_task.c **** }
 2760              		.loc 1 472 1 view .LVU956
 2761 0074 09B0     		add	sp, sp, #36
 2762              	.LCFI32:
 2763              		.cfi_remember_state
 2764              		.cfi_def_cfa_offset 36
 2765              		@ sp needed
 2766 0076 BDEC068B 		vldm	sp!, {d8-d10}
 2767              	.LCFI33:
 2768              		.cfi_restore 84
 2769              		.cfi_restore 85
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 72


 2770              		.cfi_restore 82
 2771              		.cfi_restore 83
 2772              		.cfi_restore 80
 2773              		.cfi_restore 81
 2774              		.cfi_def_cfa_offset 12
 2775 007a 30BD     		pop	{r4, r5, pc}
 2776              	.LVL170:
 2777              	.L74:
 2778              	.LCFI34:
 2779              		.cfi_restore_state
 453:Application/ins_task.c ****         angles->phi_x = 2.0f * atan2f(x, w);                            // X轴旋转
 2780              		.loc 1 453 57 view .LVU957
 2781 007c 1B4B     		ldr	r3, .L76+8
 2782 007e ECE7     		b	.L67
 2783              	.L73:
 461:Application/ins_task.c **** 
 2784              		.loc 1 461 9 is_stmt 1 view .LVU958
 461:Application/ins_task.c **** 
 2785              		.loc 1 461 25 is_stmt 0 view .LVU959
 2786 0080 FFF7FEFF 		bl	asinf
 2787              	.LVL171:
 461:Application/ins_task.c **** 
 2788              		.loc 1 461 23 view .LVU960
 2789 0084 84ED010A 		vstr.32	s0, [r4, #4]
 464:Application/ins_task.c **** 
 2790              		.loc 1 464 9 is_stmt 1 view .LVU961
 464:Application/ins_task.c **** 
 2791              		.loc 1 464 42 is_stmt 0 view .LVU962
 2792 0088 29EE890A 		vmul.f32	s0, s19, s18
 464:Application/ins_task.c **** 
 2793              		.loc 1 464 50 view .LVU963
 2794 008c 68EE887A 		vmul.f32	s15, s17, s16
 464:Application/ins_task.c **** 
 2795              		.loc 1 464 46 view .LVU964
 2796 0090 30EE670A 		vsub.f32	s0, s0, s15
 464:Application/ins_task.c **** 
 2797              		.loc 1 464 73 view .LVU965
 2798 0094 68EE080A 		vmul.f32	s1, s16, s16
 464:Application/ins_task.c **** 
 2799              		.loc 1 464 81 view .LVU966
 2800 0098 29EEA9AA 		vmul.f32	s20, s19, s19
 464:Application/ins_task.c **** 
 2801              		.loc 1 464 77 view .LVU967
 2802 009c 70EE8A0A 		vadd.f32	s1, s1, s20
 464:Application/ins_task.c **** 
 2803              		.loc 1 464 68 view .LVU968
 2804 00a0 70EEA00A 		vadd.f32	s1, s1, s1
 464:Application/ins_task.c **** 
 2805              		.loc 1 464 25 view .LVU969
 2806 00a4 F7EE00AA 		vmov.f32	s21, #1.0e+0
 2807 00a8 7AEEE00A 		vsub.f32	s1, s21, s1
 2808 00ac 30EE000A 		vadd.f32	s0, s0, s0
 2809 00b0 FFF7FEFF 		bl	atan2f
 2810              	.LVL172:
 464:Application/ins_task.c **** 
 2811              		.loc 1 464 23 view .LVU970
 2812 00b4 84ED000A 		vstr.32	s0, [r4]
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 73


 467:Application/ins_task.c ****     }
 2813              		.loc 1 467 9 is_stmt 1 view .LVU971
 467:Application/ins_task.c ****     }
 2814              		.loc 1 467 44 is_stmt 0 view .LVU972
 2815 00b8 28EE098A 		vmul.f32	s16, s16, s18
 2816              	.LVL173:
 467:Application/ins_task.c ****     }
 2817              		.loc 1 467 52 view .LVU973
 2818 00bc 28EEA90A 		vmul.f32	s0, s17, s19
 467:Application/ins_task.c ****     }
 2819              		.loc 1 467 48 view .LVU974
 2820 00c0 38EE400A 		vsub.f32	s0, s16, s0
 467:Application/ins_task.c ****     }
 2821              		.loc 1 467 83 view .LVU975
 2822 00c4 29EE099A 		vmul.f32	s18, s18, s18
 2823              	.LVL174:
 467:Application/ins_task.c ****     }
 2824              		.loc 1 467 79 view .LVU976
 2825 00c8 3AEE099A 		vadd.f32	s18, s20, s18
 467:Application/ins_task.c ****     }
 2826              		.loc 1 467 70 view .LVU977
 2827 00cc 39EE099A 		vadd.f32	s18, s18, s18
 467:Application/ins_task.c ****     }
 2828              		.loc 1 467 27 view .LVU978
 2829 00d0 7AEEC90A 		vsub.f32	s1, s21, s18
 2830 00d4 30EE000A 		vadd.f32	s0, s0, s0
 2831 00d8 FFF7FEFF 		bl	atan2f
 2832              	.LVL175:
 467:Application/ins_task.c ****     }
 2833              		.loc 1 467 25 view .LVU979
 2834 00dc 84ED020A 		vstr.32	s0, [r4, #8]
 2835              		.loc 1 472 1 view .LVU980
 2836 00e0 C8E7     		b	.L64
 2837              	.L77:
 2838 00e2 00BF     		.align	2
 2839              	.L76:
 2840 00e4 58FF7F3F 		.word	1065353048
 2841 00e8 DB0FC93F 		.word	1070141403
 2842 00ec DB0FC9BF 		.word	-1077342245
 2843              		.cfi_endproc
 2844              	.LFE186:
 2846              		.section	.text.INS_Task,"ax",%progbits
 2847              		.align	1
 2848              		.global	INS_Task
 2849              		.syntax unified
 2850              		.thumb
 2851              		.thumb_func
 2853              	INS_Task:
 2854              	.LFB172:
  60:Application/ins_task.c ****     static uint32_t count = 0;
 2855              		.loc 1 60 1 is_stmt 1 view -0
 2856              		.cfi_startproc
 2857              		@ args = 0, pretend = 0, frame = 48
 2858              		@ frame_needed = 0, uses_anonymous_args = 0
 2859 0000 30B5     		push	{r4, r5, lr}
 2860              	.LCFI35:
 2861              		.cfi_def_cfa_offset 12
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 74


 2862              		.cfi_offset 4, -12
 2863              		.cfi_offset 5, -8
 2864              		.cfi_offset 14, -4
 2865 0002 8DB0     		sub	sp, sp, #52
 2866              	.LCFI36:
 2867              		.cfi_def_cfa_offset 64
  61:Application/ins_task.c ****     const float gravity[3] = {0, 0, 9.81f};
 2868              		.loc 1 61 5 view .LVU982
  62:Application/ins_task.c ****     dt = DWT_GetDeltaT(&INS_DWT_Count);
 2869              		.loc 1 62 5 view .LVU983
  62:Application/ins_task.c ****     dt = DWT_GetDeltaT(&INS_DWT_Count);
 2870              		.loc 1 62 17 is_stmt 0 view .LVU984
 2871 0004 0023     		movs	r3, #0
 2872 0006 0993     		str	r3, [sp, #36]	@ float
 2873 0008 0A93     		str	r3, [sp, #40]	@ float
 2874 000a 514B     		ldr	r3, .L86
 2875 000c 0B93     		str	r3, [sp, #44]	@ float
  63:Application/ins_task.c ****     t += dt;
 2876              		.loc 1 63 5 is_stmt 1 view .LVU985
  63:Application/ins_task.c ****     t += dt;
 2877              		.loc 1 63 10 is_stmt 0 view .LVU986
 2878 000e 5148     		ldr	r0, .L86+4
 2879 0010 FFF7FEFF 		bl	DWT_GetDeltaT
 2880              	.LVL176:
  63:Application/ins_task.c ****     t += dt;
 2881              		.loc 1 63 8 view .LVU987
 2882 0014 504B     		ldr	r3, .L86+8
 2883 0016 83ED000A 		vstr.32	s0, [r3]
  64:Application/ins_task.c **** 
 2884              		.loc 1 64 5 is_stmt 1 view .LVU988
  64:Application/ins_task.c **** 
 2885              		.loc 1 64 7 is_stmt 0 view .LVU989
 2886 001a 504B     		ldr	r3, .L86+12
 2887 001c D3ED007A 		vldr.32	s15, [r3]
 2888 0020 37EE800A 		vadd.f32	s0, s15, s0
 2889 0024 83ED000A 		vstr.32	s0, [r3]
  67:Application/ins_task.c ****     {
 2890              		.loc 1 67 5 is_stmt 1 view .LVU990
 2891              	.LBB11:
  69:Application/ins_task.c ****         get_INS_from_imu2(&exo_controller.INS_torso, BMI088.Accel, BMI088.Gyro);
 2892              		.loc 1 69 9 view .LVU991
 2893 0028 4D4D     		ldr	r5, .L86+16
 2894 002a 2846     		mov	r0, r5
 2895 002c FFF7FEFF 		bl	BMI088_Read
 2896              	.LVL177:
  70:Application/ins_task.c **** 
 2897              		.loc 1 70 9 view .LVU992
 2898 0030 4C4C     		ldr	r4, .L86+20
 2899 0032 05F10C02 		add	r2, r5, #12
 2900 0036 2946     		mov	r1, r5
 2901 0038 2046     		mov	r0, r4
 2902 003a FFF7FEFF 		bl	get_INS_from_imu2
 2903              	.LVL178:
  72:Application/ins_task.c ****             exo_controller.xzy_shoulder.dm_imu.send_reg = 0x02; // 0x01:accel, 0x02:gyro, 0x03:eule
 2904              		.loc 1 72 9 view .LVU993
  72:Application/ins_task.c ****             exo_controller.xzy_shoulder.dm_imu.send_reg = 0x02; // 0x01:accel, 0x02:gyro, 0x03:eule
 2905              		.loc 1 72 47 is_stmt 0 view .LVU994
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 75


 2906 003e A4F53E64 		sub	r4, r4, #3040
 2907 0042 94F82030 		ldrb	r3, [r4, #32]	@ zero_extendqisi2
  72:Application/ins_task.c ****             exo_controller.xzy_shoulder.dm_imu.send_reg = 0x02; // 0x01:accel, 0x02:gyro, 0x03:eule
 2908              		.loc 1 72 12 view .LVU995
 2909 0046 012B     		cmp	r3, #1
 2910 0048 55D0     		beq	.L83
  74:Application/ins_task.c ****             exo_controller.xzy_shoulder.dm_imu.send_reg = 0x01;
 2911              		.loc 1 74 14 is_stmt 1 view .LVU996
  74:Application/ins_task.c ****             exo_controller.xzy_shoulder.dm_imu.send_reg = 0x01;
 2912              		.loc 1 74 17 is_stmt 0 view .LVU997
 2913 004a 022B     		cmp	r3, #2
 2914 004c 57D0     		beq	.L84
 2915              	.L80:
  76:Application/ins_task.c ****         get_INS_from_imu(&exo_controller.xzy_shoulder.INS_shoulder,
 2916              		.loc 1 76 9 is_stmt 1 view .LVU998
 2917 004e 464C     		ldr	r4, .L86+24
 2918 0050 94F82020 		ldrb	r2, [r4, #32]	@ zero_extendqisi2
 2919 0054 0121     		movs	r1, #1
 2920 0056 4548     		ldr	r0, .L86+28
 2921 0058 FFF7FEFF 		bl	IMU_RequestData
 2922              	.LVL179:
  77:Application/ins_task.c ****                          exo_controller.xzy_shoulder.dm_imu.accel, exo_controller.xzy_shoulder.dm_i
 2923              		.loc 1 77 9 view .LVU999
 2924 005c 04F13002 		add	r2, r4, #48
 2925 0060 04F13C01 		add	r1, r4, #60
 2926 0064 04F17C00 		add	r0, r4, #124
 2927 0068 FFF7FEFF 		bl	get_INS_from_imu
 2928              	.LVL180:
  81:Application/ins_task.c ****         Quaternion humerus_q_struct;
 2929              		.loc 1 81 9 view .LVU1000
  82:Application/ins_task.c ****         EulerAnglesXZY result_angles_struct;
 2930              		.loc 1 82 9 view .LVU1001
  83:Application/ins_task.c **** 
 2931              		.loc 1 83 9 view .LVU1002
  86:Application/ins_task.c ****         torso_q_struct.x = exo_controller.INS_torso.q[1];
 2932              		.loc 1 86 9 view .LVU1003
  86:Application/ins_task.c ****         torso_q_struct.x = exo_controller.INS_torso.q[1];
 2933              		.loc 1 86 54 is_stmt 0 view .LVU1004
 2934 006c 04F53E63 		add	r3, r4, #3040
 2935 0070 1B68     		ldr	r3, [r3]	@ float
  86:Application/ins_task.c ****         torso_q_struct.x = exo_controller.INS_torso.q[1];
 2936              		.loc 1 86 26 view .LVU1005
 2937 0072 0193     		str	r3, [sp, #4]	@ float
  87:Application/ins_task.c ****         torso_q_struct.y = exo_controller.INS_torso.q[2];
 2938              		.loc 1 87 9 is_stmt 1 view .LVU1006
  87:Application/ins_task.c ****         torso_q_struct.y = exo_controller.INS_torso.q[2];
 2939              		.loc 1 87 54 is_stmt 0 view .LVU1007
 2940 0074 04F6E433 		addw	r3, r4, #3044
 2941 0078 1B68     		ldr	r3, [r3]	@ float
  87:Application/ins_task.c ****         torso_q_struct.y = exo_controller.INS_torso.q[2];
 2942              		.loc 1 87 26 view .LVU1008
 2943 007a 0293     		str	r3, [sp, #8]	@ float
  88:Application/ins_task.c ****         torso_q_struct.z = exo_controller.INS_torso.q[3];
 2944              		.loc 1 88 9 is_stmt 1 view .LVU1009
  88:Application/ins_task.c ****         torso_q_struct.z = exo_controller.INS_torso.q[3];
 2945              		.loc 1 88 54 is_stmt 0 view .LVU1010
 2946 007c 04F6E833 		addw	r3, r4, #3048
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 76


 2947 0080 1B68     		ldr	r3, [r3]	@ float
  88:Application/ins_task.c ****         torso_q_struct.z = exo_controller.INS_torso.q[3];
 2948              		.loc 1 88 26 view .LVU1011
 2949 0082 0393     		str	r3, [sp, #12]	@ float
  89:Application/ins_task.c ****         humerus_q_struct.w = exo_controller.xzy_shoulder.INS_shoulder.q[0];
 2950              		.loc 1 89 9 is_stmt 1 view .LVU1012
  89:Application/ins_task.c ****         humerus_q_struct.w = exo_controller.xzy_shoulder.INS_shoulder.q[0];
 2951              		.loc 1 89 54 is_stmt 0 view .LVU1013
 2952 0084 04F6EC33 		addw	r3, r4, #3052
 2953 0088 1B68     		ldr	r3, [r3]	@ float
  89:Application/ins_task.c ****         humerus_q_struct.w = exo_controller.xzy_shoulder.INS_shoulder.q[0];
 2954              		.loc 1 89 26 view .LVU1014
 2955 008a 0493     		str	r3, [sp, #16]	@ float
  90:Application/ins_task.c ****         humerus_q_struct.x = exo_controller.xzy_shoulder.INS_shoulder.q[1];
 2956              		.loc 1 90 9 is_stmt 1 view .LVU1015
  90:Application/ins_task.c ****         humerus_q_struct.x = exo_controller.xzy_shoulder.INS_shoulder.q[1];
 2957              		.loc 1 90 72 is_stmt 0 view .LVU1016
 2958 008c E36F     		ldr	r3, [r4, #124]	@ float
  90:Application/ins_task.c ****         humerus_q_struct.x = exo_controller.xzy_shoulder.INS_shoulder.q[1];
 2959              		.loc 1 90 28 view .LVU1017
 2960 008e 0593     		str	r3, [sp, #20]	@ float
  91:Application/ins_task.c ****         humerus_q_struct.y = exo_controller.xzy_shoulder.INS_shoulder.q[2];
 2961              		.loc 1 91 9 is_stmt 1 view .LVU1018
  91:Application/ins_task.c ****         humerus_q_struct.y = exo_controller.xzy_shoulder.INS_shoulder.q[2];
 2962              		.loc 1 91 72 is_stmt 0 view .LVU1019
 2963 0090 D4F88030 		ldr	r3, [r4, #128]	@ float
  91:Application/ins_task.c ****         humerus_q_struct.y = exo_controller.xzy_shoulder.INS_shoulder.q[2];
 2964              		.loc 1 91 28 view .LVU1020
 2965 0094 0693     		str	r3, [sp, #24]	@ float
  92:Application/ins_task.c ****         humerus_q_struct.z = exo_controller.xzy_shoulder.INS_shoulder.q[3];
 2966              		.loc 1 92 9 is_stmt 1 view .LVU1021
  92:Application/ins_task.c ****         humerus_q_struct.z = exo_controller.xzy_shoulder.INS_shoulder.q[3];
 2967              		.loc 1 92 72 is_stmt 0 view .LVU1022
 2968 0096 D4F88430 		ldr	r3, [r4, #132]	@ float
  92:Application/ins_task.c ****         humerus_q_struct.z = exo_controller.xzy_shoulder.INS_shoulder.q[3];
 2969              		.loc 1 92 28 view .LVU1023
 2970 009a 0793     		str	r3, [sp, #28]	@ float
  93:Application/ins_task.c **** 
 2971              		.loc 1 93 9 is_stmt 1 view .LVU1024
  93:Application/ins_task.c **** 
 2972              		.loc 1 93 72 is_stmt 0 view .LVU1025
 2973 009c D4F88830 		ldr	r3, [r4, #136]	@ float
  93:Application/ins_task.c **** 
 2974              		.loc 1 93 28 view .LVU1026
 2975 00a0 0893     		str	r3, [sp, #32]	@ float
  95:Application/ins_task.c ****         exo_controller.shoulder_xzy_angle_wrt_torso.phi_x *= RADIAN_COEF;
 2976              		.loc 1 95 9 is_stmt 1 view .LVU1027
 2977 00a2 04F68845 		addw	r5, r4, #3208
 2978 00a6 2A46     		mov	r2, r5
 2979 00a8 05A9     		add	r1, sp, #20
 2980 00aa 01A8     		add	r0, sp, #4
 2981 00ac FFF7FEFF 		bl	get_shoulder_angles_wrt_torso
 2982              	.LVL181:
  96:Application/ins_task.c ****         exo_controller.shoulder_xzy_angle_wrt_torso.psi_z *= RADIAN_COEF;
 2983              		.loc 1 96 9 view .LVU1028
  96:Application/ins_task.c ****         exo_controller.shoulder_xzy_angle_wrt_torso.psi_z *= RADIAN_COEF;
 2984              		.loc 1 96 59 is_stmt 0 view .LVU1029
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 77


 2985 00b0 D5ED007A 		vldr.32	s15, [r5]
 2986 00b4 9FED2E7A 		vldr.32	s14, .L86+32
 2987 00b8 67EE877A 		vmul.f32	s15, s15, s14
 2988 00bc C5ED007A 		vstr.32	s15, [r5]
  97:Application/ins_task.c ****         exo_controller.shoulder_xzy_angle_wrt_torso.theta_y *= RADIAN_COEF;
 2989              		.loc 1 97 9 is_stmt 1 view .LVU1030
  97:Application/ins_task.c ****         exo_controller.shoulder_xzy_angle_wrt_torso.theta_y *= RADIAN_COEF;
 2990              		.loc 1 97 59 is_stmt 0 view .LVU1031
 2991 00c0 04F68C43 		addw	r3, r4, #3212
 2992 00c4 D3ED007A 		vldr.32	s15, [r3]
 2993 00c8 67EE877A 		vmul.f32	s15, s15, s14
 2994 00cc C3ED007A 		vstr.32	s15, [r3]
  98:Application/ins_task.c ****     }
 2995              		.loc 1 98 9 is_stmt 1 view .LVU1032
  98:Application/ins_task.c ****     }
 2996              		.loc 1 98 61 is_stmt 0 view .LVU1033
 2997 00d0 04F54964 		add	r4, r4, #3216
 2998 00d4 D4ED007A 		vldr.32	s15, [r4]
 2999 00d8 67EE877A 		vmul.f32	s15, s15, s14
 3000 00dc C4ED007A 		vstr.32	s15, [r4]
 3001              	.LBE11:
 102:Application/ins_task.c ****     {
 3002              		.loc 1 102 5 is_stmt 1 view .LVU1034
 102:Application/ins_task.c ****     {
 3003              		.loc 1 102 16 is_stmt 0 view .LVU1035
 3004 00e0 244B     		ldr	r3, .L86+36
 3005 00e2 1B68     		ldr	r3, [r3]
 102:Application/ins_task.c ****     {
 3006              		.loc 1 102 8 view .LVU1036
 3007 00e4 13F0010F 		tst	r3, #1
 3008 00e8 0ED0     		beq	.L85
 3009              	.L81:
 110:Application/ins_task.c ****     {
 3010              		.loc 1 110 5 is_stmt 1 view .LVU1037
 110:Application/ins_task.c ****     {
 3011              		.loc 1 110 16 is_stmt 0 view .LVU1038
 3012 00ea 224A     		ldr	r2, .L86+36
 3013 00ec 1368     		ldr	r3, [r2]
 113:Application/ins_task.c **** 
 3014              		.loc 1 113 5 is_stmt 1 view .LVU1039
 115:Application/ins_task.c **** }
 3015              		.loc 1 115 5 view .LVU1040
 115:Application/ins_task.c **** }
 3016              		.loc 1 115 10 is_stmt 0 view .LVU1041
 3017 00ee 0133     		adds	r3, r3, #1
 3018 00f0 1360     		str	r3, [r2]
 116:Application/ins_task.c **** 
 3019              		.loc 1 116 1 view .LVU1042
 3020 00f2 0DB0     		add	sp, sp, #52
 3021              	.LCFI37:
 3022              		.cfi_remember_state
 3023              		.cfi_def_cfa_offset 12
 3024              		@ sp needed
 3025 00f4 30BD     		pop	{r4, r5, pc}
 3026              	.L83:
 3027              	.LCFI38:
 3028              		.cfi_restore_state
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 78


 3029              	.LBB12:
  73:Application/ins_task.c ****         else if (exo_controller.xzy_shoulder.dm_imu.send_reg == 0x02)
 3030              		.loc 1 73 13 is_stmt 1 view .LVU1043
  73:Application/ins_task.c ****         else if (exo_controller.xzy_shoulder.dm_imu.send_reg == 0x02)
 3031              		.loc 1 73 57 is_stmt 0 view .LVU1044
 3032 00f6 0222     		movs	r2, #2
 3033 00f8 84F82020 		strb	r2, [r4, #32]
 3034 00fc A7E7     		b	.L80
 3035              	.L84:
  75:Application/ins_task.c ****         IMU_RequestData(&hcan2, 0x01, exo_controller.xzy_shoulder.dm_imu.send_reg);
 3036              		.loc 1 75 13 is_stmt 1 view .LVU1045
  75:Application/ins_task.c ****         IMU_RequestData(&hcan2, 0x01, exo_controller.xzy_shoulder.dm_imu.send_reg);
 3037              		.loc 1 75 57 is_stmt 0 view .LVU1046
 3038 00fe 1A4B     		ldr	r3, .L86+24
 3039 0100 0122     		movs	r2, #1
 3040 0102 83F82020 		strb	r2, [r3, #32]
 3041 0106 A2E7     		b	.L80
 3042              	.L85:
 3043              	.LBE12:
 105:Application/ins_task.c ****         if (GlobalDebugMode == IMU_HEAT_DEBUG)
 3044              		.loc 1 105 9 is_stmt 1 view .LVU1047
 3045 0108 FFF7FEFF 		bl	IMU_Temperature_Ctrl
 3046              	.LVL182:
 106:Application/ins_task.c ****             Serial_Debug(&huart1, 1, RefTemp, BMI088.Temperature, TempCtrl.Output / 1000.0f, TempCt
 3047              		.loc 1 106 9 view .LVU1048
 106:Application/ins_task.c ****             Serial_Debug(&huart1, 1, RefTemp, BMI088.Temperature, TempCtrl.Output / 1000.0f, TempCt
 3048              		.loc 1 106 29 is_stmt 0 view .LVU1049
 3049 010c 1A4B     		ldr	r3, .L86+40
 3050 010e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 106:Application/ins_task.c ****             Serial_Debug(&huart1, 1, RefTemp, BMI088.Temperature, TempCtrl.Output / 1000.0f, TempCt
 3051              		.loc 1 106 12 view .LVU1050
 3052 0110 052B     		cmp	r3, #5
 3053 0112 EAD1     		bne	.L81
 107:Application/ins_task.c ****     }
 3054              		.loc 1 107 13 is_stmt 1 view .LVU1051
 107:Application/ins_task.c ****     }
 3055              		.loc 1 107 75 is_stmt 0 view .LVU1052
 3056 0114 194B     		ldr	r3, .L86+44
 3057 0116 93ED0D1A 		vldr.32	s2, [r3, #52]
 107:Application/ins_task.c ****     }
 3058              		.loc 1 107 102 view .LVU1053
 3059 011a D3ED091A 		vldr.32	s3, [r3, #36]
 107:Application/ins_task.c ****     }
 3060              		.loc 1 107 127 view .LVU1054
 3061 011e 93ED0A2A 		vldr.32	s4, [r3, #40]
 107:Application/ins_task.c ****     }
 3062              		.loc 1 107 152 view .LVU1055
 3063 0122 D3ED0B2A 		vldr.32	s5, [r3, #44]
 107:Application/ins_task.c ****     }
 3064              		.loc 1 107 13 view .LVU1056
 3065 0126 DFED167A 		vldr.32	s15, .L86+48
 3066 012a C2EEA72A 		vdiv.f32	s5, s5, s15
 3067 012e 82EE272A 		vdiv.f32	s4, s4, s15
 3068 0132 C1EEA71A 		vdiv.f32	s3, s3, s15
 3069 0136 81EE271A 		vdiv.f32	s2, s2, s15
 3070 013a 094B     		ldr	r3, .L86+16
 3071 013c D3ED070A 		vldr.32	s1, [r3, #28]
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 79


 3072 0140 104B     		ldr	r3, .L86+52
 3073 0142 93ED000A 		vldr.32	s0, [r3]
 3074 0146 0121     		movs	r1, #1
 3075 0148 0F48     		ldr	r0, .L86+56
 3076 014a FFF7FEFF 		bl	Serial_Debug
 3077              	.LVL183:
 3078 014e CCE7     		b	.L81
 3079              	.L87:
 3080              		.align	2
 3081              	.L86:
 3082 0150 C3F51C41 		.word	1092416963
 3083 0154 00000000 		.word	.LANCHOR19
 3084 0158 00000000 		.word	.LANCHOR13
 3085 015c 00000000 		.word	.LANCHOR20
 3086 0160 00000000 		.word	BMI088
 3087 0164 E00B0000 		.word	exo_controller+3040
 3088 0168 00000000 		.word	exo_controller
 3089 016c 00000000 		.word	hcan2
 3090 0170 E12E6542 		.word	1113927393
 3091 0174 00000000 		.word	.LANCHOR21
 3092 0178 00000000 		.word	GlobalDebugMode
 3093 017c 00000000 		.word	.LANCHOR12
 3094 0180 00007A44 		.word	1148846080
 3095 0184 00000000 		.word	.LANCHOR22
 3096 0188 00000000 		.word	huart1
 3097              		.cfi_endproc
 3098              	.LFE172:
 3100              		.global	RefTemp
 3101              		.global	INS_DWT_Count
 3102              		.global	zb
 3103              		.global	yb
 3104              		.global	xb
 3105              		.global	gravity
 3106              		.global	TempCtrl
 3107              		.global	QuaternionBuffer
 3108              		.section	.bss.INS_DWT_Count,"aw",%nobits
 3109              		.align	2
 3110              		.set	.LANCHOR19,. + 0
 3113              	INS_DWT_Count:
 3114 0000 00000000 		.space	4
 3115              		.section	.bss.QuaternionBuffer,"aw",%nobits
 3116              		.align	2
 3117              		.set	.LANCHOR18,. + 0
 3120              	QuaternionBuffer:
 3121 0000 00000000 		.space	1604
 3121      00000000 
 3121      00000000 
 3121      00000000 
 3121      00000000 
 3122              		.section	.bss.TempCtrl,"aw",%nobits
 3123              		.align	3
 3124              		.set	.LANCHOR12,. + 0
 3127              	TempCtrl:
 3128 0000 00000000 		.space	184
 3128      00000000 
 3128      00000000 
 3128      00000000 
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 80


 3128      00000000 
 3129              		.section	.bss.c_11.8,"aw",%nobits
 3130              		.align	2
 3131              		.set	.LANCHOR3,. + 0
 3134              	c_11.8:
 3135 0000 00000000 		.space	4
 3136              		.section	.bss.c_12.7,"aw",%nobits
 3137              		.align	2
 3138              		.set	.LANCHOR4,. + 0
 3141              	c_12.7:
 3142 0000 00000000 		.space	4
 3143              		.section	.bss.c_13.6,"aw",%nobits
 3144              		.align	2
 3145              		.set	.LANCHOR5,. + 0
 3148              	c_13.6:
 3149 0000 00000000 		.space	4
 3150              		.section	.bss.c_21.5,"aw",%nobits
 3151              		.align	2
 3152              		.set	.LANCHOR6,. + 0
 3155              	c_21.5:
 3156 0000 00000000 		.space	4
 3157              		.section	.bss.c_22.4,"aw",%nobits
 3158              		.align	2
 3159              		.set	.LANCHOR7,. + 0
 3162              	c_22.4:
 3163 0000 00000000 		.space	4
 3164              		.section	.bss.c_23.3,"aw",%nobits
 3165              		.align	2
 3166              		.set	.LANCHOR8,. + 0
 3169              	c_23.3:
 3170 0000 00000000 		.space	4
 3171              		.section	.bss.c_31.2,"aw",%nobits
 3172              		.align	2
 3173              		.set	.LANCHOR9,. + 0
 3176              	c_31.2:
 3177 0000 00000000 		.space	4
 3178              		.section	.bss.c_32.1,"aw",%nobits
 3179              		.align	2
 3180              		.set	.LANCHOR10,. + 0
 3183              	c_32.1:
 3184 0000 00000000 		.space	4
 3185              		.section	.bss.c_33.0,"aw",%nobits
 3186              		.align	2
 3187              		.set	.LANCHOR11,. + 0
 3190              	c_33.0:
 3191 0000 00000000 		.space	4
 3192              		.section	.bss.count.12,"aw",%nobits
 3193              		.align	2
 3194              		.set	.LANCHOR21,. + 0
 3197              	count.12:
 3198 0000 00000000 		.space	4
 3199              		.section	.bss.dt,"aw",%nobits
 3200              		.align	2
 3201              		.set	.LANCHOR13,. + 0
 3204              	dt:
 3205 0000 00000000 		.space	4
 3206              		.section	.bss.lastPitchOffset.10,"aw",%nobits
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 81


 3207              		.align	2
 3208              		.set	.LANCHOR1,. + 0
 3211              	lastPitchOffset.10:
 3212 0000 00000000 		.space	4
 3213              		.section	.bss.lastRollOffset.9,"aw",%nobits
 3214              		.align	2
 3215              		.set	.LANCHOR2,. + 0
 3218              	lastRollOffset.9:
 3219 0000 00000000 		.space	4
 3220              		.section	.bss.lastYawOffset.11,"aw",%nobits
 3221              		.align	2
 3222              		.set	.LANCHOR0,. + 0
 3225              	lastYawOffset.11:
 3226 0000 00000000 		.space	4
 3227              		.section	.bss.t,"aw",%nobits
 3228              		.align	2
 3229              		.set	.LANCHOR20,. + 0
 3232              	t:
 3233 0000 00000000 		.space	4
 3234              		.section	.data.RefTemp,"aw"
 3235              		.align	2
 3236              		.set	.LANCHOR22,. + 0
 3239              	RefTemp:
 3240 0000 00002042 		.word	1109393408
 3241              		.section	.rodata.gravity,"a"
 3242              		.align	2
 3243              		.set	.LANCHOR17,. + 0
 3246              	gravity:
 3247 0000 00000000 		.word	0
 3248 0004 00000000 		.word	0
 3249 0008 C3F51C41 		.word	1092416963
 3250              		.section	.rodata.xb,"a"
 3251              		.align	2
 3252              		.set	.LANCHOR14,. + 0
 3255              	xb:
 3256 0000 0000803F 		.word	1065353216
 3257 0004 00000000 		.word	0
 3258 0008 00000000 		.word	0
 3259              		.section	.rodata.yb,"a"
 3260              		.align	2
 3261              		.set	.LANCHOR15,. + 0
 3264              	yb:
 3265 0000 00000000 		.word	0
 3266 0004 0000803F 		.word	1065353216
 3267 0008 00000000 		.word	0
 3268              		.section	.rodata.zb,"a"
 3269              		.align	2
 3270              		.set	.LANCHOR16,. + 0
 3273              	zb:
 3274 0000 00000000 		.word	0
 3275 0004 00000000 		.word	0
 3276 0008 0000803F 		.word	1065353216
 3277              		.text
 3278              	.Letext0:
 3279              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 3280              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 3281              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 82


 3282              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 3283              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 3284              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 3285              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 3286              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 3287              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 3288              		.file 11 "Core/Inc/can.h"
 3289              		.file 12 "Core/Inc/tim.h"
 3290              		.file 13 "Core/Inc/usart.h"
 3291              		.file 14 "Components/Devices/BMI088driver.h"
 3292              		.file 15 "Components/user_lib.h"
 3293              		.file 16 "Components/Algorithm/Include/arm_math.h"
 3294              		.file 17 "Components/Controller/controller.h"
 3295              		.file 18 "Application/motor.h"
 3296              		.file 19 "Application/ins_task.h"
 3297              		.file 20 "Components/Devices/dm_imu.h"
 3298              		.file 21 "Components/kalman_filter.h"
 3299              		.file 22 "Application/SSM_kinematics.h"
 3300              		.file 23 "Application/exo_dynamics.h"
 3301              		.file 24 "Application/exo_controller.h"
 3302              		.file 25 "Components/Algorithm/QuaternionEKF.h"
 3303              		.file 26 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\
 3304              		.file 27 "Bsp/bsp_PWM.h"
 3305              		.file 28 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 3306              		.file 29 "Bsp/bsp_dwt.h"
 3307              		.file 30 "Application/SerialDebug.h"
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 83


DEFINED SYMBOLS
                            *ABS*:00000000 ins_task.c
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:20     .text.quaternion_conjugate:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:25     .text.quaternion_conjugate:00000000 quaternion_conjugate
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:66     .text.quaternion_multiply:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:71     .text.quaternion_multiply:00000000 quaternion_multiply
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:217    .text.IMU_Param_Correction:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:222    .text.IMU_Param_Correction:00000000 IMU_Param_Correction
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:653    .text.IMU_Param_Correction:00000290 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:671    .text.INS_Init:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:677    .text.INS_Init:00000000 INS_Init
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:798    .text.INS_Init:000000cc $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:813    .text.QuaternionUpdate:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:819    .text.QuaternionUpdate:00000000 QuaternionUpdate
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:923    .text.QuaternionToEularAngle:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:929    .text.QuaternionToEularAngle:00000000 QuaternionToEularAngle
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:1056   .text.QuaternionToEularAngle:000000c8 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:1061   .text.EularAngleToQuaternion:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:1067   .text.EularAngleToQuaternion:00000000 EularAngleToQuaternion
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:1233   .text.EularAngleToQuaternion:000000c4 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:1238   .text.InsertQuaternionFrame:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:1244   .text.InsertQuaternionFrame:00000000 InsertQuaternionFrame
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:1351   .text.FindTimeMatchFrame:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:1357   .text.FindTimeMatchFrame:00000000 FindTimeMatchFrame
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:1458   .text.BodyFrameToEarthFrame:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:1464   .text.BodyFrameToEarthFrame:00000000 BodyFrameToEarthFrame
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:1626   .text.EarthFrameToBodyFrame:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:1632   .text.EarthFrameToBodyFrame:00000000 EarthFrameToBodyFrame
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:1794   .text.get_INS_from_imu2:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:1799   .text.get_INS_from_imu2:00000000 get_INS_from_imu2
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:2162   .text.get_INS_from_imu2:00000244 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:2177   .text.get_INS_from_imu:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:2182   .text.get_INS_from_imu:00000000 get_INS_from_imu
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:2551   .text.get_INS_from_imu:00000254 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:2566   .text.IMU_Temperature_Ctrl:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:2572   .text.IMU_Temperature_Ctrl:00000000 IMU_Temperature_Ctrl
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:2638   .text.IMU_Temperature_Ctrl:0000006c $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:2650   .text.get_shoulder_angles_wrt_torso:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:2656   .text.get_shoulder_angles_wrt_torso:00000000 get_shoulder_angles_wrt_torso
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:2840   .text.get_shoulder_angles_wrt_torso:000000e4 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:2847   .text.INS_Task:00000000 $t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:2853   .text.INS_Task:00000000 INS_Task
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3082   .text.INS_Task:00000150 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3239   .data.RefTemp:00000000 RefTemp
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3113   .bss.INS_DWT_Count:00000000 INS_DWT_Count
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3273   .rodata.zb:00000000 zb
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3264   .rodata.yb:00000000 yb
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3255   .rodata.xb:00000000 xb
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3246   .rodata.gravity:00000000 gravity
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3127   .bss.TempCtrl:00000000 TempCtrl
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3120   .bss.QuaternionBuffer:00000000 QuaternionBuffer
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3109   .bss.INS_DWT_Count:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3116   .bss.QuaternionBuffer:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3123   .bss.TempCtrl:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3130   .bss.c_11.8:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3134   .bss.c_11.8:00000000 c_11.8
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3137   .bss.c_12.7:00000000 $d
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 84


C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3141   .bss.c_12.7:00000000 c_12.7
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3144   .bss.c_13.6:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3148   .bss.c_13.6:00000000 c_13.6
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3151   .bss.c_21.5:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3155   .bss.c_21.5:00000000 c_21.5
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3158   .bss.c_22.4:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3162   .bss.c_22.4:00000000 c_22.4
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3165   .bss.c_23.3:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3169   .bss.c_23.3:00000000 c_23.3
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3172   .bss.c_31.2:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3176   .bss.c_31.2:00000000 c_31.2
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3179   .bss.c_32.1:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3183   .bss.c_32.1:00000000 c_32.1
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3186   .bss.c_33.0:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3190   .bss.c_33.0:00000000 c_33.0
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3193   .bss.count.12:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3197   .bss.count.12:00000000 count.12
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3200   .bss.dt:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3204   .bss.dt:00000000 dt
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3207   .bss.lastPitchOffset.10:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3211   .bss.lastPitchOffset.10:00000000 lastPitchOffset.10
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3214   .bss.lastRollOffset.9:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3218   .bss.lastRollOffset.9:00000000 lastRollOffset.9
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3221   .bss.lastYawOffset.11:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3225   .bss.lastYawOffset.11:00000000 lastYawOffset.11
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3228   .bss.t:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3232   .bss.t:00000000 t
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3235   .data.RefTemp:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3242   .rodata.gravity:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3251   .rodata.xb:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3260   .rodata.yb:00000000 $d
C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s:3269   .rodata.zb:00000000 $d

UNDEFINED SYMBOLS
arm_cos_f32
arm_sin_f32
BMI088_Read
IMU_RequestData
IMU_QuaternionEKF_Init
PID_Init
HAL_TIM_PWM_Start
BMI088
exo_controller
hcan2
htim10
atan2f
asinf
IMU_QuaternionEKF_Update
HAL_GetTick
QEKF_INS
float_constrain
PID_Calculate
float_rounding
TIM_Set_PWM
DWT_GetDeltaT
Serial_Debug
GlobalDebugMode
ARM GAS  C:\Users\86152\AppData\Local\Temp\ccIzsDeC.s 			page 85


huart1
