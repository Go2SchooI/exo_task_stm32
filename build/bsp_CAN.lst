ARM GAS  C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"bsp_CAN.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.CAN_Device_Init,"ax",%progbits
  20              		.align	1
  21              		.global	CAN_Device_Init
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	CAN_Device_Init:
  27              	.LFB171:
  28              		.file 1 "Bsp/bsp_CAN.c"
   1:Bsp/bsp_CAN.c **** #include "bsp_CAN.h"
   2:Bsp/bsp_CAN.c **** #include "exo_controller.h"
   3:Bsp/bsp_CAN.c **** 
   4:Bsp/bsp_CAN.c **** int16_t RM_CAN_Msg_0x200[4]; // ID 1~4
   5:Bsp/bsp_CAN.c **** int16_t RM_CAN_Msg_0x1FF[4]; // ID 5~8
   6:Bsp/bsp_CAN.c **** int16_t RM_CAN_Msg_0x2FF[3]; // ID 9~11
   7:Bsp/bsp_CAN.c **** 
   8:Bsp/bsp_CAN.c **** uint8_t rdata[8]; // CAN receive data buffer
   9:Bsp/bsp_CAN.c **** 
  10:Bsp/bsp_CAN.c **** /**
  11:Bsp/bsp_CAN.c ****  * @Func		CAN_Device_Init
  12:Bsp/bsp_CAN.c ****  * @Brief
  13:Bsp/bsp_CAN.c ****  * @Param		CAN_HandleTypeDef* hcan
  14:Bsp/bsp_CAN.c ****  * @Retval		None
  15:Bsp/bsp_CAN.c ****  * @Date       2019/11/4
  16:Bsp/bsp_CAN.c ****  **/
  17:Bsp/bsp_CAN.c **** void CAN_Device_Init(void)
  18:Bsp/bsp_CAN.c **** {
  29              		.loc 1 18 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 40
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 00B5     		push	{lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 14, -4
  37 0002 8BB0     		sub	sp, sp, #44
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 48
  19:Bsp/bsp_CAN.c ****     // ��ʼ��CAN������Ϊ������״̬ ��Ϊ��������
ARM GAS  C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s 			page 2


  20:Bsp/bsp_CAN.c ****     CAN_FilterTypeDef can_filter_st;
  40              		.loc 1 20 5 view .LVU1
  21:Bsp/bsp_CAN.c ****     can_filter_st.FilterActivation = ENABLE;
  41              		.loc 1 21 5 view .LVU2
  42              		.loc 1 21 36 is_stmt 0 view .LVU3
  43 0004 0122     		movs	r2, #1
  44 0006 0892     		str	r2, [sp, #32]
  22:Bsp/bsp_CAN.c ****     can_filter_st.FilterMode = CAN_FILTERMODE_IDMASK;
  45              		.loc 1 22 5 is_stmt 1 view .LVU4
  46              		.loc 1 22 30 is_stmt 0 view .LVU5
  47 0008 0023     		movs	r3, #0
  48 000a 0693     		str	r3, [sp, #24]
  23:Bsp/bsp_CAN.c ****     can_filter_st.FilterScale = CAN_FILTERSCALE_32BIT;
  49              		.loc 1 23 5 is_stmt 1 view .LVU6
  50              		.loc 1 23 31 is_stmt 0 view .LVU7
  51 000c 0792     		str	r2, [sp, #28]
  24:Bsp/bsp_CAN.c ****     can_filter_st.FilterIdHigh = 0x0000;
  52              		.loc 1 24 5 is_stmt 1 view .LVU8
  53              		.loc 1 24 32 is_stmt 0 view .LVU9
  54 000e 0093     		str	r3, [sp]
  25:Bsp/bsp_CAN.c ****     can_filter_st.FilterIdLow = 0x0000;
  55              		.loc 1 25 5 is_stmt 1 view .LVU10
  56              		.loc 1 25 31 is_stmt 0 view .LVU11
  57 0010 0193     		str	r3, [sp, #4]
  26:Bsp/bsp_CAN.c ****     can_filter_st.FilterMaskIdHigh = 0x0000;
  58              		.loc 1 26 5 is_stmt 1 view .LVU12
  59              		.loc 1 26 36 is_stmt 0 view .LVU13
  60 0012 0293     		str	r3, [sp, #8]
  27:Bsp/bsp_CAN.c ****     can_filter_st.FilterMaskIdLow = 0x0000;
  61              		.loc 1 27 5 is_stmt 1 view .LVU14
  62              		.loc 1 27 35 is_stmt 0 view .LVU15
  63 0014 0393     		str	r3, [sp, #12]
  28:Bsp/bsp_CAN.c ****     can_filter_st.FilterBank = 0;
  64              		.loc 1 28 5 is_stmt 1 view .LVU16
  65              		.loc 1 28 30 is_stmt 0 view .LVU17
  66 0016 0593     		str	r3, [sp, #20]
  29:Bsp/bsp_CAN.c ****     can_filter_st.FilterFIFOAssignment = CAN_RX_FIFO0;
  67              		.loc 1 29 5 is_stmt 1 view .LVU18
  68              		.loc 1 29 40 is_stmt 0 view .LVU19
  69 0018 0493     		str	r3, [sp, #16]
  30:Bsp/bsp_CAN.c ****     // CAN ��������ʼ��
  31:Bsp/bsp_CAN.c ****     while (HAL_CAN_ConfigFilter(&hcan1, &can_filter_st) != HAL_OK)
  70              		.loc 1 31 5 is_stmt 1 view .LVU20
  71              	.L2:
  32:Bsp/bsp_CAN.c ****     {
  33:Bsp/bsp_CAN.c ****     }
  72              		.loc 1 33 5 discriminator 1 view .LVU21
  31:Bsp/bsp_CAN.c ****     {
  73              		.loc 1 31 11 discriminator 1 view .LVU22
  31:Bsp/bsp_CAN.c ****     {
  74              		.loc 1 31 12 is_stmt 0 discriminator 1 view .LVU23
  75 001a 6946     		mov	r1, sp
  76 001c 1848     		ldr	r0, .L9
  77 001e FFF7FEFF 		bl	HAL_CAN_ConfigFilter
  78              	.LVL0:
  31:Bsp/bsp_CAN.c ****     {
  79              		.loc 1 31 11 discriminator 1 view .LVU24
ARM GAS  C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s 			page 3


  80 0022 0028     		cmp	r0, #0
  81 0024 F9D1     		bne	.L2
  34:Bsp/bsp_CAN.c ****     HAL_CAN_ConfigFilter(&hcan1, &can_filter_st);
  82              		.loc 1 34 5 is_stmt 1 view .LVU25
  83 0026 6946     		mov	r1, sp
  84 0028 1548     		ldr	r0, .L9
  85 002a FFF7FEFF 		bl	HAL_CAN_ConfigFilter
  86              	.LVL1:
  35:Bsp/bsp_CAN.c ****     // ����CAN
  36:Bsp/bsp_CAN.c ****     while (HAL_CAN_Start(&hcan1) != HAL_OK)
  87              		.loc 1 36 5 view .LVU26
  88              	.L3:
  37:Bsp/bsp_CAN.c ****     {
  38:Bsp/bsp_CAN.c ****     }
  89              		.loc 1 38 5 discriminator 1 view .LVU27
  36:Bsp/bsp_CAN.c ****     {
  90              		.loc 1 36 11 discriminator 1 view .LVU28
  36:Bsp/bsp_CAN.c ****     {
  91              		.loc 1 36 12 is_stmt 0 discriminator 1 view .LVU29
  92 002e 1448     		ldr	r0, .L9
  93 0030 FFF7FEFF 		bl	HAL_CAN_Start
  94              	.LVL2:
  36:Bsp/bsp_CAN.c ****     {
  95              		.loc 1 36 11 discriminator 1 view .LVU30
  96 0034 0028     		cmp	r0, #0
  97 0036 FAD1     		bne	.L3
  39:Bsp/bsp_CAN.c ****     HAL_CAN_Start(&hcan1);
  98              		.loc 1 39 5 is_stmt 1 view .LVU31
  99 0038 1148     		ldr	r0, .L9
 100 003a FFF7FEFF 		bl	HAL_CAN_Start
 101              	.LVL3:
  40:Bsp/bsp_CAN.c ****     // ����֪ͨ
  41:Bsp/bsp_CAN.c ****     while (HAL_CAN_ActivateNotification(&hcan1, CAN_IT_RX_FIFO0_MSG_PENDING) != HAL_OK)
 102              		.loc 1 41 5 view .LVU32
 103              	.L4:
  42:Bsp/bsp_CAN.c ****     {
  43:Bsp/bsp_CAN.c ****     }
 104              		.loc 1 43 5 discriminator 1 view .LVU33
  41:Bsp/bsp_CAN.c ****     {
 105              		.loc 1 41 11 discriminator 1 view .LVU34
  41:Bsp/bsp_CAN.c ****     {
 106              		.loc 1 41 12 is_stmt 0 discriminator 1 view .LVU35
 107 003e 0221     		movs	r1, #2
 108 0040 0F48     		ldr	r0, .L9
 109 0042 FFF7FEFF 		bl	HAL_CAN_ActivateNotification
 110              	.LVL4:
  41:Bsp/bsp_CAN.c ****     {
 111              		.loc 1 41 11 discriminator 1 view .LVU36
 112 0046 0028     		cmp	r0, #0
 113 0048 F9D1     		bne	.L4
  44:Bsp/bsp_CAN.c ****     HAL_CAN_ActivateNotification(&hcan1, CAN_IT_RX_FIFO0_MSG_PENDING);
 114              		.loc 1 44 5 is_stmt 1 view .LVU37
 115 004a 0221     		movs	r1, #2
 116 004c 0C48     		ldr	r0, .L9
 117 004e FFF7FEFF 		bl	HAL_CAN_ActivateNotification
 118              	.LVL5:
  45:Bsp/bsp_CAN.c **** 
ARM GAS  C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s 			page 4


  46:Bsp/bsp_CAN.c ****     can_filter_st.SlaveStartFilterBank = 14;
 119              		.loc 1 46 5 view .LVU38
 120              		.loc 1 46 40 is_stmt 0 view .LVU39
 121 0052 0E23     		movs	r3, #14
 122 0054 0993     		str	r3, [sp, #36]
  47:Bsp/bsp_CAN.c ****     can_filter_st.FilterBank = 14;
 123              		.loc 1 47 5 is_stmt 1 view .LVU40
 124              		.loc 1 47 30 is_stmt 0 view .LVU41
 125 0056 0593     		str	r3, [sp, #20]
  48:Bsp/bsp_CAN.c ****     // CAN ��������ʼ��
  49:Bsp/bsp_CAN.c ****     while (HAL_CAN_ConfigFilter(&hcan2, &can_filter_st) != HAL_OK)
 126              		.loc 1 49 5 is_stmt 1 view .LVU42
 127              	.L5:
  50:Bsp/bsp_CAN.c ****     {
  51:Bsp/bsp_CAN.c ****     }
 128              		.loc 1 51 5 discriminator 1 view .LVU43
  49:Bsp/bsp_CAN.c ****     {
 129              		.loc 1 49 11 discriminator 1 view .LVU44
  49:Bsp/bsp_CAN.c ****     {
 130              		.loc 1 49 12 is_stmt 0 discriminator 1 view .LVU45
 131 0058 6946     		mov	r1, sp
 132 005a 0A48     		ldr	r0, .L9+4
 133 005c FFF7FEFF 		bl	HAL_CAN_ConfigFilter
 134              	.LVL6:
  49:Bsp/bsp_CAN.c ****     {
 135              		.loc 1 49 11 discriminator 1 view .LVU46
 136 0060 0028     		cmp	r0, #0
 137 0062 F9D1     		bne	.L5
 138              	.L6:
  52:Bsp/bsp_CAN.c ****     // ����CAN
  53:Bsp/bsp_CAN.c ****     while (HAL_CAN_Start(&hcan2) != HAL_OK)
  54:Bsp/bsp_CAN.c ****     {
  55:Bsp/bsp_CAN.c ****     }
 139              		.loc 1 55 5 is_stmt 1 discriminator 1 view .LVU47
  53:Bsp/bsp_CAN.c ****     {
 140              		.loc 1 53 11 discriminator 1 view .LVU48
  53:Bsp/bsp_CAN.c ****     {
 141              		.loc 1 53 12 is_stmt 0 discriminator 1 view .LVU49
 142 0064 0748     		ldr	r0, .L9+4
 143 0066 FFF7FEFF 		bl	HAL_CAN_Start
 144              	.LVL7:
  53:Bsp/bsp_CAN.c ****     {
 145              		.loc 1 53 11 discriminator 1 view .LVU50
 146 006a 0028     		cmp	r0, #0
 147 006c FAD1     		bne	.L6
 148              	.L7:
  56:Bsp/bsp_CAN.c ****     // ����֪ͨ
  57:Bsp/bsp_CAN.c ****     while (HAL_CAN_ActivateNotification(&hcan2, CAN_IT_RX_FIFO0_MSG_PENDING) != HAL_OK)
  58:Bsp/bsp_CAN.c ****     {
  59:Bsp/bsp_CAN.c ****     }
 149              		.loc 1 59 5 is_stmt 1 discriminator 1 view .LVU51
  57:Bsp/bsp_CAN.c ****     {
 150              		.loc 1 57 11 discriminator 1 view .LVU52
  57:Bsp/bsp_CAN.c ****     {
 151              		.loc 1 57 12 is_stmt 0 discriminator 1 view .LVU53
 152 006e 0221     		movs	r1, #2
 153 0070 0448     		ldr	r0, .L9+4
ARM GAS  C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s 			page 5


 154 0072 FFF7FEFF 		bl	HAL_CAN_ActivateNotification
 155              	.LVL8:
  57:Bsp/bsp_CAN.c ****     {
 156              		.loc 1 57 11 discriminator 1 view .LVU54
 157 0076 0028     		cmp	r0, #0
 158 0078 F9D1     		bne	.L7
  60:Bsp/bsp_CAN.c **** }
 159              		.loc 1 60 1 view .LVU55
 160 007a 0BB0     		add	sp, sp, #44
 161              	.LCFI2:
 162              		.cfi_def_cfa_offset 4
 163              		@ sp needed
 164 007c 5DF804FB 		ldr	pc, [sp], #4
 165              	.L10:
 166              		.align	2
 167              	.L9:
 168 0080 00000000 		.word	hcan1
 169 0084 00000000 		.word	hcan2
 170              		.cfi_endproc
 171              	.LFE171:
 173              		.section	.text.HAL_CAN_RxFifo0MsgPendingCallback,"ax",%progbits
 174              		.align	1
 175              		.global	HAL_CAN_RxFifo0MsgPendingCallback
 176              		.syntax unified
 177              		.thumb
 178              		.thumb_func
 180              	HAL_CAN_RxFifo0MsgPendingCallback:
 181              	.LVL9:
 182              	.LFB172:
  61:Bsp/bsp_CAN.c **** 
  62:Bsp/bsp_CAN.c **** /**
  63:Bsp/bsp_CAN.c ****  * @Func	    void HAL_CAN_RxFifo0MsgPendingCallback(CAN_HandleTypeDef* _hcan)
  64:Bsp/bsp_CAN.c ****  * @Brief       This function is called when a message is pending in the Rx FIFO 0.
  65:Bsp/bsp_CAN.c ****  * @Param	    CAN_HandleTypeDef* _hcan
  66:Bsp/bsp_CAN.c ****  * @Retval	    None
  67:Bsp/bsp_CAN.c ****  * @Date       2019/11/4
  68:Bsp/bsp_CAN.c ****  **/
  69:Bsp/bsp_CAN.c **** void HAL_CAN_RxFifo0MsgPendingCallback(CAN_HandleTypeDef *_hcan)
  70:Bsp/bsp_CAN.c **** {
 183              		.loc 1 70 1 is_stmt 1 view -0
 184              		.cfi_startproc
 185              		@ args = 0, pretend = 0, frame = 40
 186              		@ frame_needed = 0, uses_anonymous_args = 0
 187              		.loc 1 70 1 is_stmt 0 view .LVU57
 188 0000 30B5     		push	{r4, r5, lr}
 189              	.LCFI3:
 190              		.cfi_def_cfa_offset 12
 191              		.cfi_offset 4, -12
 192              		.cfi_offset 5, -8
 193              		.cfi_offset 14, -4
 194 0002 8BB0     		sub	sp, sp, #44
 195              	.LCFI4:
 196              		.cfi_def_cfa_offset 56
 197 0004 0446     		mov	r4, r0
  71:Bsp/bsp_CAN.c ****     CAN_RxHeaderTypeDef rx_header;
 198              		.loc 1 71 5 is_stmt 1 view .LVU58
  72:Bsp/bsp_CAN.c ****     uint8_t rx_data[8];
ARM GAS  C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s 			page 6


 199              		.loc 1 72 5 view .LVU59
  73:Bsp/bsp_CAN.c **** 
  74:Bsp/bsp_CAN.c ****     HAL_CAN_GetRxMessage(_hcan, CAN_RX_FIFO0, &rx_header, rx_data);
 200              		.loc 1 74 5 view .LVU60
 201 0006 01AD     		add	r5, sp, #4
 202 0008 2B46     		mov	r3, r5
 203 000a 03AA     		add	r2, sp, #12
 204 000c 0021     		movs	r1, #0
 205 000e FFF7FEFF 		bl	HAL_CAN_GetRxMessage
 206              	.LVL10:
  75:Bsp/bsp_CAN.c ****     memcpy(rdata, rx_data, 8);
 207              		.loc 1 75 5 view .LVU61
 208 0012 364B     		ldr	r3, .L24
 209 0014 95E80300 		ldm	r5, {r0, r1}
 210 0018 83E80300 		stm	r3, {r0, r1}
  76:Bsp/bsp_CAN.c **** 
  77:Bsp/bsp_CAN.c ****     if (_hcan == &hcan1)
 211              		.loc 1 77 5 view .LVU62
 212              		.loc 1 77 8 is_stmt 0 view .LVU63
 213 001c 344B     		ldr	r3, .L24+4
 214 001e 9C42     		cmp	r4, r3
 215 0020 04D0     		beq	.L22
 216              	.L12:
  78:Bsp/bsp_CAN.c ****     {
  79:Bsp/bsp_CAN.c ****         switch (rx_header.StdId)
  80:Bsp/bsp_CAN.c ****         {
  81:Bsp/bsp_CAN.c ****         // case LK_DEVICE_STD_ID + 1:
  82:Bsp/bsp_CAN.c ****         //     if (exo_controller.xzy_shoulder.lk_motor.msg_cnt++ <= 50)
  83:Bsp/bsp_CAN.c ****         //         Get_LK_Offset(&exo_controller.xzy_shoulder.lk_motor, rx_data);
  84:Bsp/bsp_CAN.c ****         //     else
  85:Bsp/bsp_CAN.c ****         //         Get_LK_Info(&exo_controller.xzy_shoulder.lk_motor, rx_data);
  86:Bsp/bsp_CAN.c ****         //     break;
  87:Bsp/bsp_CAN.c ****         case DM_DEVICE_STD_ID + 1:
  88:Bsp/bsp_CAN.c ****             if (exo_controller.xzy_shoulder.dm_motor[0].msg_cnt++ <= 50)
  89:Bsp/bsp_CAN.c ****                 Get_DM_Offset(&exo_controller.xzy_shoulder.dm_motor[0], rx_data);
  90:Bsp/bsp_CAN.c ****             else
  91:Bsp/bsp_CAN.c ****                 Get_DM_Info(&exo_controller.xzy_shoulder.dm_motor[0], rx_data);
  92:Bsp/bsp_CAN.c ****             break;
  93:Bsp/bsp_CAN.c ****         case DM_DEVICE_STD_ID + 3:
  94:Bsp/bsp_CAN.c ****             if (exo_controller.xzy_shoulder.dm_motor[1].msg_cnt++ <= 50)
  95:Bsp/bsp_CAN.c ****                 Get_DM_Offset(&exo_controller.xzy_shoulder.dm_motor[1], rx_data);
  96:Bsp/bsp_CAN.c ****             else
  97:Bsp/bsp_CAN.c ****                 Get_DM_Info(&exo_controller.xzy_shoulder.dm_motor[1], rx_data);
  98:Bsp/bsp_CAN.c ****             break;
  99:Bsp/bsp_CAN.c ****         case DM_DEVICE_STD_ID + 2:
 100:Bsp/bsp_CAN.c ****             if (exo_controller.elbow.dm_motor.msg_cnt++ <= 50)
 101:Bsp/bsp_CAN.c ****                 Get_DM_Offset(&exo_controller.elbow.dm_motor, rx_data);
 102:Bsp/bsp_CAN.c ****             else
 103:Bsp/bsp_CAN.c ****                 Get_DM_Info(&exo_controller.elbow.dm_motor, rx_data);
 104:Bsp/bsp_CAN.c ****             break;
 105:Bsp/bsp_CAN.c ****         }
 106:Bsp/bsp_CAN.c ****     }
 107:Bsp/bsp_CAN.c **** 
 108:Bsp/bsp_CAN.c ****     if (_hcan == &hcan2)
 217              		.loc 1 108 5 is_stmt 1 view .LVU64
 218              		.loc 1 108 8 is_stmt 0 view .LVU65
 219 0022 344B     		ldr	r3, .L24+8
ARM GAS  C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s 			page 7


 220 0024 9C42     		cmp	r4, r3
 221 0026 41D0     		beq	.L23
 222              	.L11:
 109:Bsp/bsp_CAN.c ****     {
 110:Bsp/bsp_CAN.c ****         switch (rx_header.StdId)
 111:Bsp/bsp_CAN.c ****         {
 112:Bsp/bsp_CAN.c ****         case LK_DEVICE_STD_ID + 1:
 113:Bsp/bsp_CAN.c ****             if (exo_controller.xzy_shoulder.lk_motor.msg_cnt++ <= 50)
 114:Bsp/bsp_CAN.c ****                 Get_LK_Offset(&exo_controller.xzy_shoulder.lk_motor, rx_data);
 115:Bsp/bsp_CAN.c ****             else
 116:Bsp/bsp_CAN.c ****                 Get_LK_Info(&exo_controller.xzy_shoulder.lk_motor, rx_data);
 117:Bsp/bsp_CAN.c ****             break;
 118:Bsp/bsp_CAN.c ****         case 0x11:
 119:Bsp/bsp_CAN.c ****             IMU_UpdateData(&exo_controller.xzy_shoulder.dm_imu, rx_data);
 120:Bsp/bsp_CAN.c ****         }
 121:Bsp/bsp_CAN.c ****     }
 122:Bsp/bsp_CAN.c **** }
 223              		.loc 1 122 1 view .LVU66
 224 0028 0BB0     		add	sp, sp, #44
 225              	.LCFI5:
 226              		.cfi_remember_state
 227              		.cfi_def_cfa_offset 12
 228              		@ sp needed
 229 002a 30BD     		pop	{r4, r5, pc}
 230              	.LVL11:
 231              	.L22:
 232              	.LCFI6:
 233              		.cfi_restore_state
  79:Bsp/bsp_CAN.c ****         {
 234              		.loc 1 79 9 is_stmt 1 view .LVU67
  79:Bsp/bsp_CAN.c ****         {
 235              		.loc 1 79 26 is_stmt 0 view .LVU68
 236 002c 039B     		ldr	r3, [sp, #12]
  79:Bsp/bsp_CAN.c ****         {
 237              		.loc 1 79 9 view .LVU69
 238 002e 122B     		cmp	r3, #18
 239 0030 29D0     		beq	.L13
 240 0032 132B     		cmp	r3, #19
 241 0034 14D0     		beq	.L14
 242 0036 112B     		cmp	r3, #17
 243 0038 F3D1     		bne	.L12
  88:Bsp/bsp_CAN.c ****                 Get_DM_Offset(&exo_controller.xzy_shoulder.dm_motor[0], rx_data);
 244              		.loc 1 88 13 is_stmt 1 view .LVU70
  88:Bsp/bsp_CAN.c ****                 Get_DM_Offset(&exo_controller.xzy_shoulder.dm_motor[0], rx_data);
 245              		.loc 1 88 56 is_stmt 0 view .LVU71
 246 003a 2F4A     		ldr	r2, .L24+12
 247 003c D2F85834 		ldr	r3, [r2, #1112]
  88:Bsp/bsp_CAN.c ****                 Get_DM_Offset(&exo_controller.xzy_shoulder.dm_motor[0], rx_data);
 248              		.loc 1 88 64 view .LVU72
 249 0040 591C     		adds	r1, r3, #1
 250 0042 C2F85814 		str	r1, [r2, #1112]
  88:Bsp/bsp_CAN.c ****                 Get_DM_Offset(&exo_controller.xzy_shoulder.dm_motor[0], rx_data);
 251              		.loc 1 88 16 view .LVU73
 252 0046 322B     		cmp	r3, #50
 253 0048 05DC     		bgt	.L15
  89:Bsp/bsp_CAN.c ****             else
 254              		.loc 1 89 17 is_stmt 1 view .LVU74
ARM GAS  C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s 			page 8


 255 004a 2946     		mov	r1, r5
 256 004c 02F58060 		add	r0, r2, #1024
 257 0050 FFF7FEFF 		bl	Get_DM_Offset
 258              	.LVL12:
 259 0054 E5E7     		b	.L12
 260              	.L15:
  91:Bsp/bsp_CAN.c ****             break;
 261              		.loc 1 91 17 view .LVU75
 262 0056 01A9     		add	r1, sp, #4
 263 0058 2848     		ldr	r0, .L24+16
 264 005a FFF7FEFF 		bl	Get_DM_Info
 265              	.LVL13:
 266 005e E0E7     		b	.L12
 267              	.L14:
  94:Bsp/bsp_CAN.c ****                 Get_DM_Offset(&exo_controller.xzy_shoulder.dm_motor[1], rx_data);
 268              		.loc 1 94 13 view .LVU76
  94:Bsp/bsp_CAN.c ****                 Get_DM_Offset(&exo_controller.xzy_shoulder.dm_motor[1], rx_data);
 269              		.loc 1 94 56 is_stmt 0 view .LVU77
 270 0060 254A     		ldr	r2, .L24+12
 271 0062 D2F8F036 		ldr	r3, [r2, #1776]
  94:Bsp/bsp_CAN.c ****                 Get_DM_Offset(&exo_controller.xzy_shoulder.dm_motor[1], rx_data);
 272              		.loc 1 94 64 view .LVU78
 273 0066 591C     		adds	r1, r3, #1
 274 0068 C2F8F016 		str	r1, [r2, #1776]
  94:Bsp/bsp_CAN.c ****                 Get_DM_Offset(&exo_controller.xzy_shoulder.dm_motor[1], rx_data);
 275              		.loc 1 94 16 view .LVU79
 276 006c 322B     		cmp	r3, #50
 277 006e 05DC     		bgt	.L16
  95:Bsp/bsp_CAN.c ****             else
 278              		.loc 1 95 17 is_stmt 1 view .LVU80
 279 0070 01A9     		add	r1, sp, #4
 280 0072 02F5D360 		add	r0, r2, #1688
 281 0076 FFF7FEFF 		bl	Get_DM_Offset
 282              	.LVL14:
 283 007a D2E7     		b	.L12
 284              	.L16:
  97:Bsp/bsp_CAN.c ****             break;
 285              		.loc 1 97 17 view .LVU81
 286 007c 01A9     		add	r1, sp, #4
 287 007e 2048     		ldr	r0, .L24+20
 288 0080 FFF7FEFF 		bl	Get_DM_Info
 289              	.LVL15:
 290 0084 CDE7     		b	.L12
 291              	.L13:
 100:Bsp/bsp_CAN.c ****                 Get_DM_Offset(&exo_controller.elbow.dm_motor, rx_data);
 292              		.loc 1 100 13 view .LVU82
 100:Bsp/bsp_CAN.c ****                 Get_DM_Offset(&exo_controller.elbow.dm_motor, rx_data);
 293              		.loc 1 100 46 is_stmt 0 view .LVU83
 294 0086 1C4A     		ldr	r2, .L24+12
 295 0088 D2F88839 		ldr	r3, [r2, #2440]
 100:Bsp/bsp_CAN.c ****                 Get_DM_Offset(&exo_controller.elbow.dm_motor, rx_data);
 296              		.loc 1 100 54 view .LVU84
 297 008c 591C     		adds	r1, r3, #1
 298 008e C2F88819 		str	r1, [r2, #2440]
 100:Bsp/bsp_CAN.c ****                 Get_DM_Offset(&exo_controller.elbow.dm_motor, rx_data);
 299              		.loc 1 100 16 view .LVU85
 300 0092 322B     		cmp	r3, #50
ARM GAS  C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s 			page 9


 301 0094 05DC     		bgt	.L17
 101:Bsp/bsp_CAN.c ****             else
 302              		.loc 1 101 17 is_stmt 1 view .LVU86
 303 0096 01A9     		add	r1, sp, #4
 304 0098 02F51360 		add	r0, r2, #2352
 305 009c FFF7FEFF 		bl	Get_DM_Offset
 306              	.LVL16:
 307 00a0 BFE7     		b	.L12
 308              	.L17:
 103:Bsp/bsp_CAN.c ****             break;
 309              		.loc 1 103 17 view .LVU87
 310 00a2 01A9     		add	r1, sp, #4
 311 00a4 1748     		ldr	r0, .L24+24
 312 00a6 FFF7FEFF 		bl	Get_DM_Info
 313              	.LVL17:
 314 00aa BAE7     		b	.L12
 315              	.L23:
 110:Bsp/bsp_CAN.c ****         {
 316              		.loc 1 110 9 view .LVU88
 110:Bsp/bsp_CAN.c ****         {
 317              		.loc 1 110 26 is_stmt 0 view .LVU89
 318 00ac 039B     		ldr	r3, [sp, #12]
 110:Bsp/bsp_CAN.c ****         {
 319              		.loc 1 110 9 view .LVU90
 320 00ae 112B     		cmp	r3, #17
 321 00b0 16D0     		beq	.L19
 322 00b2 40F24112 		movw	r2, #321
 323 00b6 9342     		cmp	r3, r2
 324 00b8 B6D1     		bne	.L11
 113:Bsp/bsp_CAN.c ****                 Get_LK_Offset(&exo_controller.xzy_shoulder.lk_motor, rx_data);
 325              		.loc 1 113 13 is_stmt 1 view .LVU91
 113:Bsp/bsp_CAN.c ****                 Get_LK_Offset(&exo_controller.xzy_shoulder.lk_motor, rx_data);
 326              		.loc 1 113 53 is_stmt 0 view .LVU92
 327 00ba 0F4A     		ldr	r2, .L24+12
 328 00bc D2F8C031 		ldr	r3, [r2, #448]
 113:Bsp/bsp_CAN.c ****                 Get_LK_Offset(&exo_controller.xzy_shoulder.lk_motor, rx_data);
 329              		.loc 1 113 61 view .LVU93
 330 00c0 591C     		adds	r1, r3, #1
 331 00c2 C2F8C011 		str	r1, [r2, #448]
 113:Bsp/bsp_CAN.c ****                 Get_LK_Offset(&exo_controller.xzy_shoulder.lk_motor, rx_data);
 332              		.loc 1 113 16 view .LVU94
 333 00c6 322B     		cmp	r3, #50
 334 00c8 05DC     		bgt	.L20
 114:Bsp/bsp_CAN.c ****             else
 335              		.loc 1 114 17 is_stmt 1 view .LVU95
 336 00ca 01A9     		add	r1, sp, #4
 337 00cc 02F5B470 		add	r0, r2, #360
 338 00d0 FFF7FEFF 		bl	Get_LK_Offset
 339              	.LVL18:
 340 00d4 A8E7     		b	.L11
 341              	.L20:
 116:Bsp/bsp_CAN.c ****             break;
 342              		.loc 1 116 17 view .LVU96
 343 00d6 01A9     		add	r1, sp, #4
 344 00d8 0B48     		ldr	r0, .L24+28
 345 00da FFF7FEFF 		bl	Get_LK_Info
 346              	.LVL19:
ARM GAS  C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s 			page 10


 347 00de A3E7     		b	.L11
 348              	.L19:
 119:Bsp/bsp_CAN.c ****         }
 349              		.loc 1 119 13 view .LVU97
 350 00e0 01A9     		add	r1, sp, #4
 351 00e2 0A48     		ldr	r0, .L24+32
 352 00e4 FFF7FEFF 		bl	IMU_UpdateData
 353              	.LVL20:
 354              		.loc 1 122 1 is_stmt 0 view .LVU98
 355 00e8 9EE7     		b	.L11
 356              	.L25:
 357 00ea 00BF     		.align	2
 358              	.L24:
 359 00ec 00000000 		.word	.LANCHOR0
 360 00f0 00000000 		.word	hcan1
 361 00f4 00000000 		.word	hcan2
 362 00f8 00000000 		.word	exo_controller
 363 00fc 00040000 		.word	exo_controller+1024
 364 0100 98060000 		.word	exo_controller+1688
 365 0104 30090000 		.word	exo_controller+2352
 366 0108 68010000 		.word	exo_controller+360
 367 010c 20000000 		.word	exo_controller+32
 368              		.cfi_endproc
 369              	.LFE172:
 371              		.global	rdata
 372              		.global	RM_CAN_Msg_0x2FF
 373              		.global	RM_CAN_Msg_0x1FF
 374              		.global	RM_CAN_Msg_0x200
 375              		.section	.bss.RM_CAN_Msg_0x1FF,"aw",%nobits
 376              		.align	2
 379              	RM_CAN_Msg_0x1FF:
 380 0000 00000000 		.space	8
 380      00000000 
 381              		.section	.bss.RM_CAN_Msg_0x200,"aw",%nobits
 382              		.align	2
 385              	RM_CAN_Msg_0x200:
 386 0000 00000000 		.space	8
 386      00000000 
 387              		.section	.bss.RM_CAN_Msg_0x2FF,"aw",%nobits
 388              		.align	2
 391              	RM_CAN_Msg_0x2FF:
 392 0000 00000000 		.space	6
 392      0000
 393              		.section	.bss.rdata,"aw",%nobits
 394              		.align	2
 395              		.set	.LANCHOR0,. + 0
 398              	rdata:
 399 0000 00000000 		.space	8
 399      00000000 
 400              		.text
 401              	.Letext0:
 402              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 403              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 404              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 405              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 406              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 407              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
ARM GAS  C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s 			page 11


 408              		.file 8 "Core/Inc/can.h"
 409              		.file 9 "Components/user_lib.h"
 410              		.file 10 "Components/Algorithm/Include/arm_math.h"
 411              		.file 11 "Components/Controller/controller.h"
 412              		.file 12 "Application/motor.h"
 413              		.file 13 "Application/ins_task.h"
 414              		.file 14 "Components/Devices/dm_imu.h"
 415              		.file 15 "Application/SSM_kinematics.h"
 416              		.file 16 "Application/exo_dynamics.h"
 417              		.file 17 "Application/exo_controller.h"
ARM GAS  C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 bsp_CAN.c
C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s:20     .text.CAN_Device_Init:00000000 $t
C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s:26     .text.CAN_Device_Init:00000000 CAN_Device_Init
C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s:168    .text.CAN_Device_Init:00000080 $d
C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s:174    .text.HAL_CAN_RxFifo0MsgPendingCallback:00000000 $t
C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s:180    .text.HAL_CAN_RxFifo0MsgPendingCallback:00000000 HAL_CAN_RxFifo0MsgPendingCallback
C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s:359    .text.HAL_CAN_RxFifo0MsgPendingCallback:000000ec $d
C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s:398    .bss.rdata:00000000 rdata
C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s:391    .bss.RM_CAN_Msg_0x2FF:00000000 RM_CAN_Msg_0x2FF
C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s:379    .bss.RM_CAN_Msg_0x1FF:00000000 RM_CAN_Msg_0x1FF
C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s:385    .bss.RM_CAN_Msg_0x200:00000000 RM_CAN_Msg_0x200
C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s:376    .bss.RM_CAN_Msg_0x1FF:00000000 $d
C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s:382    .bss.RM_CAN_Msg_0x200:00000000 $d
C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s:388    .bss.RM_CAN_Msg_0x2FF:00000000 $d
C:\Users\86152\AppData\Local\Temp\cc5fJpXu.s:394    .bss.rdata:00000000 $d

UNDEFINED SYMBOLS
HAL_CAN_ConfigFilter
HAL_CAN_Start
HAL_CAN_ActivateNotification
hcan1
hcan2
HAL_CAN_GetRxMessage
Get_DM_Offset
Get_DM_Info
Get_LK_Offset
Get_LK_Info
IMU_UpdateData
exo_controller
